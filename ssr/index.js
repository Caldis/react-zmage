/*! For license information please see index.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("react-dom")):"function"==typeof define&&define.amd?define("react-zmage",["React","ReactDOM"],t):"object"==typeof exports?exports["react-zmage"]=t(require("react"),require("react-dom")):e["react-zmage"]=t(e.React,e.ReactDOM)}(self,(function(e,t){return(()=>{var n={184:(e,t)=>{var n;!function(){"use strict";var o={}.hasOwnProperty;function r(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var i=typeof n;if("string"===i||"number"===i)e.push(n);else if(Array.isArray(n)){if(n.length){var s=r.apply(null,n);s&&e.push(s)}}else if("object"===i)if(n.toString===Object.prototype.toString)for(var a in n)o.call(n,a)&&n[a]&&e.push(a);else e.push(n.toString())}}return e.join(" ")}e.exports?(r.default=r,e.exports=r):void 0===(n=function(){return r}.apply(t,[]))||(e.exports=n)}()},705:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var o=n(81),r=n.n(o),i=n(645),s=n.n(i)()(r());s.push([e.id,"/* 与 anim.ts 同步 */\n.backgroundLayer__Kfihy {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  cursor: zoom-out;\n  background-color: #ffffff;\n  transition: opacity 0.2s;\n  will-change: opacity;\n  -webkit-tap-highlight-color: transparent;\n}\n",""]),s.locals={backgroundLayer:"backgroundLayer__Kfihy"};const a=s},938:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var o=n(81),r=n.n(o),i=n(645),s=n.n(i)()(r());s.push([e.id,".wrapperLayer__IdC7n {\n  position: fixed;\n  margin: 0;\n  padding: 0;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  z-index: 999;\n}\n",""]),s.locals={wrapperLayer:"wrapperLayer__IdC7n"};const a=s},484:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var o=n(81),r=n.n(o),i=n(645),s=n.n(i)()(r());s.push([e.id,"/* 与 anim.ts 同步 */\n.baseButton__O7S8H {\n  z-index: 1000;\n  box-sizing: border-box;\n  cursor: pointer;\n}\n.baseButton__O7S8H > svg {\n  display: block;\n  width: 2rem;\n  height: 2rem;\n}\n.controls__m7fsl {\n  box-sizing: border-box;\n  position: absolute;\n  top: 0.6rem;\n  right: 0.6rem;\n  opacity: 0;\n  display: flex;\n  z-index: 1000;\n  border-radius: 5rem;\n  transform: translateX(100%);\n  transition: transform 350ms cubic-bezier(0.6, 0, 0.1, 1), opacity 350ms;\n}\n.controls__m7fsl.show__uvZjj {\n  opacity: 0.8;\n  transform: translateX(0);\n}\n.controls__m7fsl .pinButton__izuOw {\n  z-index: 1000;\n  box-sizing: border-box;\n  cursor: pointer;\n  margin: 0.4em 0;\n  width: 2rem;\n  height: 2rem;\n  transition: transform 175ms cubic-bezier(0.6, 0, 0.1, 1), opacity 350ms cubic-bezier(0.6, 0, 0.1, 1);\n}\n.controls__m7fsl .pinButton__izuOw > svg {\n  display: block;\n  width: 2rem;\n  height: 2rem;\n}\n.controls__m7fsl .pinButton__izuOw:hover {\n  opacity: 0.8 !important;\n  transform: scale(1.1) !important;\n}\n.controls__m7fsl .pinButton__izuOw:active {\n  opacity: 1 !important;\n  transform: scale(1) !important;\n}\n.controls__m7fsl .pinButton__izuOw:first-of-type {\n  margin-left: 0.4rem;\n}\n.controls__m7fsl .pinButton__izuOw:last-of-type {\n  margin-right: 0.4rem;\n}\n.controls__m7fsl .rotate__smkLX {\n  z-index: 1000;\n  box-sizing: border-box;\n  cursor: pointer;\n  margin: 0.4em 0;\n  width: 2rem;\n  height: 2rem;\n  transition: transform 175ms cubic-bezier(0.6, 0, 0.1, 1), opacity 350ms cubic-bezier(0.6, 0, 0.1, 1);\n}\n.controls__m7fsl .rotate__smkLX > svg {\n  display: block;\n  width: 2rem;\n  height: 2rem;\n}\n.controls__m7fsl .rotate__smkLX:hover {\n  opacity: 0.8 !important;\n  transform: scale(1.1) !important;\n}\n.controls__m7fsl .rotate__smkLX:active {\n  opacity: 1 !important;\n  transform: scale(1) !important;\n}\n.controls__m7fsl .rotate__smkLX:first-of-type {\n  margin-left: 0.4rem;\n}\n.controls__m7fsl .rotate__smkLX:last-of-type {\n  margin-right: 0.4rem;\n}\n.controls__m7fsl .rotate__smkLX svg {\n  width: 1.75rem;\n  transition: transform 350ms cubic-bezier(0.6, 0, 0.1, 1);\n}\n.controls__m7fsl .rotateLeft__Mqz2P {\n  z-index: 1000;\n  box-sizing: border-box;\n  cursor: pointer;\n  margin: 0.4em 0;\n  width: 2rem;\n  height: 2rem;\n  transition: transform 175ms cubic-bezier(0.6, 0, 0.1, 1), opacity 350ms cubic-bezier(0.6, 0, 0.1, 1);\n}\n.controls__m7fsl .rotateLeft__Mqz2P > svg {\n  display: block;\n  width: 2rem;\n  height: 2rem;\n}\n.controls__m7fsl .rotateLeft__Mqz2P:hover {\n  opacity: 0.8 !important;\n  transform: scale(1.1) !important;\n}\n.controls__m7fsl .rotateLeft__Mqz2P:active {\n  opacity: 1 !important;\n  transform: scale(1) !important;\n}\n.controls__m7fsl .rotateLeft__Mqz2P:first-of-type {\n  margin-left: 0.4rem;\n}\n.controls__m7fsl .rotateLeft__Mqz2P:last-of-type {\n  margin-right: 0.4rem;\n}\n.controls__m7fsl .rotateLeft__Mqz2P svg {\n  width: 1.75rem;\n  transition: transform 350ms cubic-bezier(0.6, 0, 0.1, 1);\n}\n.controls__m7fsl .rotateLeft__Mqz2P:hover svg {\n  transform: rotate(-30deg);\n}\n.controls__m7fsl .rotateRight__qC7ag {\n  z-index: 1000;\n  box-sizing: border-box;\n  cursor: pointer;\n  margin: 0.4em 0;\n  width: 2rem;\n  height: 2rem;\n  transition: transform 175ms cubic-bezier(0.6, 0, 0.1, 1), opacity 350ms cubic-bezier(0.6, 0, 0.1, 1);\n}\n.controls__m7fsl .rotateRight__qC7ag > svg {\n  display: block;\n  width: 2rem;\n  height: 2rem;\n}\n.controls__m7fsl .rotateRight__qC7ag:hover {\n  opacity: 0.8 !important;\n  transform: scale(1.1) !important;\n}\n.controls__m7fsl .rotateRight__qC7ag:active {\n  opacity: 1 !important;\n  transform: scale(1) !important;\n}\n.controls__m7fsl .rotateRight__qC7ag:first-of-type {\n  margin-left: 0.4rem;\n}\n.controls__m7fsl .rotateRight__qC7ag:last-of-type {\n  margin-right: 0.4rem;\n}\n.controls__m7fsl .rotateRight__qC7ag svg {\n  width: 1.75rem;\n  transition: transform 350ms cubic-bezier(0.6, 0, 0.1, 1);\n}\n.controls__m7fsl .rotateRight__qC7ag:hover svg {\n  transform: rotate(30deg);\n}\n.controls__m7fsl .download__c7LhS {\n  z-index: 1000;\n  box-sizing: border-box;\n  cursor: pointer;\n  margin: 0.4em 0;\n  width: 2rem;\n  height: 2rem;\n  transition: transform 175ms cubic-bezier(0.6, 0, 0.1, 1), opacity 350ms cubic-bezier(0.6, 0, 0.1, 1);\n}\n.controls__m7fsl .download__c7LhS > svg {\n  display: block;\n  width: 2rem;\n  height: 2rem;\n}\n.controls__m7fsl .download__c7LhS:hover {\n  opacity: 0.8 !important;\n  transform: scale(1.1) !important;\n}\n.controls__m7fsl .download__c7LhS:active {\n  opacity: 1 !important;\n  transform: scale(1) !important;\n}\n.controls__m7fsl .download__c7LhS:first-of-type {\n  margin-left: 0.4rem;\n}\n.controls__m7fsl .download__c7LhS:last-of-type {\n  margin-right: 0.4rem;\n}\n.controls__m7fsl .download__c7LhS svg {\n  margin-top: -0.06rem;\n  width: 1.75rem;\n}\n.controls__m7fsl .zoom__ROG7Q {\n  z-index: 1000;\n  box-sizing: border-box;\n  cursor: pointer;\n  margin: 0.4em 0;\n  width: 2rem;\n  height: 2rem;\n  transition: transform 175ms cubic-bezier(0.6, 0, 0.1, 1), opacity 350ms cubic-bezier(0.6, 0, 0.1, 1);\n}\n.controls__m7fsl .zoom__ROG7Q > svg {\n  display: block;\n  width: 2rem;\n  height: 2rem;\n}\n.controls__m7fsl .zoom__ROG7Q:hover {\n  opacity: 0.8 !important;\n  transform: scale(1.1) !important;\n}\n.controls__m7fsl .zoom__ROG7Q:active {\n  opacity: 1 !important;\n  transform: scale(1) !important;\n}\n.controls__m7fsl .zoom__ROG7Q:first-of-type {\n  margin-left: 0.4rem;\n}\n.controls__m7fsl .zoom__ROG7Q:last-of-type {\n  margin-right: 0.4rem;\n}\n.controls__m7fsl .close__Um6Sx {\n  z-index: 1000;\n  box-sizing: border-box;\n  cursor: pointer;\n  margin: 0.4em 0;\n  width: 2rem;\n  height: 2rem;\n  transition: transform 175ms cubic-bezier(0.6, 0, 0.1, 1), opacity 350ms cubic-bezier(0.6, 0, 0.1, 1);\n}\n.controls__m7fsl .close__Um6Sx > svg {\n  display: block;\n  width: 2rem;\n  height: 2rem;\n}\n.controls__m7fsl .close__Um6Sx:hover {\n  opacity: 0.8 !important;\n  transform: scale(1.1) !important;\n}\n.controls__m7fsl .close__Um6Sx:active {\n  opacity: 1 !important;\n  transform: scale(1) !important;\n}\n.controls__m7fsl .close__Um6Sx:first-of-type {\n  margin-left: 0.4rem;\n}\n.controls__m7fsl .close__Um6Sx:last-of-type {\n  margin-right: 0.4rem;\n}\n.sideButton__owOAJ {\n  z-index: 1000;\n  box-sizing: border-box;\n  cursor: pointer;\n  opacity: 0;\n  position: absolute;\n  top: 50%;\n  padding: 0.4rem;\n  transition: transform 350ms cubic-bezier(0.6, 0, 0.1, 1), opacity 350ms cubic-bezier(0.6, 0, 0.1, 1);\n}\n.sideButton__owOAJ > svg {\n  display: block;\n  width: 2rem;\n  height: 2rem;\n}\n.sideButton__owOAJ:hover {\n  opacity: 0.8 !important;\n  transform: translateX(0) translateY(-50%) !important;\n}\n.sideButton__owOAJ:active {\n  opacity: 1 !important;\n}\n.sideButton__owOAJ.show__uvZjj {\n  opacity: 0.8;\n}\n.flipLeft__clOXA {\n  z-index: 1000;\n  box-sizing: border-box;\n  cursor: pointer;\n  opacity: 0;\n  position: absolute;\n  top: 50%;\n  padding: 0.4rem;\n  transition: transform 350ms cubic-bezier(0.6, 0, 0.1, 1), opacity 350ms cubic-bezier(0.6, 0, 0.1, 1);\n  left: 0;\n  padding-left: 0.6rem;\n  border-radius: 0 0.5em 0.5em 0;\n  transform: translateX(-100%) translateY(-50%);\n}\n.flipLeft__clOXA > svg {\n  display: block;\n  width: 2rem;\n  height: 2rem;\n}\n.flipLeft__clOXA:hover {\n  opacity: 0.8 !important;\n  transform: translateX(0) translateY(-50%) !important;\n}\n.flipLeft__clOXA:active {\n  opacity: 1 !important;\n}\n.flipLeft__clOXA.show__uvZjj {\n  opacity: 0.8;\n}\n.flipLeft__clOXA:active {\n  transform: translate(-0.2em) translateY(-50%) !important;\n}\n.flipLeft__clOXA.show__uvZjj {\n  opacity: 0.8;\n  transform: translate(-0.2em) translateY(-50%);\n}\n.flipRight__YgJYU {\n  z-index: 1000;\n  box-sizing: border-box;\n  cursor: pointer;\n  opacity: 0;\n  position: absolute;\n  top: 50%;\n  padding: 0.4rem;\n  transition: transform 350ms cubic-bezier(0.6, 0, 0.1, 1), opacity 350ms cubic-bezier(0.6, 0, 0.1, 1);\n  right: 0;\n  padding-right: 0.6rem;\n  border-radius: 0.5rem 0 0 0.5rem;\n  transform: translateX(100%) translateY(-50%);\n}\n.flipRight__YgJYU > svg {\n  display: block;\n  width: 2rem;\n  height: 2rem;\n}\n.flipRight__YgJYU:hover {\n  opacity: 0.8 !important;\n  transform: translateX(0) translateY(-50%) !important;\n}\n.flipRight__YgJYU:active {\n  opacity: 1 !important;\n}\n.flipRight__YgJYU.show__uvZjj {\n  opacity: 0.8;\n}\n.flipRight__YgJYU:active {\n  transform: translate(0.2em) translateY(-50%) !important;\n}\n.flipRight__YgJYU.show__uvZjj {\n  opacity: 0.8;\n  transform: translate(0.2em) translateY(-50%);\n}\n.pages__a2yV9 {\n  box-sizing: border-box;\n  display: flex;\n  position: absolute;\n  left: 50%;\n  bottom: 0.6rem;\n  z-index: 110;\n  opacity: 0;\n  border-radius: 2rem;\n  transform: translate(-50%, 100px);\n  transition: transform 350ms cubic-bezier(0.6, 0, 0.1, 1), opacity 350ms cubic-bezier(0.6, 0, 0.1, 1);\n}\n.pages__a2yV9.show__uvZjj {\n  opacity: 0.8;\n  transform: translate(-50%, 0);\n}\n.pages__a2yV9.mobile__MgSky {\n  bottom: 2rem;\n}\n.pages__a2yV9 .dot__qxVeW {\n  cursor: pointer;\n  margin: 0.45rem 0.25rem;\n  display: block;\n  width: 0.6rem;\n  height: 0.6rem;\n  border-radius: 1.2rem;\n  background: black;\n  transition: transform 350ms cubic-bezier(0.6, 0, 0.1, 1), opacity 350ms cubic-bezier(0.6, 0, 0.1, 1), width 350ms cubic-bezier(0.6, 0, 0.1, 1);\n}\n.pages__a2yV9 .dot__qxVeW:first-of-type {\n  margin-left: 0.6rem;\n}\n.pages__a2yV9 .dot__qxVeW:last-of-type {\n  margin-right: 0.6rem;\n}\n.pages__a2yV9 .blackDot__jdn0s {\n  cursor: pointer;\n  margin: 0.45rem 0.25rem;\n  display: block;\n  width: 0.6rem;\n  height: 0.6rem;\n  border-radius: 1.2rem;\n  transition: transform 350ms cubic-bezier(0.6, 0, 0.1, 1), opacity 350ms cubic-bezier(0.6, 0, 0.1, 1), width 350ms cubic-bezier(0.6, 0, 0.1, 1);\n  cursor: initial;\n  width: 1rem;\n  background: black;\n}\n.pages__a2yV9 .blackDot__jdn0s:first-of-type {\n  margin-left: 0.6rem;\n}\n.pages__a2yV9 .blackDot__jdn0s:last-of-type {\n  margin-right: 0.6rem;\n}\n.pages__a2yV9 .whiteDot__ZKI63 {\n  cursor: pointer;\n  margin: 0.45rem 0.25rem;\n  display: block;\n  width: 0.6rem;\n  height: 0.6rem;\n  border-radius: 1.2rem;\n  background: black;\n  transition: transform 350ms cubic-bezier(0.6, 0, 0.1, 1), opacity 350ms cubic-bezier(0.6, 0, 0.1, 1), width 350ms cubic-bezier(0.6, 0, 0.1, 1);\n  background: #999;\n}\n.pages__a2yV9 .whiteDot__ZKI63:first-of-type {\n  margin-left: 0.6rem;\n}\n.pages__a2yV9 .whiteDot__ZKI63:last-of-type {\n  margin-right: 0.6rem;\n}\n.pages__a2yV9 .whiteDot__ZKI63:hover {\n  opacity: 0.8 !important;\n  transform: scale(1.1) !important;\n}\n.pages__a2yV9 .whiteDot__ZKI63:active {\n  opacity: 1 !important;\n  transform: scale(1) !important;\n}\n",""]),s.locals={baseButton:"baseButton__O7S8H",controls:"controls__m7fsl",show:"show__uvZjj",pinButton:"pinButton__izuOw",rotate:"rotate__smkLX",rotateLeft:"rotateLeft__Mqz2P",rotateRight:"rotateRight__qC7ag",download:"download__c7LhS",zoom:"zoom__ROG7Q",close:"close__Um6Sx",sideButton:"sideButton__owOAJ",flipLeft:"flipLeft__clOXA",flipRight:"flipRight__YgJYU",pages:"pages__a2yV9",mobile:"mobile__MgSky",dot:"dot__qxVeW",blackDot:"blackDot__jdn0s",whiteDot:"whiteDot__ZKI63"};const a=s},793:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var o=n(81),r=n.n(o),i=n(645),s=n.n(i)()(r());s.push([e.id,"/* 与 anim.ts 同步 */\n.imageLayer__DMkEt {\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n  transition: transform 350ms cubic-bezier(0.6, 0, 0.1, 1), opacity 350ms cubic-bezier(0.6, 0, 0.1, 1), -webkit-clip-path 350ms cubic-bezier(0.6, 0, 0.1, 1);\n  transition: transform 350ms cubic-bezier(0.6, 0, 0.1, 1), opacity 350ms cubic-bezier(0.6, 0, 0.1, 1), clip-path 350ms cubic-bezier(0.6, 0, 0.1, 1);\n  transition: transform 350ms cubic-bezier(0.6, 0, 0.1, 1), opacity 350ms cubic-bezier(0.6, 0, 0.1, 1), clip-path 350ms cubic-bezier(0.6, 0, 0.1, 1), -webkit-clip-path 350ms cubic-bezier(0.6, 0, 0.1, 1);\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  will-change: transform, top, opacity, clip-path;\n}\n.imageLayer__DMkEt.zooming__IAC0k {\n  transition-timing-function: cubic-bezier(0, 0.1, 0.1, 1);\n  -ms-transition-duration: 0ms;\n}\n.imageLayer__DMkEt.invalidate__r_MaB {\n  opacity: 0 !important;\n  pointer-events: none;\n}\n",""]),s.locals={imageLayer:"imageLayer__DMkEt",zooming:"zooming__IAC0k",invalidate:"invalidate__r_MaB"};const a=s},304:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var o=n(81),r=n.n(o),i=n(645),s=n.n(i)()(r());s.push([e.id,"/* 与 anim.ts 同步 */\n.loadingContainer__pi0Cb {\n  -webkit-user-select: none;\n     -moz-user-select: none;\n      -ms-user-select: none;\n          user-select: none;\n  position: absolute;\n  left: 50%;\n  top: 50%;\n  opacity: 0;\n  transition: opacity cubic-bezier(0.6, 0, 0.1, 1) 175ms;\n}\n.loadingContainer__pi0Cb.show__Rllgu {\n  opacity: 1;\n}\n.loadingContainer__pi0Cb .reload__ilkl2 {\n  border: 2px solid;\n  border-radius: 5px;\n  font-size: 1rem;\n  padding: 0.5rem;\n  cursor: pointer;\n  outline: none;\n  transform: translate(-50%, -50%);\n}\n.loadingContainer__pi0Cb .reload__ilkl2:hover {\n  opacity: 0.8;\n}\n.loadingContainer__pi0Cb .reload__ilkl2:hover svg {\n  transform: rotate(30deg);\n}\n.loadingContainer__pi0Cb .reload__ilkl2:active {\n  opacity: 1;\n}\n.loadingContainer__pi0Cb .reload__ilkl2 svg {\n  display: block;\n  transition: transform 350ms cubic-bezier(0.6, 0, 0.1, 1);\n}\n.loadingContainer__pi0Cb .loading__GZD48 {\n  width: 24px;\n  height: 24px;\n  transform: translate(-50%, -50%);\n  -webkit-animation: spin__vHJHs 1s linear infinite;\n          animation: spin__vHJHs 1s linear infinite;\n}\n@-webkit-keyframes fadeIn__dNn7A {\n  0% {\n    opacity: 0;\n  }\n  50% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n@keyframes fadeIn__dNn7A {\n  0% {\n    opacity: 0;\n  }\n  50% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 1;\n  }\n}\n@-webkit-keyframes fadeOut__nx_sf {\n  0% {\n    opacity: 1;\n  }\n  50% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 0;\n  }\n}\n@keyframes fadeOut__nx_sf {\n  0% {\n    opacity: 1;\n  }\n  50% {\n    opacity: 0;\n  }\n  100% {\n    opacity: 0;\n  }\n}\n@-webkit-keyframes spin__vHJHs {\n  0% {\n    transform: translate(-50%, -50%) rotate(0deg);\n  }\n  100% {\n    transform: translate(-50%, -50%) rotate(360deg);\n  }\n}\n@keyframes spin__vHJHs {\n  0% {\n    transform: translate(-50%, -50%) rotate(0deg);\n  }\n  100% {\n    transform: translate(-50%, -50%) rotate(360deg);\n  }\n}\n",""]),s.locals={loadingContainer:"loadingContainer__pi0Cb",show:"show__Rllgu",reload:"reload__ilkl2",loading:"loading__GZD48",spin:"spin__vHJHs",fadeIn:"fadeIn__dNn7A",fadeOut:"fadeOut__nx_sf"};const a=s},645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",o=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),o&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),o&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,o,r,i){"string"==typeof e&&(e=[[null,e,void 0]]);var s={};if(o)for(var a=0;a<this.length;a++){var c=this[a][0];null!=c&&(s[c]=!0)}for(var l=0;l<e.length;l++){var m=[].concat(e[l]);o&&s[m[0]]||(void 0!==i&&(void 0===m[5]||(m[1]="@layer".concat(m[5].length>0?" ".concat(m[5]):""," {").concat(m[1],"}")),m[5]=i),n&&(m[2]?(m[1]="@media ".concat(m[2]," {").concat(m[1],"}"),m[2]=n):m[2]=n),r&&(m[4]?(m[1]="@supports (".concat(m[4],") {").concat(m[1],"}"),m[4]=r):m[4]="".concat(r)),t.push(m))}},t}},81:e=>{"use strict";e.exports=function(e){return e[1]}},379:e=>{"use strict";var t=[];function n(e){for(var n=-1,o=0;o<t.length;o++)if(t[o].identifier===e){n=o;break}return n}function o(e,o){for(var i={},s=[],a=0;a<e.length;a++){var c=e[a],l=o.base?c[0]+o.base:c[0],m=i[l]||0,d="".concat(l," ").concat(m);i[l]=m+1;var h=n(d),p={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==h)t[h].references++,t[h].updater(p);else{var u=r(p,o);o.byIndex=a,t.splice(a,0,{identifier:d,updater:u,references:1})}s.push(d)}return s}function r(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,r){var i=o(e=e||[],r=r||{});return function(e){e=e||[];for(var s=0;s<i.length;s++){var a=n(i[s]);t[a].references--}for(var c=o(e,r),l=0;l<i.length;l++){var m=n(i[l]);0===t[m].references&&(t[m].updater(),t.splice(m,1))}i=c}}},569:e=>{"use strict";var t={};e.exports=function(e,n){var o=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(n)}},216:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},795:e=>{"use strict";e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var o="";n.supports&&(o+="@supports (".concat(n.supports,") {")),n.media&&(o+="@media ".concat(n.media," {"));var r=void 0!==n.layer;r&&(o+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),o+=n.css,r&&(o+="}"),n.media&&(o+="}"),n.supports&&(o+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(o,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},524:t=>{"use strict";t.exports=e},284:e=>{"use strict";e.exports=t}},o={};function r(e){var t=o[e];if(void 0!==t)return t.exports;var i=o[e]={id:e,exports:{}};return n[e](i,i.exports,r),i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};return(()=>{"use strict";r.r(i),r.d(i,{default:()=>Ae});var e=r(524),t=r.n(e),n=r(284),o=r.n(n),s=r(379),a=r.n(s),c=r(795),l=r.n(c),m=r(569),d=r.n(m),h=r(565),p=r.n(h),u=r(216),g=r.n(u),f=r(589),_=r.n(f),b=r(938),v={};v.styleTagTransform=_(),v.setAttributes=p(),v.insert=d().bind(null,"head"),v.domAPI=l(),v.insertStyleElement=g(),a()(b.Z,v);const y=b.Z&&b.Z.locals?b.Z.locals:void 0;function w({id:t,target:n,zIndex:r,className:i,children:s}){const[a]=(0,e.useState)(n||document.body),[c]=(0,e.useState)((()=>{const e=document.createElement("figure");return t&&(e.id=t),i&&(e.className=i),r&&(e.style.zIndex=String(r)),null==a||a.appendChild(e),e}));return(0,e.useEffect)((()=>()=>{null==a||a.removeChild(c)}),[]),o().createPortal(s,c)}var x=r(184),z=r.n(x),O=r(484),E={};E.styleTagTransform=_(),E.setAttributes=p(),E.insert=d().bind(null,"head"),E.domAPI=l(),E.insertStyleElement=g(),a()(O.Z,E);const I=O.Z&&O.Z.locals?O.Z.locals:void 0,C=({color:e})=>t().createElement("svg",{fill:e,width:"24",height:"24",viewBox:"0 0 24 24"},t().createElement("path",{d:"M14.71 15.88L10.83 12l3.88-3.88c.39-.39.39-1.02 0-1.41-.39-.39-1.02-.39-1.41 0L8.71 11.3c-.39.39-.39 1.02 0 1.41l4.59 4.59c.39.39 1.02.39 1.41 0 .38-.39.39-1.03 0-1.42z"})),L=({color:e})=>t().createElement("svg",{fill:e,width:"24",height:"24",viewBox:"0 0 24 24"},t().createElement("path",{d:"M9.29 15.88L13.17 12 9.29 8.12c-.39-.39-.39-1.02 0-1.41.39-.39 1.02-.39 1.41 0l4.59 4.59c.39.39.39 1.02 0 1.41L10.7 17.3c-.39.39-1.02.39-1.41 0-.38-.39-.39-1.03 0-1.42z"})),S=({color:e})=>t().createElement("svg",{fill:e,width:"24",height:"24",viewBox:"0 0 24 24"},t().createElement("path",{d:"M18.3 5.71c-.39-.39-1.02-.39-1.41 0L12 10.59 7.11 5.7c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41L10.59 12 5.7 16.89c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L12 13.41l4.89 4.89c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"})),P=({color:e})=>t().createElement("svg",{fill:e,width:"24",height:"24",viewBox:"0 0 24 24"},t().createElement("path",{d:"M19 13v5c0 .55-.45 1-1 1H6c-.55 0-1-.45-1-1v-5c0-.55-.45-1-1-1s-1 .45-1 1v6c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-6c0-.55-.45-1-1-1s-1 .45-1 1zm-6-.33l1.88-1.88c.39-.39 1.02-.39 1.41 0 .39.39.39 1.02 0 1.41l-3.59 3.59c-.39.39-1.02.39-1.41 0L7.7 12.2c-.39-.39-.39-1.02 0-1.41.39-.39 1.02-.39 1.41 0L11 12.67V4c0-.55.45-1 1-1s1 .45 1 1v8.67z"})),k=({color:e})=>t().createElement("svg",{fill:e,width:"24",height:"24",viewBox:"0 0 200 200"},t().createElement("defs",null,t().createElement("linearGradient",{id:"spinner-1552570621916",x1:"0%",y1:"0%",x2:"65%",y2:"0%"},t().createElement("stop",{offset:"0%",className:"Spinner-blue-3_W"}),t().createElement("stop",{offset:"100%",stopOpacity:"0"}))),t().createElement("circle",{cx:"100",cy:"100",r:"90",fill:"transparent",stroke:"url(#spinner-1552570621916)",strokeWidth:"20"})),R=({color:e})=>t().createElement("svg",{fill:e,width:"24",height:"24",viewBox:"0 0 24 24"},t().createElement("path",{d:"M12 6v1.79c0 .45.54.67.85.35l2.79-2.79c.2-.2.2-.51 0-.71l-2.79-2.79c-.31-.31-.85-.09-.85.36V4c-4.42 0-8 3.58-8 8 0 1.04.2 2.04.57 2.95.27.67 1.13.85 1.64.34.27-.27.38-.68.23-1.04C6.15 13.56 6 12.79 6 12c0-3.31 2.69-6 6-6zm5.79 2.71c-.27.27-.38.69-.23 1.04.28.7.44 1.46.44 2.25 0 3.31-2.69 6-6 6v-1.79c0-.45-.54-.67-.85-.35l-2.79 2.79c-.2.2-.2.51 0 .71l2.79 2.79c.31.31.85.09.85-.35V20c4.42 0 8-3.58 8-8 0-1.04-.2-2.04-.57-2.95-.27-.67-1.13-.85-1.64-.34z"})),M=({color:e})=>t().createElement("svg",{fill:e,width:"24",height:"24",viewBox:"0 0 24 24"},t().createElement("path",{d:"M6.56 7.98C6.1 7.52 5.31 7.6 5 8.17c-.28.51-.5 1.03-.67 1.58-.19.63.31 1.25.96 1.25h.01c.43 0 .82-.28.94-.7.12-.4.28-.79.48-1.17.22-.37.15-.84-.16-1.15zM5.31 13h-.02c-.65 0-1.15.62-.96 1.25.16.54.38 1.07.66 1.58.31.57 1.11.66 1.57.2.3-.31.38-.77.17-1.15-.2-.37-.36-.76-.48-1.16-.12-.44-.51-.72-.94-.72zm2.85 6.02c.51.28 1.04.5 1.59.66.62.18 1.24-.32 1.24-.96v-.03c0-.43-.28-.82-.7-.94-.4-.12-.78-.28-1.15-.48-.38-.21-.86-.14-1.16.17l-.03.03c-.45.45-.36 1.24.21 1.55zM13 4.07v-.66c0-.89-1.08-1.34-1.71-.71L9.17 4.83c-.4.4-.4 1.04 0 1.43l2.13 2.08c.63.62 1.7.17 1.7-.72V6.09c2.84.48 5 2.94 5 5.91 0 2.73-1.82 5.02-4.32 5.75-.41.12-.68.51-.68.94v.02c0 .65.61 1.14 1.23.96C17.57 18.71 20 15.64 20 12c0-4.08-3.05-7.44-7-7.93z"})),T=({color:e})=>t().createElement("svg",{fill:e,width:"24",height:"24",viewBox:"0 0 24 24"},t().createElement("path",{d:"M14.83 4.83L12.7 2.7c-.62-.62-1.7-.18-1.7.71v.66C7.06 4.56 4 7.92 4 12c0 3.64 2.43 6.71 5.77 7.68.62.18 1.23-.32 1.23-.96v-.03c0-.43-.27-.82-.68-.94C7.82 17.03 6 14.73 6 12c0-2.97 2.16-5.43 5-5.91v1.53c0 .89 1.07 1.33 1.7.71l2.13-2.08c.4-.38.4-1.02 0-1.42zm4.84 4.93c-.16-.55-.38-1.08-.66-1.59-.31-.57-1.1-.66-1.56-.2l-.01.01c-.31.31-.38.78-.17 1.16.2.37.36.76.48 1.16.12.42.51.7.94.7h.02c.65 0 1.15-.62.96-1.24zM13 18.68v.02c0 .65.62 1.14 1.24.96.55-.16 1.08-.38 1.59-.66.57-.31.66-1.1.2-1.56l-.02-.02c-.31-.31-.78-.38-1.16-.17-.37.21-.76.37-1.16.49-.41.12-.69.51-.69.94zm4.44-2.65c.46.46 1.25.37 1.56-.2.28-.51.5-1.04.67-1.59.18-.62-.31-1.24-.96-1.24h-.02c-.44 0-.82.28-.94.7-.12.4-.28.79-.48 1.17-.21.38-.13.86.17 1.16z"})),j=({color:e})=>t().createElement("svg",{fill:e,width:"24",height:"24",viewBox:"0 0 24 24"},t().createElement("path",{d:"M6 14c-.55 0-1 .45-1 1v3c0 .55.45 1 1 1h3c.55 0 1-.45 1-1s-.45-1-1-1H7v-2c0-.55-.45-1-1-1zm0-4c.55 0 1-.45 1-1V7h2c.55 0 1-.45 1-1s-.45-1-1-1H6c-.55 0-1 .45-1 1v3c0 .55.45 1 1 1zm11 7h-2c-.55 0-1 .45-1 1s.45 1 1 1h3c.55 0 1-.45 1-1v-3c0-.55-.45-1-1-1s-1 .45-1 1v2zM14 6c0 .55.45 1 1 1h2v2c0 .55.45 1 1 1s1-.45 1-1V6c0-.55-.45-1-1-1h-3c-.55 0-1 .45-1 1z"})),N=(0,e.createContext)({}),B=()=>document.body.scrollWidth,A=()=>window.innerHeight,D={documentOverflow:"",bodyOverflow:"",bodyPosition:""},Z=(e,t={})=>{const n=Object.keys(t).reduce(((e,n="")=>t[n]?e.concat(`${n}=${t[n]}`):e),[]).join("&");return n?`${e}${e.includes("?")?"&":"?"}${n}`:e},V=(e,t={ref:100})=>e?e.includes("%")?t.ref*Number(e.substring(0,e.length-1))/100:Number(e.substring(0,e.length-2)):Number(e),G=e=>"number"==typeof e&&(0^e)===e,W=(e,t,n,o={loop:!0})=>0===t?0:0===n?e:e<0||e>t-1?void 0:o.loop?Math.abs(t+n+e)%t:e+n<0||e+n>t-1?void 0:e+n,q={0:[0],1:[-1,0,1],2:[-2,-1,0,1,2],3:[-3,-2,-1,0,1,2,3]},Y=(e,t)=>{let n;return(...o)=>{clearTimeout(n),n=setTimeout((()=>{e.apply(void 0,o)}),t)}};class F{constructor({position:e}={position:F.CENTER_POSITION}){if(this.currentPosition=F.CENTER_POSITION,this.debounceInterval=200,this.debounceResetPosition=Y((()=>{this.currentPosition=F.CENTER_POSITION}),this.debounceInterval),this.update=e=>{this.currentPosition={x:e.clientX,y:e.clientY},this.debounceResetPosition()},window.__ZMAGE_GLOBAL_CLICK_MONITOR__)return window.__ZMAGE_GLOBAL_CLICK_MONITOR__;try{this.currentPosition=e,window&&(window.addEventListener("click",this.update),window.__ZMAGE_GLOBAL_CLICK_MONITOR__=this)}catch(e){return{currentPosition:F.CENTER_POSITION,destructor:()=>{}}}}destructor(){try{window.removeEventListener("click",this.update),window.__ZMAGE_GLOBAL_CLICK_MONITOR__=void 0}catch(e){}}}F.CENTER_POSITION={x:0,y:0};const U={38:!0,40:!0,33:!0,34:!0,35:!0,36:!0};function K(e){e.preventDefault()}function X(e){if(e.keyCode in U)return K(e),!1}let $=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){$=!0}}))}catch(e){}const H=!!$&&{passive:!1},J="onwheel"in document.createElement("div")?"wheel":"mousewheel";function Q(e,n,o,r,i,s,a,c){return"boolean"==typeof e||"string"==typeof e?!!e&&t().createElement("div",{id:o,className:r,onClick:i},c||t().createElement(n,{color:"string"==typeof e?e:""})):t().isValidElement(e)?t().cloneElement(e,{show:s,zoom:a,onClick:i}):null}function ee(){const{set:n,presetIsMobile:o,controller:r,backdrop:i,loop:s,show:a,zoom:c,page:l,outBrowsing:m,toPage:d,toPrevPage:h,toNextPage:p,toggleZoom:u,toggleRotate:g}=(0,e.useContext)(N),f=r||{};return t().createElement(e.Fragment,null,t().createElement("div",{id:"zmageControl",className:z()(I.controls,{[I.show]:!c&&a}),style:{backgroundColor:i}},Q(f.rotateLeft||f.rotate,M,"zmageControlRotateLeft",z()(I.rotateLeft,{[I.show]:!c&&a}),g("left"),a,c),Q(f.rotateRight||f.rotate,T,"zmageControlRotateRight",z()(I.rotateRight,{[I.show]:!c&&a}),g("right"),a,c),Q(f.download,P,"zmageControlDownload",z()(I.download,{[I.show]:!c&&a}),(()=>((e,t)=>{const n=document.createElement("a");n.href=e,n.download=e.split("/")[e.split("/").length-1],document.body.appendChild(n),n.click(),document.body.removeChild(n)})(n[l].src)),a,c),Q(f.zoom,j,"zmageControlZoom",z()(I.zoom,{[I.show]:!c&&a}),o?()=>window.open(n[l].src):u,a,c),Q(f.close,S,"zmageControlClose",z()(I.close,{[I.show]:!c&&a}),c?u:m,a,c)),Array.isArray(n)&&n.length>1&&t().createElement(e.Fragment,null,(s||0!==l)&&Q(f.flipLeft||f.flip,C,"zmageControlFlipLeft",z()(I.flipLeft,{[I.show]:!c&&a}),h,a,c),(s||l!==n.length-1)&&Q(f.flipRight||f.flip,L,"zmageControlFlipRight",z()(I.flipRight,{[I.show]:!c&&a}),p,a,c)),Array.isArray(n)&&n.length>1&&(t().isValidElement(f.pagination)?t().cloneElement(f.pagination,{show:a,zoom:c,onClick:d}):!!f.pagination&&t().createElement("div",{id:"zmageControlPagination",className:z()(I.pages,{[I.show]:!c&&a,[I.mobile]:o}),style:{backgroundColor:i}},n.map(((e,n)=>n===l?t().createElement("span",{key:n,id:"zmageControlPaginationActive",className:I.blackDot}):t().createElement("span",{key:n,className:I.whiteDot,onClick:()=>d(n)}))))))}var te=r(793),ne={};ne.styleTagTransform=_(),ne.setAttributes=p(),ne.insert=d().bind(null,"head"),ne.domAPI=l(),ne.insertStyleElement=g(),a()(te.Z,ne);const oe=te.Z&&te.Z.locals?te.Z.locals:void 0;var re=r(304),ie={};ie.styleTagTransform=_(),ie.setAttributes=p(),ie.insert=d().bind(null,"head"),ie.domAPI=l(),ie.insertStyleElement=g(),a()(re.Z,ie);const se=re.Z&&re.Z.locals?re.Z.locals:void 0;function ae({show:n,load:o,invalidate:r,onReload:i,backdrop:s}){return t().createElement(e.Fragment,null,(o||r)&&t().createElement("div",{id:"zmageLoading",className:z()(se.loadingContainer,{[se.show]:n})},o&&t().createElement("div",{className:se.loading},t().createElement(k,null)),r&&t().createElement("button",{className:se.reload,onClick:i,style:{background:s}},t().createElement(R,null))))}const ce="cubic-bezier(0.60, 0.0, 0.10, 1.0)",le=350,me=(e,t,n)=>{const{coverRef:o,coverPos:r,rotate:i,pageIsCover:s}=e;if(n&&n.phase===ue.END)return{_type:"cover",_behavior:"merge",y:n.getCurrentOffset().y>0?A():-A()};if(o.current){const{naturalWidth:e}=o.current,{top:t,left:n,width:r,height:a}=o.current.getBoundingClientRect(),{opacity:c,borderRadius:l}=window.getComputedStyle(o.current);return s?{_type:"cover",x:-B()/2+n+r/2,y:-A()/2+t+a/2,opacity:Number(c)||1,scale:e?r/e:1,rotate:i-i%360,radius:V(l,{ref:r})}:{_type:"cover",x:0,y:-A(),opacity:0,scale:e?r/e:1,rotate:i-i%360,radius:V(l,{ref:r})}}return r?{_type:"cover",x:r.x?r.x-B()/2:0,y:r.y?r.y-A()/2:0,opacity:0,scale:0,rotate:0,radius:0}:{_type:"cover",x:0,y:0,opacity:0,scale:0,rotate:0,radius:0}},de=(e,t)=>{const{radius:n,edge:o,rotate:r}=e,{naturalWidth:i=0,naturalHeight:s=0}=t.current||{},a=((e,t,n=0)=>{const o=document.documentElement.clientWidth,r=document.documentElement.clientHeight,i=e+2*n>o?o/(e+2*n):1,s=t+2*n>r?r/(t+2*n):1;return Math.min(i,s)+.002})(i,s,o);return{_type:"browsing",x:0,y:0,opacity:1,scale:a,rotate:r,radius:n}},he=(e,t,{clientX:n=B()/2,clientY:o=A()/2}={})=>{const{radius:r,edge:i,rotate:s}=e,{naturalWidth:a=0,naturalHeight:c=0}=t.current||{},l=i||50,m=B(),d=A();return{_type:"zooming",x:a>m?(a-m)/2+l-n/m*(a-m+2*l):0,y:c>d?(c-d)/2+l-o/d*(c-d+2*l):0,opacity:1,scale:1,rotate:s,radius:r}},pe=e=>{let t=0,n=0,o=1;switch(e){case"fade":o=0;break;case"crossFade":t=30,o=0;break;case"swipe":t=B()+10;break;case"zoom":n=.08,o=0}return{offset:t,overflow:n,opacity:o}};var ue,ge;!function(e){e.BEGIN="BEGIN",e.MOVING="MOVING",e.END="END"}(ue||(ue={})),function(e){e.IDLE="IDLE",e.SWIPING="SWIPING",e.LIVING="LIVING"}(ge||(ge={}));class fe{constructor(e){this.getCurrentOffset=()=>({x:this.current.origin.x-this.begin.origin.x,y:this.current.origin.y-this.begin.origin.y}),this.getCurrentDistance=()=>{const e=this.getCurrentOffset();return{x:Math.abs(e.x),y:Math.abs(e.y)}},this.getTouchConfig=({enableSwiping:e,enableLiving:t}={enableSwiping:!1,enableLiving:!1})=>{let n;const o={x:0,y:0};if(this.phase===ue.MOVING){const r=this.getCurrentOffset();this.behavior===ge.SWIPING&&e?(o.x=r.x,n="none"):this.behavior===ge.LIVING&&t&&(o.y=r.y,n="none")}return this.phase===ue.END&&(n=((e=1)=>`transform ${le*e}ms ${ce}, opacity ${le*e}ms ${ce}, clip-path ${le*e}ms ${ce}`)(2)),{touch:o,transition:n}},this.update=e=>{if(this.phase=ue.MOVING,this.current.origin=e.origin||{x:0,y:0},this.behavior!==ge.IDLE){const e=this.getCurrentDistance();e.x>e.y?e.x>5&&(this.behavior=ge.SWIPING):e.y>5&&(this.behavior=ge.LIVING)}return this},this.end=()=>{this.phase=ue.END;const e=(new Date).getTime()-this.begin.time,t=this.getCurrentDistance();return(this.behavior===ge.SWIPING&&t.x/e<.35&&t.x<120||this.behavior===ge.LIVING&&t.y/e<.35&&t.y<80)&&(this.behavior=ge.IDLE),this},this.updateCounter=0,this.phase=ue.BEGIN,this.behavior=ge.IDLE,this.begin={time:(new Date).getTime(),origin:(null==e?void 0:e.origin)||{x:0,y:0},offset:{x:0,y:0}},this.current={origin:(null==e?void 0:e.origin)||{x:0,y:0},offset:{x:0,y:0}}}}class _e extends t().Component{constructor(){var e;super(...arguments),this.imageRef=t().createRef(),this.initialPageOffset=window.pageYOffset,this.state={isFetching:!0,invalidate:!1,currentStyle:me(this.context),animateConfig:pe(null===(e=this.context.animate)||void 0===e?void 0:e.flip),touchProfile:new fe,timestamp:{}},this.updateZoomEventListenerWithState=()=>{const{show:e,zoom:t}=this.context;e&&t&&!this.listeningMouseMove?(window.addEventListener("mousemove",this.handleMouseMove),this.listeningMouseMove=!0):(window.removeEventListener("mousemove",this.handleMouseMove),this.listeningMouseMove=!1)},this.updateCurrentImageStyle=()=>{const{touchProfile:e}=this.state,t=((e,t,n)=>{const{show:o,zoom:r}=e;return o?r?he(e,t):de(e,t):me(e,0,n)})(this.context,this.imageRef,e);this.setCurrentStyle(t)},this.debounceUpdateCurrentImageStyle=Y(this.updateCurrentImageStyle,50),this.handleResize=()=>{this.debounceUpdateCurrentImageStyle()},this.handleScroll=()=>{if(this.imageRef.current){const{show:e}=this.context;this.imageRef.current.style.top=`calc(50% + ${e?0:this.initialPageOffset-window.pageYOffset}px)`}},this.handleClick=()=>{const{zoom:e,toggleZoom:t}=this.context;e&&t()},this.handleTouchStart=e=>{const{clientX:t,clientY:n}=e.touches[0];this.setTouchProfile(new fe({origin:{x:t,y:n}}))},this.handleTouchMove=e=>{const{touchProfile:t}=this.state,{clientX:n,clientY:o}=e.touches[0];this.setTouchProfile(t.update({origin:{x:n,y:o}}))},this.handleTouchEnd=()=>{const{touchProfile:e}=this.state;this.setTouchProfile(e.end())},this.handleMouseMove=e=>{const t=he(this.context,this.imageRef,e);this.setCurrentStyle(t)},this.handleImageLoadStart=()=>{this.setState({isFetching:!0,invalidate:!1},this.handleDetectImageLoadComplete)},this.handleDetectImageLoadComplete=()=>{clearInterval(this.imageLoadingTimer),this.imageLoadingTimer=((e,t)=>{const n=setInterval((()=>{e&&!e.complete||(clearInterval(n),t())}),500);return n})(this.imageRef.current,this.handleImageLoadEnd)},this.handleImageLoadEnd=({invalidate:e}={invalidate:!1})=>{clearInterval(this.imageLoadingTimer),this.setState({isFetching:!1,invalidate:void 0===e?this.state.invalidate:e})},this.handleImageLoad=()=>{this.debounceUpdateCurrentImageStyle()},this.handleImageError=()=>{this.handleImageLoadEnd({invalidate:!0})},this.handleImageAbort=()=>{this.handleImageLoadEnd({invalidate:!0})},this.handleImageReload=()=>{const{page:e}=this.context;this.handleSetTimestamp(e)},this.handleSetTimestamp=e=>{const{set:t}=this.context,{timestamp:n}=this.state;this.setState({timestamp:Object.assign(Object.assign({},n),{[t[e].src]:(new Date).getTime()})})},this.handleGetTimestamp=e=>{const{set:t}=this.context,{timestamp:n}=this.state;return n[t[e].src]},this.setCurrentStyle=e=>{const{animate:t}=this.context,{currentStyle:n}=this.state;this.setState({currentStyle:"merge"===e._behavior?Object.assign(Object.assign({},n),e):e,animateConfig:pe((t||{}).flip)})},this.setTouchProfile=e=>{e&&this.setState({touchProfile:e},(()=>{const{outBrowsing:e,toPrevPage:t,toNextPage:n}=this.context,{touchProfile:o}=this.state;o.phase===ue.END&&(o.behavior===ge.SWIPING?o.getCurrentOffset().x<0?n():t():o.behavior===ge.LIVING&&e())}))},this.getStyle=(e,t,n)=>{const{set:o,zoom:r,page:i}=this.context,{invalidate:s,currentStyle:a,touchProfile:c,animateConfig:l}=this.state;let m,d,h,{offset:p,overflow:u,opacity:g}=l;const{touch:f,transition:_}=c.getTouchConfig({enableSwiping:o.length>1,enableLiving:!0});return n?(m=`translate3d(-50%, -50%, 0) translate3d(${1===t?(a.x||0)+f.x+p*e:(a.x||0)+p*e}px, ${a.y}px, 0px) scale3d(${(a.scale||0)+u}, ${(a.scale||0)+u}, 1) rotate3d(0, 0, 1, 0deg)`,d=10*t,h="none"):(m=`translate3d(-50%, -50%, 0) translate3d(${(a.x||0)+f.x}px, ${a.y+f.y}px, 0px) scale3d(${a.scale}, ${a.scale}, 1) rotate3d(0, 0, 1, ${a.rotate}deg)`,d=10,g=a.opacity||1),Object.assign(Object.assign(Object.assign({},(e=>{const t=["Webkit","Moz","Ms","O"];return Object.keys(e).reduce(((n,o)=>{const r=t.reduce(((t,n)=>{return Object.assign(Object.assign({},t),{[`${n}${r=o,r.charAt(0).toUpperCase()+r.slice(1)}`]:e[o]});var r}),{});return Object.assign(Object.assign({},n),r)}),e)})({transform:m})),{cursor:r?"zoom-out":"initial",zIndex:d,opacity:s?0:g,transition:_,pointerEvents:h}),o[i].style)},this.buildImageSeries=e=>{const{loop:t=!1,set:n,page:o}=this.context;if(n.length>1){const r=(e=>q[e])(e);return r.reduce(((e,r)=>{const i=W(o,n.length,r,{loop:t});if(G(i)){const t=this.buildImage({step:r,imageIndex:i});t&&e.push(t)}return e}),[])}return this.buildImage({step:0,imageIndex:o})},this.buildImage=({step:e=0,imageIndex:n=0}={})=>{const{set:o,show:r,zoom:i,page:s,pageWithStep:a}=this.context,{invalidate:c}=this.state,l=Math.abs(e),m=l>0,d=a+e,h=this.getStyle(e,l,m),p=z()(oe.imageLayer,o[n].className,{[oe.zooming]:i,[oe.invalidate]:c}),u=`${d}-${o[n].src}`,g={style:h,className:p,src:Z(o[n].src,{t:this.handleGetTimestamp(s)}),alt:o[n].alt},f={id:"zmageImage",ref:this.imageRef,onLoad:this.handleImageLoad,onError:this.handleImageError,onAbort:this.handleImageAbort,onClick:this.handleClick};return m?r&&!i&&t().createElement("img",Object.assign({},g)):t().createElement("img",Object.assign({key:u},g,f))}}componentDidMount(){const{presetIsMobile:e,presetIsDesktop:t,hideOnScroll:n}=this.context;window.addEventListener("resize",this.handleResize),e&&window.requestAnimationFrame((()=>{window.addEventListener("touchstart",this.handleTouchStart),window.addEventListener("touchmove",this.handleTouchMove),window.addEventListener("touchend",this.handleTouchEnd)})),t&&n&&window.requestAnimationFrame((()=>{window.addEventListener("scroll",this.handleScroll)}))}componentDidUpdate(e){const{show:t,zoom:n,rotate:o,page:r}=e,{show:i,zoom:s,rotate:a,page:c}=this.props,{presetIsMobile:l}=this.context;t===i&&n===s&&o===a||(t?this.debounceUpdateCurrentImageStyle():(this.debounceUpdateCurrentImageStyle(),this.handleDetectImageLoadComplete(),l&&(D.documentOverflow=document.documentElement.style.overflow,D.bodyOverflow=document.body.style.overflow,D.bodyPosition=document.body.style.position,document.documentElement.style.overflow="hidden",document.body.style.overflow="hidden",document.body.style.position="relative")),this.updateZoomEventListenerWithState()),r!==c&&this.handleImageLoadStart()}componentWillUnmount(){const{presetIsMobile:e,presetIsDesktop:t}=this.context;e&&(window.removeEventListener("touchstart",this.handleTouchStart),window.removeEventListener("touchmove",this.handleTouchMove),window.removeEventListener("touchend",this.handleTouchEnd)),t&&window.removeEventListener("scroll",this.handleScroll),window.removeEventListener("resize",this.handleResize),window.removeEventListener("mousemove",this.handleMouseMove),clearInterval(this.imageLoadingTimer)}render(){const{show:n,pageIsCover:o}=this.context,{isFetching:r,invalidate:i}=this.state;return t().createElement(e.Fragment,null,t().createElement(ae,{show:n&&(!o||i),load:r,invalidate:i,onReload:this.handleImageReload}),this.buildImageSeries(2))}}_e.contextType=N;var be=r(705),ve={};ve.styleTagTransform=_(),ve.setAttributes=p(),ve.insert=d().bind(null,"head"),ve.domAPI=l(),ve.insertStyleElement=g(),a()(be.Z,ve);const ye=be.Z&&be.Z.locals?be.Z.locals:void 0;function we({show:n,zoom:o}){const{backdrop:r,outBrowsing:i,toggleZoom:s,presetIsDesktop:a}=(0,e.useContext)(N);return t().createElement("div",{id:"zmageBackground",className:ye.backgroundLayer,onClick:o?s:i,style:{opacity:n?1:0,background:r||"",transitionDelay:a?n?".15s":"0s":n?"0s":".35s"}})}const xe={src:"",alt:"",txt:"",set:[],defaultPage:0,preset:"",controller:{},hotKey:{},animate:{},hideOnScroll:!0,coverVisible:!1,backdrop:"#FFFFFF",zIndex:1e3,radius:0,edge:0,loop:!0,onBrowsing:()=>{},onZooming:()=>{},onSwitching:()=>{},onRotating:()=>{}};let ze=!1;const Oe=Object.assign(Object.assign({},xe),{controller:{pagination:!0,rotate:!0,zoom:!0,download:!1,close:!0,flip:!0},hotKey:{close:!0,zoom:!0,flip:!0},animate:{browsing:!0,flip:"fade"}}),Ee=Object.assign(Object.assign({},xe),{controller:{pagination:!0,rotate:!1,zoom:!1,download:!1,close:!0,flip:!1},hotKey:{close:!1,zoom:!1,flip:!1},animate:{browsing:!0,flip:"swipe"}}),Ie=e=>{const{className:t,style:n,onClick:o,forwardedRef:r,coverRef:i,destructor:s,src:a,alt:c,txt:l,set:m,defaultPage:d,preset:h,controller:p,hotKey:u,animate:g,hideOnScroll:f,coverVisible:_,backdrop:b,zIndex:v,radius:y,edge:w,loop:x,onBrowsing:z,onZooming:O,onSwitching:E,onRotating:I,browsing:C}=e,L=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n}(e,["className","style","onClick","forwardedRef","coverRef","destructor","src","alt","txt","set","defaultPage","preset","controller","hotKey","animate","hideOnScroll","coverVisible","backdrop","zIndex","radius","edge","loop","onBrowsing","onZooming","onSwitching","onRotating","browsing"]);return{coverProps:{className:t,style:n,onClick:o,forwardedRef:r,src:a,alt:c,txt:l},calleeProps:{coverRef:i,destructor:s},controlledProps:{browsing:C},configProps:{defaultPage:d,set:Array.isArray(m)&&m.length>0?m:[Object.assign({src:a,alt:c,txt:l},L)],preset:h,controller:p,hotKey:u,animate:g,hideOnScroll:f,coverVisible:_,backdrop:b,zIndex:v,radius:y,edge:w,loop:x,onBrowsing:z,onZooming:O,onSwitching:E,onRotating:I},restProps:L}},Ce=(e,t,n)=>{var o;return 0===n||(null===(o=null==e?void 0:e.current)||void 0===o?void 0:o.getAttribute("src"))===t[n].src},Le=(e,t,n)=>{const o=((e,t)=>G(e)&&e<t.length-1?e:t.length-1)(t,n);return{page:o,pageIsCover:Ce(e,n,o)}},Se=e=>{(null==e?void 0:e.current)&&(e.current.style.visibility="visible")};class Pe extends t().Component{constructor(){super(...arguments),this.state=(()=>{const{coverRef:e,defaultPage:t,set:n}=this.props,{page:o,pageIsCover:r}=Le(e,t,n);return{mounted:!1,show:!1,zoom:!1,rotate:0,page:o,pageIsCover:r,pageWithStep:o}})(),this.getPropsWithEnv=()=>{const{preset:e,controller:t,hotKey:n,animate:o}=this.props,r=(e=>{switch(e){case"desktop":default:return Oe;case"mobile":return Ee;case"auto":return ze||(console.warn("Zmage: The value 'auto' for the props 'preset' has been deprecated, replace with one of 'Desktop' or 'Mobile', the value 'auto' will be fallback to 'desktop'"),ze=!0),Oe}})(e);return Object.assign(Object.assign({},this.props),{presetIsMobile:"mobile"===e,presetIsDesktop:"mobile"!==e,controller:Object.assign(Object.assign({},r.controller),"object"==typeof t?t:{}),hotKey:Object.assign(Object.assign({},r.hotKey),"object"==typeof n?n:{}),animate:Object.assign(Object.assign({},r.animate),"object"==typeof o?o:{})})},this.init=()=>{const{isBrowsingControlled:e,coverRef:t,onBrowsing:n,hideOnScroll:o,coverVisible:r,presetIsDesktop:i}=this.getPropsWithEnv(),{show:s,pageIsCover:a}=this.state;s||(i&&(window.addEventListener("keydown",this.handleKeyDown),o?window.addEventListener("scroll",this.handleScroll):(window.addEventListener("DOMMouseScroll",K,!1),window.addEventListener(J,K,H),window.addEventListener("touchmove",K,H),window.addEventListener("keydown",X,!1))),window.requestAnimationFrame((()=>{this.setState({show:!0,zoom:!1,rotate:0},(()=>{i&&a&&!r&&(e=>{setTimeout((()=>{(null==e?void 0:e.current)&&(e.current.style.visibility="hidden")}),100)})(t),!e&&"function"==typeof n&&n(!0)}))})))},this.unInit=({force:e}={force:!1})=>{const{isBrowsingControlled:t,coverRef:n,onBrowsing:o,hideOnScroll:r,coverVisible:i,presetIsMobile:s,presetIsDesktop:a}=this.getPropsWithEnv(),{show:c,pageIsCover:l}=this.state;(c||e)&&(a&&(window.removeEventListener("keydown",this.handleKeyDown),r?window.removeEventListener("scroll",this.handleScroll):(window.removeEventListener("DOMMouseScroll",K,!1),window.removeEventListener(J,K),window.removeEventListener("touchmove",K),window.removeEventListener("keydown",X,!1))),!l&&!i&&Se(n),this.setState({show:!1,zoom:!1,rotate:0},(()=>setTimeout((()=>{this.setState({mounted:!1},(()=>{s&&(document.documentElement.style.overflow=D.documentOverflow,document.body.style.overflow=D.bodyOverflow,document.body.style.position=D.bodyPosition),a&&l&&!i&&Se(n),!t&&"function"==typeof o&&o(!1)}))}),a?340:690))))},this.handleKeyDown=e=>{const{set:t,hotKey:n,loop:o,outBrowsing:r}=this.getPropsWithEnv(),{zoom:i,page:s}=this.state;switch(e.keyCode){case 27:e.preventDefault(),n.close&&(i?this.handleToggleZoom():r());break;case 32:e.preventDefault(),n.zoom&&this.handleToggleZoom();break;case 37:e.preventDefault(),(o||0!==s)&&!i&&n.flip&&this.handleToPrevPage();break;case 39:e.preventDefault(),(o||s!==t.length-1)&&!i&&n.flip&&this.handleToNextPage();break;default:return}},this.handleScroll=()=>{const{outBrowsing:e}=this.props,{show:t}=this.state;t&&e()},this.handleToPage=e=>{const{page:t}=this.state;this.handleSwitchPages(e-t)()},this.handleSwitchPages=e=>{const{coverRef:t,onSwitching:n,loop:o=!1}=this.props;return()=>{const{set:r}=this.props;if(r.length>1){const{page:i,pageWithStep:s}=this.state,a=W(i,r.length,e,{loop:o});"number"==typeof a&&this.setState({page:a,pageIsCover:Ce(t,r,a),pageWithStep:s+e,zoom:!1,rotate:0},(()=>{"function"==typeof n&&n(a)}))}}},this.handleToPrevPage=this.handleSwitchPages(-1),this.handleToNextPage=this.handleSwitchPages(1),this.handleToggleZoom=()=>{const{onZooming:e}=this.props;this.setState({zoom:!this.state.zoom},(()=>{"function"==typeof e&&e(this.state.zoom)}))},this.handleToggleRotate=e=>{const{onRotating:t}=this.props;switch(e){case"left":return()=>this.setState({rotate:this.state.rotate-90},(()=>{"function"==typeof t&&t(this.state.rotate)}));case"right":return()=>this.setState({rotate:this.state.rotate+90},(()=>{"function"==typeof t&&t(this.state.rotate)}));default:return()=>this.setState({rotate:0},(()=>{"function"==typeof t&&t(0)}))}}}componentDidMount(){this.props.browsing&&this.init()}static getDerivedStateFromProps(e,t){return e.browsing?Object.assign({mounted:!0},t.show?{}:Le(e.coverRef,e.defaultPage,e.set)):null}componentDidUpdate(e){e.browsing!==this.props.browsing&&(this.props.browsing?this.init():this.unInit())}componentWillUnmount(){this.unInit({force:!0})}render(){const{coverRef:e,coverPos:n,outBrowsing:o,set:r,preset:i,presetIsMobile:s,presetIsDesktop:a,controller:c,hotKey:l,animate:m,hideOnScroll:d,coverVisible:h,backdrop:p,zIndex:u,radius:g,edge:f,loop:_}=this.getPropsWithEnv(),{mounted:b}=this.state,v=Object.assign({},this.state),x=Object.assign(Object.assign({coverRef:e,coverPos:n,outBrowsing:o,set:r,preset:i,presetIsMobile:s,presetIsDesktop:a,controller:c,hotKey:l,animate:m,hideOnScroll:d,coverVisible:h,backdrop:p,radius:g,edge:f,loop:_},v),{toPage:this.handleToPage,toPrevPage:this.handleToPrevPage,toNextPage:this.handleToNextPage,toggleZoom:this.handleToggleZoom,toggleRotate:this.handleToggleRotate});return t().createElement(N.Provider,{value:x},b&&t().createElement(w,{id:"zmage",zIndex:u,className:y.wrapperLayer},t().createElement(we,Object.assign({},v)),t().createElement(ee,null),t().createElement(_e,Object.assign({},v))))}}Pe.defaultProps={isBrowsingControlled:!1,browsing:!1,coverRef:t().createRef(),outBrowsing:()=>{},defaultPage:0,set:[]},Pe.contextType=N;const ke=new F;class Re extends t().Component{constructor(){super(...arguments),this.showPosition=ke.currentPosition,this.state={browsing:!1},this.inBrowsing=()=>{requestAnimationFrame((()=>{this.setState({browsing:!0})}))},this.outBrowsing=()=>{const{destructor:e}=this.props;this.setState({browsing:!1},(()=>{e&&setTimeout(e,le)}))}}componentDidMount(){this.inBrowsing()}render(){const{calleeProps:e,configProps:n}=Ie(this.props),{browsing:o}=this.state;return o&&(this.showPosition=ke.currentPosition),t().createElement(Pe,Object.assign({browsing:o,coverRef:e.coverRef,coverPos:this.showPosition,outBrowsing:this.outBrowsing},n))}}Re.defaultProps=xe;const Me={REF:t().createRef(),CONTAINER:void 0,PORTAL:void 0},Te=e=>{var n,{coverRef:r}=e,i=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n}(e,["coverRef"]);return Me.PORTAL=document.createElement("div"),Me.PORTAL.id="zmagePortal",Me.CONTAINER=document.body,Me.CONTAINER.appendChild(Me.PORTAL),o().render(t().createElement(Re,Object.assign({ref:Me.REF,coverRef:r,destructor:()=>Me.CONTAINER.removeChild(Me.PORTAL)},i)),Me.PORTAL),null===(n=Me.REF.current)||void 0===n?void 0:n.outBrowsing};class je extends t().Component{constructor(){super(...arguments),this.wrapperRef=t().createRef(),this.tryAttachBrowserToImage=()=>{const e=this.props,{children:t}=e,n=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]])}return n}(e,["children"]);this.wrapperRef.current&&this.wrapperRef.current.querySelectorAll("img").forEach((e=>{!e.getAttribute("zmage")&&e.getAttribute("src")&&(e.setAttribute("zmage",String(Date.now())),e.style.cursor="zoom-in",e.addEventListener("click",(()=>Te(Object.assign({coverRef:{current:e}},n)))))}))}}componentDidMount(){this.tryAttachBrowserToImage()}componentDidUpdate(){this.tryAttachBrowserToImage()}render(){const{children:e}=this.props;return t().createElement("div",{ref:this.wrapperRef},e)}}je.defaultProps=xe;class Ne extends t().Component{constructor(){super(...arguments),this.coverRef={current:null},this.isBrowsingControlled="browsing"in this.props,this.state={browsing:!1},this.inBrowsing=()=>{var e,t;this.isBrowsingControlled?null===(t=(e=this.props).onBrowsing)||void 0===t||t.call(e,!0):this.setState({browsing:!0})},this.outBrowsing=()=>{var e,t;this.isBrowsingControlled?null===(t=(e=this.props).onBrowsing)||void 0===t||t.call(e,!1):this.setState({browsing:!1})}}render(){const{coverProps:n,controlledProps:o,configProps:r,restProps:i}=Ie(this.props),{browsing:s}=this.state;return t().createElement(e.Fragment,null,t().createElement("img",Object.assign({className:n.className,style:Object.assign({cursor:"zoom-in"},n.style),src:n.src,alt:n.alt,onClick:e=>{this.inBrowsing(),"function"==typeof n.onClick&&n.onClick(e)},ref:e=>{"function"==typeof n.forwardedRef?n.forwardedRef(e):n.forwardedRef&&"object"==typeof n.forwardedRef&&(n.forwardedRef.current=e),this.coverRef&&(this.coverRef.current=e)}},i)),t().createElement(Pe,Object.assign({isBrowsingControlled:this.isBrowsingControlled,browsing:this.isBrowsingControlled?o.browsing:s,coverRef:this.coverRef,outBrowsing:this.outBrowsing},r)))}}Ne.defaultProps=xe,Ne.browsing=Te,Ne.Browsing=Te,Ne.wrapper=je,Ne.Wrapper=je;const Be=t().forwardRef(((e,n)=>t().createElement(Ne,Object.assign({},e,{forwardedRef:n}))));Be.browsing=Te,Be.Browsing=Te,Be.wrapper=je,Be.Wrapper=je;const Ae=Be})(),i})()}));