/*! For license information please see zmage.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("react-dom")):"function"==typeof define&&define.amd?define("react-zmage",["React","ReactDOM"],t):"object"==typeof exports?exports["react-zmage"]=t(require("react"),require("react-dom")):e["react-zmage"]=t(e.React,e.ReactDOM)}(self,(function(e,t){return(()=>{var o={184:(e,t)=>{var o;!function(){"use strict";var n={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var o=arguments[t];if(o){var r=typeof o;if("string"===r||"number"===r)e.push(o);else if(Array.isArray(o)){if(o.length){var a=i.apply(null,o);a&&e.push(a)}}else if("object"===r)if(o.toString===Object.prototype.toString)for(var s in o)n.call(o,s)&&o[s]&&e.push(s);else e.push(o.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(o=function(){return i}.apply(t,[]))||(e.exports=o)}()},500:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>n});const n={backgroundLayer:"backgroundLayer__L59ju"}},653:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>n});const n={wrapperLayer:"wrapperLayer__25Osd"}},732:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>n});const n={baseButton:"baseButton__18U5B",controls:"controls__3BU3E",show:"show__1tLY6",pinButton:"pinButton__MnPeR",rotate:"rotate__1DjN2",rotateLeft:"rotateLeft__1KOxL",rotateRight:"rotateRight__3kYbB",download:"download__1o8td",zoom:"zoom__15F8y",close:"close__wP1v9",sideButton:"sideButton__3xQsl",flipLeft:"flipLeft__3VB5y",flipRight:"flipRight__1EqiX",pages:"pages__IwQb3",mobile:"mobile__1L-Sn",dot:"dot__3z2uK",blackDot:"blackDot__2Zvud",whiteDot:"whiteDot__31yN0"}},330:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>n});const n={imageLayer:"imageLayer__207N-",zooming:"zooming__2StSE",invalidate:"invalidate__lVCQH"}},20:(e,t,o)=>{"use strict";o.r(t),o.d(t,{default:()=>n});const n={loadingContainer:"loadingContainer__13wfa",show:"show__29ULf",reload:"reload__2xUtP",loading:"loading__2jKYg",spin:"spin__1Iuta",fadeIn:"fadeIn__3yb2M",fadeOut:"fadeOut__1lwK5"}},962:function(e,t,o){"use strict";var n=this&&this.__rest||function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(o[n[i]]=e[n[i]])}return o},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=i(o(798)),a=i(o(413)),s=i(o(228)),l=o(219),c=o(507),u=new(o(928).GlobalClickMonitor);class d extends r.default.Component{constructor(){super(...arguments),this.showPosition=u.currentPosition,this.state={browsing:!1},this.inBrowsing=()=>{requestAnimationFrame((()=>{this.setState({browsing:!0})}))},this.outBrowsing=()=>{const{destructor:e}=this.props;this.setState({browsing:!1},(()=>{e&&setTimeout(e,c.animationDuration)}))}}componentDidMount(){this.inBrowsing()}render(){const{calleeProps:e,configProps:t}=l.getConfigFromProps(this.props),{browsing:o}=this.state;return o&&(this.showPosition=u.currentPosition),r.default.createElement(s.default,Object.assign({browsing:o,coverRef:e.coverRef,coverPos:this.showPosition,outBrowsing:this.outBrowsing},t))}}d.defaultProps=l.defProp;const h={REF:r.default.createRef(),CONTAINER:void 0,PORTAL:void 0};t.default=e=>{var t,{coverRef:o}=e,i=n(e,["coverRef"]);return h.PORTAL=document.createElement("div"),h.PORTAL.id="zmagePortal",h.CONTAINER=document.body,h.CONTAINER.appendChild(h.PORTAL),a.default.render(r.default.createElement(d,Object.assign({ref:h.REF,coverRef:o,destructor:()=>h.CONTAINER.removeChild(h.PORTAL)},i)),h.PORTAL),null===(t=h.REF.current)||void 0===t?void 0:t.outBrowsing}},262:function(e,t,o){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,o,n){void 0===n&&(n=o),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[o]}})}:function(e,t,o,n){void 0===n&&(n=o),e[n]=t[o]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&n(t,e,o);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=r(o(798)),l=a(o(962)),c=a(o(771)),u=a(o(228)),d=o(219);class h extends s.default.Component{constructor(){super(...arguments),this.coverRef={current:null},this.isBrowsingControlled="browsing"in this.props,this.state={browsing:!1},this.inBrowsing=()=>{var e,t;this.isBrowsingControlled?null===(t=(e=this.props).onBrowsing)||void 0===t||t.call(e,!0):this.setState({browsing:!0})},this.outBrowsing=()=>{var e,t;this.isBrowsingControlled?null===(t=(e=this.props).onBrowsing)||void 0===t||t.call(e,!1):this.setState({browsing:!1})}}render(){const{coverProps:e,controlledProps:t,configProps:o,restProps:n}=d.getConfigFromProps(this.props),{browsing:i}=this.state;return s.default.createElement(s.Fragment,null,s.default.createElement("img",Object.assign({className:e.className,style:Object.assign({cursor:"zoom-in"},e.style),src:e.src,alt:e.alt,onClick:t=>{this.inBrowsing(),"function"==typeof e.onClick&&e.onClick(t)},ref:t=>{"function"==typeof e.forwardedRef?e.forwardedRef(t):e.forwardedRef&&"object"==typeof e.forwardedRef&&(e.forwardedRef.current=t),this.coverRef&&(this.coverRef.current=t)}},n)),s.default.createElement(u.default,Object.assign({isBrowsingControlled:this.isBrowsingControlled,browsing:this.isBrowsingControlled?t.browsing:i,coverRef:this.coverRef,outBrowsing:this.outBrowsing},o)))}}h.defaultProps=d.defProp,h.browsing=l.default,h.Browsing=l.default,h.wrapper=c.default,h.Wrapper=c.default;const f=s.default.forwardRef(((e,t)=>s.default.createElement(h,Object.assign({},e,{forwardedRef:t}))));f.browsing=l.default,f.Browsing=l.default,f.wrapper=c.default,f.Wrapper=c.default,t.default=f},771:function(e,t,o){"use strict";var n=this&&this.__rest||function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(o[n[i]]=e[n[i]])}return o},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const r=i(o(798)),a=i(o(962)),s=o(219);class l extends r.default.Component{constructor(){super(...arguments),this.wrapperRef=r.default.createRef(),this.tryAttachBrowserToImage=()=>{const e=this.props,{children:t}=e,o=n(e,["children"]);this.wrapperRef.current&&this.wrapperRef.current.querySelectorAll("img").forEach((e=>{!e.getAttribute("zmage")&&e.getAttribute("src")&&(e.setAttribute("zmage",String(Date.now())),e.style.cursor="zoom-in",e.addEventListener("click",(()=>a.default(Object.assign({coverRef:{current:e}},o)))))}))}}componentDidMount(){this.tryAttachBrowserToImage()}componentDidUpdate(){this.tryAttachBrowserToImage()}render(){const{children:e}=this.props;return r.default.createElement("div",{ref:this.wrapperRef},e)}}t.default=l,l.defaultProps=s.defProp},892:function(e,t,o){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IconArrowLeft=void 0;const i=n(o(798));t.IconArrowLeft=({color:e})=>i.default.createElement("svg",{fill:e,width:"24",height:"24",viewBox:"0 0 24 24"},i.default.createElement("path",{d:"M14.71 15.88L10.83 12l3.88-3.88c.39-.39.39-1.02 0-1.41-.39-.39-1.02-.39-1.41 0L8.71 11.3c-.39.39-.39 1.02 0 1.41l4.59 4.59c.39.39 1.02.39 1.41 0 .38-.39.39-1.03 0-1.42z"}))},896:function(e,t,o){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IconArrowRight=void 0;const i=n(o(798));t.IconArrowRight=({color:e})=>i.default.createElement("svg",{fill:e,width:"24",height:"24",viewBox:"0 0 24 24"},i.default.createElement("path",{d:"M9.29 15.88L13.17 12 9.29 8.12c-.39-.39-.39-1.02 0-1.41.39-.39 1.02-.39 1.41 0l4.59 4.59c.39.39.39 1.02 0 1.41L10.7 17.3c-.39.39-1.02.39-1.41 0-.38-.39-.39-1.03 0-1.42z"}))},86:function(e,t,o){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IconClose=void 0;const i=n(o(798));t.IconClose=({color:e})=>i.default.createElement("svg",{fill:e,width:"24",height:"24",viewBox:"0 0 24 24"},i.default.createElement("path",{d:"M18.3 5.71c-.39-.39-1.02-.39-1.41 0L12 10.59 7.11 5.7c-.39-.39-1.02-.39-1.41 0-.39.39-.39 1.02 0 1.41L10.59 12 5.7 16.89c-.39.39-.39 1.02 0 1.41.39.39 1.02.39 1.41 0L12 13.41l4.89 4.89c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L13.41 12l4.89-4.89c.38-.38.38-1.02 0-1.4z"}))},823:function(e,t,o){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IconDownload=void 0;const i=n(o(798));t.IconDownload=({color:e})=>i.default.createElement("svg",{fill:e,width:"24",height:"24",viewBox:"0 0 24 24"},i.default.createElement("path",{d:"M19 13v5c0 .55-.45 1-1 1H6c-.55 0-1-.45-1-1v-5c0-.55-.45-1-1-1s-1 .45-1 1v6c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-6c0-.55-.45-1-1-1s-1 .45-1 1zm-6-.33l1.88-1.88c.39-.39 1.02-.39 1.41 0 .39.39.39 1.02 0 1.41l-3.59 3.59c-.39.39-1.02.39-1.41 0L7.7 12.2c-.39-.39-.39-1.02 0-1.41.39-.39 1.02-.39 1.41 0L11 12.67V4c0-.55.45-1 1-1s1 .45 1 1v8.67z"}))},259:function(e,t,o){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IconLoading=void 0;const i=n(o(798));t.IconLoading=({color:e})=>i.default.createElement("svg",{fill:e,width:"24",height:"24",viewBox:"0 0 200 200"},i.default.createElement("defs",null,i.default.createElement("linearGradient",{id:"spinner-1552570621916",x1:"0%",y1:"0%",x2:"65%",y2:"0%"},i.default.createElement("stop",{offset:"0%",className:"Spinner-blue-3_W"}),i.default.createElement("stop",{offset:"100%",stopOpacity:"0"}))),i.default.createElement("circle",{cx:"100",cy:"100",r:"90",fill:"transparent",stroke:"url(#spinner-1552570621916)",strokeWidth:"20"}))},786:function(e,t,o){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IconRefresh=void 0;const i=n(o(798));t.IconRefresh=({color:e})=>i.default.createElement("svg",{fill:e,width:"24",height:"24",viewBox:"0 0 24 24"},i.default.createElement("path",{d:"M12 6v1.79c0 .45.54.67.85.35l2.79-2.79c.2-.2.2-.51 0-.71l-2.79-2.79c-.31-.31-.85-.09-.85.36V4c-4.42 0-8 3.58-8 8 0 1.04.2 2.04.57 2.95.27.67 1.13.85 1.64.34.27-.27.38-.68.23-1.04C6.15 13.56 6 12.79 6 12c0-3.31 2.69-6 6-6zm5.79 2.71c-.27.27-.38.69-.23 1.04.28.7.44 1.46.44 2.25 0 3.31-2.69 6-6 6v-1.79c0-.45-.54-.67-.85-.35l-2.79 2.79c-.2.2-.2.51 0 .71l2.79 2.79c.31.31.85.09.85-.35V20c4.42 0 8-3.58 8-8 0-1.04-.2-2.04-.57-2.95-.27-.67-1.13-.85-1.64-.34z"}))},332:function(e,t,o){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IconRotateLeft=void 0;const i=n(o(798));t.IconRotateLeft=({color:e})=>i.default.createElement("svg",{fill:e,width:"24",height:"24",viewBox:"0 0 24 24"},i.default.createElement("path",{d:"M6.56 7.98C6.1 7.52 5.31 7.6 5 8.17c-.28.51-.5 1.03-.67 1.58-.19.63.31 1.25.96 1.25h.01c.43 0 .82-.28.94-.7.12-.4.28-.79.48-1.17.22-.37.15-.84-.16-1.15zM5.31 13h-.02c-.65 0-1.15.62-.96 1.25.16.54.38 1.07.66 1.58.31.57 1.11.66 1.57.2.3-.31.38-.77.17-1.15-.2-.37-.36-.76-.48-1.16-.12-.44-.51-.72-.94-.72zm2.85 6.02c.51.28 1.04.5 1.59.66.62.18 1.24-.32 1.24-.96v-.03c0-.43-.28-.82-.7-.94-.4-.12-.78-.28-1.15-.48-.38-.21-.86-.14-1.16.17l-.03.03c-.45.45-.36 1.24.21 1.55zM13 4.07v-.66c0-.89-1.08-1.34-1.71-.71L9.17 4.83c-.4.4-.4 1.04 0 1.43l2.13 2.08c.63.62 1.7.17 1.7-.72V6.09c2.84.48 5 2.94 5 5.91 0 2.73-1.82 5.02-4.32 5.75-.41.12-.68.51-.68.94v.02c0 .65.61 1.14 1.23.96C17.57 18.71 20 15.64 20 12c0-4.08-3.05-7.44-7-7.93z"}))},77:function(e,t,o){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IconRotateRight=void 0;const i=n(o(798));t.IconRotateRight=({color:e})=>i.default.createElement("svg",{fill:e,width:"24",height:"24",viewBox:"0 0 24 24"},i.default.createElement("path",{d:"M14.83 4.83L12.7 2.7c-.62-.62-1.7-.18-1.7.71v.66C7.06 4.56 4 7.92 4 12c0 3.64 2.43 6.71 5.77 7.68.62.18 1.23-.32 1.23-.96v-.03c0-.43-.27-.82-.68-.94C7.82 17.03 6 14.73 6 12c0-2.97 2.16-5.43 5-5.91v1.53c0 .89 1.07 1.33 1.7.71l2.13-2.08c.4-.38.4-1.02 0-1.42zm4.84 4.93c-.16-.55-.38-1.08-.66-1.59-.31-.57-1.1-.66-1.56-.2l-.01.01c-.31.31-.38.78-.17 1.16.2.37.36.76.48 1.16.12.42.51.7.94.7h.02c.65 0 1.15-.62.96-1.24zM13 18.68v.02c0 .65.62 1.14 1.24.96.55-.16 1.08-.38 1.59-.66.57-.31.66-1.1.2-1.56l-.02-.02c-.31-.31-.78-.38-1.16-.17-.37.21-.76.37-1.16.49-.41.12-.69.51-.69.94zm4.44-2.65c.46.46 1.25.37 1.56-.2.28-.51.5-1.04.67-1.59.18-.62-.31-1.24-.96-1.24h-.02c-.44 0-.82.28-.94.7-.12.4-.28.79-.48 1.17-.21.38-.13.86.17 1.16z"}))},424:function(e,t,o){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IconZoom=void 0;const i=n(o(798));t.IconZoom=({color:e})=>i.default.createElement("svg",{fill:e,width:"24",height:"24",viewBox:"0 0 24 24"},i.default.createElement("path",{d:"M6 14c-.55 0-1 .45-1 1v3c0 .55.45 1 1 1h3c.55 0 1-.45 1-1s-.45-1-1-1H7v-2c0-.55-.45-1-1-1zm0-4c.55 0 1-.45 1-1V7h2c.55 0 1-.45 1-1s-.45-1-1-1H6c-.55 0-1 .45-1 1v3c0 .55.45 1 1 1zm11 7h-2c-.55 0-1 .45-1 1s.45 1 1 1h3c.55 0 1-.45 1-1v-3c0-.55-.45-1-1-1s-1 .45-1 1v2zM14 6c0 .55.45 1 1 1h2v2c0 .55.45 1 1 1s1-.45 1-1V6c0-.55-.45-1-1-1h-3c-.55 0-1 .45-1 1z"}))},565:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IconZoom=t.IconRotateRight=t.IconRotateLeft=t.IconRefresh=t.IconLoading=t.IconDownload=t.IconClose=t.IconArrowRight=t.IconArrowLeft=void 0;var n=o(892);Object.defineProperty(t,"IconArrowLeft",{enumerable:!0,get:function(){return n.IconArrowLeft}});var i=o(896);Object.defineProperty(t,"IconArrowRight",{enumerable:!0,get:function(){return i.IconArrowRight}});var r=o(86);Object.defineProperty(t,"IconClose",{enumerable:!0,get:function(){return r.IconClose}});var a=o(823);Object.defineProperty(t,"IconDownload",{enumerable:!0,get:function(){return a.IconDownload}});var s=o(259);Object.defineProperty(t,"IconLoading",{enumerable:!0,get:function(){return s.IconLoading}});var l=o(786);Object.defineProperty(t,"IconRefresh",{enumerable:!0,get:function(){return l.IconRefresh}});var c=o(332);Object.defineProperty(t,"IconRotateLeft",{enumerable:!0,get:function(){return c.IconRotateLeft}});var u=o(77);Object.defineProperty(t,"IconRotateRight",{enumerable:!0,get:function(){return u.IconRotateRight}});var d=o(424);Object.defineProperty(t,"IconZoom",{enumerable:!0,get:function(){return d.IconZoom}})},431:function(e,t,o){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,o,n){void 0===n&&(n=o),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[o]}})}:function(e,t,o,n){void 0===n&&(n=o),e[n]=t[o]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&n(t,e,o);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=r(o(798)),l=a(o(500)),c=o(880);t.default=function({show:e,zoom:t}){const{backdrop:o,outBrowsing:n,toggleZoom:i,presetIsDesktop:r}=s.useContext(c.Context);return s.default.createElement("div",{id:"zmageBackground",className:l.default.backgroundLayer,onClick:t?i:n,style:{opacity:e?1:0,background:o||"",transitionDelay:r?e?".15s":"0s":e?"0s":".35s"}})}},508:function(e,t,o){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(431);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(i).default}})},696:function(e,t,o){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=n(o(798)),r=n(o(653)),a=n(o(176)),s=n(o(186)),l=n(o(882)),c=n(o(508)),u=o(880),d=o(928),h=o(219),f=o(507),g=o(603);class p extends i.default.Component{constructor(){super(...arguments),this.state=(()=>{const{coverRef:e,defaultPage:t,set:o}=this.props,{page:n,pageIsCover:i}=g.pageSet(e,t,o);return{mounted:!1,show:!1,zoom:!1,rotate:0,page:n,pageIsCover:i,pageWithStep:n}})(),this.getPropsWithEnv=()=>{const{preset:e,controller:t,hotKey:o,animate:n}=this.props,i=h.defPropsWithEnv(e);return Object.assign(Object.assign({},this.props),{presetIsMobile:"mobile"===e,presetIsDesktop:"mobile"!==e,controller:Object.assign(Object.assign({},i.controller),"object"==typeof t?t:{}),hotKey:Object.assign(Object.assign({},i.hotKey),"object"==typeof o?o:{}),animate:Object.assign(Object.assign({},i.animate),"object"==typeof n?n:{})})},this.init=()=>{const{isBrowsingControlled:e,coverRef:t,onBrowsing:o,hideOnScroll:n,coverVisible:i,presetIsDesktop:r}=this.getPropsWithEnv(),{show:a,pageIsCover:s}=this.state;a||(window.addEventListener("keydown",this.handleKeyDown),n&&window.addEventListener("scroll",this.handleScroll),window.requestAnimationFrame((()=>{this.setState({show:!0,zoom:!1,rotate:0},(()=>{r&&s&&!i&&g.hideCover(t),!e&&"function"==typeof o&&o(!0)}))})))},this.unInit=({force:e}={force:!1})=>{const{isBrowsingControlled:t,coverRef:o,onBrowsing:n,hideOnScroll:i,coverVisible:r,presetIsMobile:a,presetIsDesktop:s}=this.getPropsWithEnv(),{show:l,pageIsCover:c}=this.state;(l||e)&&(window.removeEventListener("keydown",this.handleKeyDown),i&&window.removeEventListener("scroll",this.handleScroll),!c&&!r&&g.showCover(o),this.setState({show:!1,zoom:!1,rotate:0},(()=>setTimeout((()=>{this.setState({mounted:!1},(()=>{a&&d.unlockTouchInteraction(),s&&c&&!r&&g.showCover(o),!t&&"function"==typeof n&&n(!1)}))}),s?f.animationDuration-10:2*f.animationDuration-10))))},this.handleKeyDown=e=>{const{set:t,hotKey:o,loop:n,outBrowsing:i}=this.getPropsWithEnv(),{zoom:r,page:a}=this.state;switch(e.keyCode){case 27:e.preventDefault(),o.close&&(r?this.handleToggleZoom():i());break;case 32:e.preventDefault(),o.zoom&&this.handleToggleZoom();break;case 37:e.preventDefault(),(n||0!==a)&&!r&&o.flip&&this.handleToPrevPage();break;case 39:e.preventDefault(),(n||a!==t.length-1)&&!r&&o.flip&&this.handleToNextPage();break;default:return}},this.handleScroll=()=>{const{outBrowsing:e}=this.props,{show:t}=this.state;t&&e()},this.handleToPage=e=>{const{page:t}=this.state;this.handleSwitchPages(e-t)()},this.handleSwitchPages=e=>{const{coverRef:t,onSwitching:o,loop:n=!1}=this.props;return()=>{const{set:i}=this.props;if(i.length>1){const{page:r,pageWithStep:a}=this.state,s=d.getTargetPage(r,i.length,e,{loop:n});"number"==typeof s&&this.setState({page:s,pageIsCover:g.pageIsCover(t,i,s),pageWithStep:a+e,zoom:!1,rotate:0},(()=>{"function"==typeof o&&o(s)}))}}},this.handleToPrevPage=this.handleSwitchPages(-1),this.handleToNextPage=this.handleSwitchPages(1),this.handleToggleZoom=()=>{const{onZooming:e}=this.props;this.setState({zoom:!this.state.zoom},(()=>{"function"==typeof e&&e(this.state.zoom)}))},this.handleToggleRotate=e=>{const{onRotating:t}=this.props;switch(e){case"left":return()=>this.setState({rotate:this.state.rotate-90},(()=>{"function"==typeof t&&t(this.state.rotate)}));case"right":return()=>this.setState({rotate:this.state.rotate+90},(()=>{"function"==typeof t&&t(this.state.rotate)}));default:return()=>this.setState({rotate:0},(()=>{"function"==typeof t&&t(0)}))}}}componentDidMount(){this.props.browsing&&this.init()}static getDerivedStateFromProps(e,t){return e.browsing?Object.assign({mounted:!0},t.show?{}:g.pageSet(e.coverRef,e.defaultPage,e.set)):null}componentDidUpdate(e){e.browsing!==this.props.browsing&&(this.props.browsing?this.init():this.unInit())}componentWillUnmount(){this.unInit({force:!0})}render(){const{coverRef:e,coverPos:t,outBrowsing:o,set:n,preset:d,presetIsMobile:h,presetIsDesktop:f,controller:g,hotKey:p,animate:m,hideOnScroll:v,coverVisible:b,backdrop:_,zIndex:y,radius:w,edge:O,loop:I}=this.getPropsWithEnv(),{mounted:P}=this.state,C=Object.assign({},this.state),E=Object.assign(Object.assign({coverRef:e,coverPos:t,outBrowsing:o,set:n,preset:d,presetIsMobile:h,presetIsDesktop:f,controller:g,hotKey:p,animate:m,hideOnScroll:v,coverVisible:b,backdrop:_,radius:w,edge:O,loop:I},C),{toPage:this.handleToPage,toPrevPage:this.handleToPrevPage,toNextPage:this.handleToNextPage,toggleZoom:this.handleToggleZoom,toggleRotate:this.handleToggleRotate});return i.default.createElement(u.Context.Provider,{value:E},P&&i.default.createElement(a.default,{id:"zmage",zIndex:y,className:r.default.wrapperLayer},i.default.createElement(c.default,Object.assign({},C)),i.default.createElement(s.default,null),i.default.createElement(l.default,Object.assign({},C))))}}t.default=p,p.defaultProps={isBrowsingControlled:!1,browsing:!1,coverRef:i.default.createRef(),outBrowsing:()=>{},defaultPage:0,set:[]},p.contextType=u.Context},603:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hideCover=t.showCover=t.pageSet=t.pageIsCover=t.pageDefault=void 0;const n=o(928);t.pageDefault=(e,t)=>n.isInteger(e)&&e<t.length-1?e:t.length-1,t.pageIsCover=(e,t,o)=>{var n;return 0===o||(null===(n=null==e?void 0:e.current)||void 0===n?void 0:n.getAttribute("src"))===t[o].src},t.pageSet=(e,o,n)=>{const i=t.pageDefault(o,n);return{page:i,pageIsCover:t.pageIsCover(e,n,i)}},t.showCover=e=>{(null==e?void 0:e.current)&&(e.current.style.visibility="visible")},t.hideCover=e=>{setTimeout((()=>{(null==e?void 0:e.current)&&(e.current.style.visibility="hidden")}),100)}},228:function(e,t,o){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(696);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(i).default}})},318:function(e,t,o){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,o,n){void 0===n&&(n=o),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[o]}})}:function(e,t,o,n){void 0===n&&(n=o),e[n]=t[o]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&n(t,e,o);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=a(o(184)),l=r(o(798)),c=a(o(732)),u=o(565),d=o(880),h=o(928);function f(e,t,o,n,i,r,a,s){return"boolean"==typeof e||"string"==typeof e?!!e&&l.default.createElement("div",{id:o,className:n,onClick:i},s||l.default.createElement(t,{color:"string"==typeof e?e:""})):l.default.isValidElement(e)?l.default.cloneElement(e,{show:r,zoom:a,onClick:i}):null}t.default=function(){const{set:e,presetIsMobile:t,controller:o,backdrop:n,loop:i,show:r,zoom:a,page:g,outBrowsing:p,toPage:m,toPrevPage:v,toNextPage:b,toggleZoom:_,toggleRotate:y}=l.useContext(d.Context),w=o||{};return l.default.createElement(l.Fragment,null,l.default.createElement("div",{id:"zmageControl",className:s.default(c.default.controls,{[c.default.show]:!a&&r}),style:{backgroundColor:n}},f(w.rotateLeft||w.rotate,u.IconRotateLeft,"zmageControlRotateLeft",s.default(c.default.rotateLeft,{[c.default.show]:!a&&r}),y("left"),r,a),f(w.rotateRight||w.rotate,u.IconRotateRight,"zmageControlRotateRight",s.default(c.default.rotateRight,{[c.default.show]:!a&&r}),y("right"),r,a),f(w.download,u.IconDownload,"zmageControlDownload",s.default(c.default.download,{[c.default.show]:!a&&r}),(()=>h.downloadFromLink(e[g].src)),r,a),f(w.zoom,u.IconZoom,"zmageControlZoom",s.default(c.default.zoom,{[c.default.show]:!a&&r}),t?()=>window.open(e[g].src):_,r,a),f(w.close,u.IconClose,"zmageControlClose",s.default(c.default.close,{[c.default.show]:!a&&r}),a?_:p,r,a)),Array.isArray(e)&&e.length>1&&l.default.createElement(l.Fragment,null,(i||0!==g)&&f(w.flipLeft||w.flip,u.IconArrowLeft,"zmageControlFlipLeft",s.default(c.default.flipLeft,{[c.default.show]:!a&&r}),v,r,a),(i||g!==e.length-1)&&f(w.flipRight||w.flip,u.IconArrowRight,"zmageControlFlipRight",s.default(c.default.flipRight,{[c.default.show]:!a&&r}),b,r,a)),Array.isArray(e)&&e.length>1&&(l.default.isValidElement(w.pagination)?l.default.cloneElement(w.pagination,{show:r,zoom:a,onClick:m}):!!w.pagination&&l.default.createElement("div",{id:"zmageControlPagination",className:s.default(c.default.pages,{[c.default.show]:!a&&r,[c.default.mobile]:t}),style:{backgroundColor:n}},e.map(((e,t)=>t===g?l.default.createElement("span",{key:t,id:"zmageControlPaginationActive",className:c.default.blackDot}):l.default.createElement("span",{key:t,className:c.default.whiteDot,onClick:()=>m(t)}))))))}},186:function(e,t,o){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(318);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(i).default}})},84:function(e,t,o){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,o,n){void 0===n&&(n=o),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[o]}})}:function(e,t,o,n){void 0===n&&(n=o),e[n]=t[o]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&n(t,e,o);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=a(o(184)),l=r(o(798)),c=a(o(330)),u=a(o(922)),d=o(880),h=o(928),f=o(30);class g extends l.default.Component{constructor(){var e;super(...arguments),this.imageRef=l.default.createRef(),this.initialPageOffset=window.pageYOffset,this.state={isFetching:!0,invalidate:!1,currentStyle:f.getCoverStyle(this.context),animateConfig:f.getAnimateConfig(null===(e=this.context.animate)||void 0===e?void 0:e.flip),touchProfile:new f.TouchProfile,timestamp:{}},this.updateZoomEventListenerWithState=()=>{const{show:e,zoom:t}=this.context;e&&t&&!this.listeningMouseMove?(window.addEventListener("mousemove",this.handleMouseMove),this.listeningMouseMove=!0):(window.removeEventListener("mousemove",this.handleMouseMove),this.listeningMouseMove=!1)},this.updateCurrentImageStyle=()=>{const{touchProfile:e}=this.state,t=f.getCurrentImageStyle(this.context,this.imageRef,e);this.setCurrentStyle(t)},this.debounceUpdateCurrentImageStyle=h.debounce(this.updateCurrentImageStyle,50),this.handleResize=()=>{this.debounceUpdateCurrentImageStyle()},this.handleScroll=()=>{if(this.imageRef.current){const{show:e}=this.context;this.imageRef.current.style.top=`calc(50% + ${e?0:this.initialPageOffset-window.pageYOffset}px)`}},this.handleClick=()=>{const{zoom:e,toggleZoom:t}=this.context;e&&t()},this.handleTouchStart=e=>{const{clientX:t,clientY:o}=e.touches[0];this.setTouchProfile(new f.TouchProfile({origin:{x:t,y:o}}))},this.handleTouchMove=e=>{const{touchProfile:t}=this.state,{clientX:o,clientY:n}=e.touches[0];this.setTouchProfile(t.update({origin:{x:o,y:n}}))},this.handleTouchEnd=()=>{const{touchProfile:e}=this.state;this.setTouchProfile(e.end())},this.handleMouseMove=e=>{const t=f.getZoomingStyle(this.context,this.imageRef,e);this.setCurrentStyle(t)},this.handleImageLoadStart=()=>{this.setState({isFetching:!0,invalidate:!1},this.handleDetectImageLoadComplete)},this.handleDetectImageLoadComplete=()=>{clearInterval(this.imageLoadingTimer),this.imageLoadingTimer=h.checkImageLoadedComplete(this.imageRef.current,this.handleImageLoadEnd)},this.handleImageLoadEnd=({invalidate:e}={invalidate:!1})=>{clearInterval(this.imageLoadingTimer),this.setState({isFetching:!1,invalidate:void 0===e?this.state.invalidate:e})},this.handleImageLoad=()=>{this.debounceUpdateCurrentImageStyle()},this.handleImageError=()=>{this.handleImageLoadEnd({invalidate:!0})},this.handleImageAbort=()=>{this.handleImageLoadEnd({invalidate:!0})},this.handleImageReload=()=>{const{page:e}=this.context;this.handleSetTimestamp(e)},this.handleSetTimestamp=e=>{const{set:t}=this.context,{timestamp:o}=this.state;this.setState({timestamp:Object.assign(Object.assign({},o),{[t[e].src]:(new Date).getTime()})})},this.handleGetTimestamp=e=>{const{set:t}=this.context,{timestamp:o}=this.state;return o[t[e].src]},this.setCurrentStyle=e=>{const{animate:t}=this.context,{currentStyle:o}=this.state;this.setState({currentStyle:"merge"===e._behavior?Object.assign(Object.assign({},o),e):e,animateConfig:f.getAnimateConfig((t||{}).flip)})},this.setTouchProfile=e=>{e&&this.setState({touchProfile:e},(()=>{const{outBrowsing:e,toPrevPage:t,toNextPage:o}=this.context,{touchProfile:n}=this.state;n.phase===f.TOUCH_BEHAVIOR_PHASE.END&&(n.behavior===f.TOUCH_BEHAVIOR_TYPE.SWIPING?n.getCurrentOffset().x<0?o():t():n.behavior===f.TOUCH_BEHAVIOR_TYPE.LIVING&&e())}))},this.getStyle=(e,t,o)=>{const{set:n,zoom:i,page:r}=this.context,{invalidate:a,currentStyle:s,touchProfile:l,animateConfig:c}=this.state;let u,d,f,{offset:g,overflow:p,opacity:m}=c;const{touch:v,transition:b}=l.getTouchConfig({enableSwiping:n.length>1,enableLiving:!0});return o?(u=`translate3d(-50%, -50%, 0) translate3d(${1===t?(s.x||0)+v.x+g*e:(s.x||0)+g*e}px, ${s.y}px, 0px) scale3d(${(s.scale||0)+p}, ${(s.scale||0)+p}, 1) rotate3d(0, 0, 1, 0deg)`,d=10*t,f="none"):(u=`translate3d(-50%, -50%, 0) translate3d(${(s.x||0)+v.x}px, ${s.y+v.y}px, 0px) scale3d(${s.scale}, ${s.scale}, 1) rotate3d(0, 0, 1, ${s.rotate}deg)`,d=10,m=s.opacity||1),Object.assign(Object.assign(Object.assign({},h.withVendorPrefix({transform:u})),{cursor:i?"zoom-out":"initial",zIndex:d,opacity:a?0:m,transition:b,pointerEvents:f}),n[r].style)},this.buildImageSeries=e=>{const{loop:t=!1,set:o,page:n}=this.context;return o.length>1?h.mirrorRange(e).reduce(((e,i)=>{const r=h.getTargetPage(n,o.length,i,{loop:t});if(h.isInteger(r)){const t=this.buildImage({step:i,imageIndex:r});t&&e.push(t)}return e}),[]):this.buildImage({step:0,imageIndex:n})},this.buildImage=({step:e=0,imageIndex:t=0}={})=>{const{set:o,show:n,zoom:i,page:r,pageWithStep:a}=this.context,{invalidate:u}=this.state,d=Math.abs(e),f=d>0,g=a+e,p=this.getStyle(e,d,f),m=s.default(c.default.imageLayer,o[t].className,{[c.default.zooming]:i,[c.default.invalidate]:u}),v={key:`${g}-${o[t].src}`,style:p,className:m,src:h.appendParams(o[t].src,{t:this.handleGetTimestamp(r)}),alt:o[t].alt},b={id:"zmageImage",ref:this.imageRef,onLoad:this.handleImageLoad,onError:this.handleImageError,onAbort:this.handleImageAbort,onClick:this.handleClick};return f?n&&!i&&l.default.createElement("img",Object.assign({},v)):l.default.createElement("img",Object.assign({},v,b))}}componentDidMount(){const{presetIsMobile:e,presetIsDesktop:t}=this.context;window.addEventListener("resize",this.handleResize),e&&window.requestAnimationFrame((()=>{window.addEventListener("touchstart",this.handleTouchStart),window.addEventListener("touchmove",this.handleTouchMove),window.addEventListener("touchend",this.handleTouchEnd)})),t&&window.requestAnimationFrame((()=>{window.addEventListener("scroll",this.handleScroll)}))}componentDidUpdate(e){const{show:t,zoom:o,rotate:n,page:i}=e,{show:r,zoom:a,rotate:s,page:l}=this.props,{presetIsMobile:c}=this.context;t===r&&o===a&&n===s||(t?this.debounceUpdateCurrentImageStyle():(this.debounceUpdateCurrentImageStyle(),this.handleDetectImageLoadComplete(),c&&h.lockTouchInteraction()),this.updateZoomEventListenerWithState()),i!==l&&this.handleImageLoadStart()}componentWillUnmount(){const{presetIsMobile:e,presetIsDesktop:t}=this.context;e&&(window.removeEventListener("touchstart",this.handleTouchStart),window.removeEventListener("touchmove",this.handleTouchMove),window.removeEventListener("touchend",this.handleTouchEnd)),t&&window.removeEventListener("scroll",this.handleScroll),window.removeEventListener("resize",this.handleResize),window.removeEventListener("mousemove",this.handleMouseMove),clearInterval(this.imageLoadingTimer)}render(){const{show:e,pageIsCover:t}=this.context,{isFetching:o,invalidate:n}=this.state;return l.default.createElement(l.Fragment,null,l.default.createElement(u.default,{show:e&&(!t||n),load:o,invalidate:n,onReload:this.handleImageReload}),this.buildImageSeries(2))}}t.default=g,g.contextType=d.Context},30:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TouchProfile=t.TOUCH_BEHAVIOR_TYPE=t.TOUCH_BEHAVIOR_PHASE=t.getAnimateConfig=t.getZoomingStyle=t.getBrowsingStyle=t.getCoverStyle=t.getCurrentImageStyle=void 0;const n=o(928),i=o(507);t.getCurrentImageStyle=(e,o,n)=>{const{show:i,zoom:r}=e;return i?r?t.getZoomingStyle(e,o):t.getBrowsingStyle(e,o):t.getCoverStyle(e,o,n)},t.getCoverStyle=(e,t,o)=>{const{coverRef:i,coverPos:a,rotate:s,pageIsCover:l}=e;if(o&&o.phase===r.END)return{_type:"cover",_behavior:"merge",y:o.getCurrentOffset().y>0?n.getInnerHeight():-n.getInnerHeight()};if(i.current){const{naturalWidth:e}=i.current,{top:t,left:o,width:r,height:a}=i.current.getBoundingClientRect(),{opacity:c,borderRadius:u}=window.getComputedStyle(i.current);return l?{_type:"cover",x:-n.getScrollWidth()/2+o+r/2,y:-n.getInnerHeight()/2+t+a/2,opacity:Number(c)||1,scale:e?r/e:1,rotate:s-s%360,radius:n.numberOfStyleUnits(u,{ref:r})}:{_type:"cover",x:0,y:-n.getInnerHeight(),opacity:0,scale:e?r/e:1,rotate:s-s%360,radius:n.numberOfStyleUnits(u,{ref:r})}}return a?{_type:"cover",x:a.x?a.x-n.getScrollWidth()/2:0,y:a.y?a.y-n.getInnerHeight()/2:0,opacity:0,scale:0,rotate:0,radius:0}:{_type:"cover",x:0,y:0,opacity:0,scale:0,rotate:0,radius:0}},t.getBrowsingStyle=(e,t)=>{const{radius:o,edge:i,rotate:r}=e,{naturalWidth:a=0,naturalHeight:s=0}=t.current||{};return{_type:"browsing",x:0,y:0,opacity:1,scale:n.calcFitScale(a,s,i),rotate:r,radius:o}},t.getZoomingStyle=(e,t,{clientX:o=n.getScrollWidth()/2,clientY:i=n.getInnerHeight()/2}={})=>{const{radius:r,edge:a,rotate:s}=e,{naturalWidth:l=0,naturalHeight:c=0}=t.current||{},u=a||50,d=n.getScrollWidth(),h=n.getInnerHeight();return{_type:"zooming",x:l>d?(l-d)/2+u-o/d*(l-d+2*u):0,y:c>h?(c-h)/2+u-i/h*(c-h+2*u):0,opacity:1,scale:1,rotate:s,radius:r}},t.getAnimateConfig=e=>{let t=0,o=0,i=1;switch(e){case"fade":i=0;break;case"crossFade":t=30,i=0;break;case"swipe":t=n.getScrollWidth()+10;break;case"zoom":o=.08,i=0}return{offset:t,overflow:o,opacity:i}};var r,a;!function(e){e.BEGIN="BEGIN",e.MOVING="MOVING",e.END="END"}(r=t.TOUCH_BEHAVIOR_PHASE||(t.TOUCH_BEHAVIOR_PHASE={})),function(e){e.IDLE="IDLE",e.SWIPING="SWIPING",e.LIVING="LIVING"}(a=t.TOUCH_BEHAVIOR_TYPE||(t.TOUCH_BEHAVIOR_TYPE={})),t.TouchProfile=class{constructor(e){this.getCurrentOffset=()=>({x:this.current.origin.x-this.begin.origin.x,y:this.current.origin.y-this.begin.origin.y}),this.getCurrentDistance=()=>{const e=this.getCurrentOffset();return{x:Math.abs(e.x),y:Math.abs(e.y)}},this.getTouchConfig=({enableSwiping:e,enableLiving:t}={enableSwiping:!1,enableLiving:!1})=>{let o;const n={x:0,y:0};if(this.phase===r.MOVING){const i=this.getCurrentOffset();this.behavior===a.SWIPING&&e?(n.x=i.x,o="none"):this.behavior===a.LIVING&&t&&(n.y=i.y,o="none")}return this.phase===r.END&&(o=i.animationTransition(2)),{touch:n,transition:o}},this.update=e=>{if(this.phase=r.MOVING,this.current.origin=e.origin||{x:0,y:0},this.behavior!==a.IDLE){const e=this.getCurrentDistance();e.x>e.y?e.x>5&&(this.behavior=a.SWIPING):e.y>5&&(this.behavior=a.LIVING)}return this},this.end=()=>{this.phase=r.END;const e=(new Date).getTime()-this.begin.time,t=this.getCurrentDistance();return(this.behavior===a.SWIPING&&t.x/e<.35&&t.x<120||this.behavior===a.LIVING&&t.y/e<.35&&t.y<80)&&(this.behavior=a.IDLE),this},this.updateCounter=0,this.phase=r.BEGIN,this.behavior=a.IDLE,this.begin={time:(new Date).getTime(),origin:(null==e?void 0:e.origin)||{x:0,y:0},offset:{x:0,y:0}},this.current={origin:(null==e?void 0:e.origin)||{x:0,y:0},offset:{x:0,y:0}}}}},882:function(e,t,o){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(84);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(i).default}})},922:function(e,t,o){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,o,n){void 0===n&&(n=o),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[o]}})}:function(e,t,o,n){void 0===n&&(n=o),e[n]=t[o]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)"default"!==o&&Object.prototype.hasOwnProperty.call(e,o)&&n(t,e,o);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=a(o(184)),l=r(o(798)),c=a(o(20)),u=o(565);t.default=function({show:e,load:t,invalidate:o,onReload:n,backdrop:i}){return l.default.createElement(l.Fragment,null,(t||o)&&l.default.createElement("div",{id:"zmageLoading",className:s.default(c.default.loadingContainer,{[c.default.show]:e})},t&&l.default.createElement("div",{className:c.default.loading},l.default.createElement(u.IconLoading,null)),o&&l.default.createElement("button",{className:c.default.reload,onClick:n,style:{background:i}},l.default.createElement(u.IconRefresh,null))))}},593:function(e,t,o){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=o(798),r=n(o(413));t.default=function({id:e,target:t,zIndex:o,className:n,children:a}){const[s]=i.useState(t||document.body),[l]=i.useState((()=>{const t=document.createElement("figure");return e&&(t.id=e),n&&(t.className=n),o&&(t.style.zIndex=String(o)),null==s||s.appendChild(t),t}));return i.useEffect((()=>()=>{null==s||s.removeChild(l)}),[]),r.default.createPortal(a,l)}},176:function(e,t,o){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(593);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(i).default}})},880:(e,t,o)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Context=void 0;const n=o(798);t.Context=n.createContext({})},507:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.animationTransition=t.animationDurationOnZooming=t.animationFunctionOnZooming=t.animationDuration=t.animationFunction=void 0,t.animationFunction="cubic-bezier(0.60, 0.0, 0.10, 1.0)",t.animationDuration=350,t.animationFunctionOnZooming="cubic-bezier(0, 0.1, 0.1, 1)",t.animationDurationOnZooming=0,t.animationTransition=(e=1)=>`transform ${t.animationDuration*e}ms ${t.animationFunction}, opacity ${t.animationDuration*e}ms ${t.animationFunction}, clip-path ${t.animationDuration*e}ms ${t.animationFunction}`},607:function(e,t,o){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=o(262);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n(i).default}})},219:function(e,t){"use strict";var o=this&&this.__rest||function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(n=Object.getOwnPropertySymbols(e);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(e,n[i])&&(o[n[i]]=e[n[i]])}return o};Object.defineProperty(t,"__esModule",{value:!0}),t.getConfigFromProps=t.defPropsWithEnv=t.defPreset=t.defProp=void 0,t.defProp={src:"",alt:"",txt:"",set:[],defaultPage:0,preset:"",controller:{},hotKey:{},animate:{},hideOnScroll:!0,coverVisible:!1,backdrop:"#FFFFFF",zIndex:1e3,radius:0,edge:0,loop:!0,onBrowsing:()=>{},onZooming:()=>{},onSwitching:()=>{},onRotating:()=>{}},t.defPreset={desktop:{controller:{pagination:!0,rotate:!0,zoom:!0,download:!1,close:!0,flip:!0},hotKey:{close:!0,zoom:!0,flip:!0},animate:{browsing:!0,flip:"fade"}},mobile:{controller:{pagination:!0,rotate:!1,zoom:!1,download:!1,close:!0,flip:!1},hotKey:{close:!1,zoom:!1,flip:!1},animate:{browsing:!0,flip:"swipe"}}};let n=!1;const i=Object.assign(Object.assign({},t.defProp),t.defPreset.desktop),r=Object.assign(Object.assign({},t.defProp),t.defPreset.mobile);t.defPropsWithEnv=e=>{switch(e){case"desktop":return i;case"mobile":return r;case"auto":return n||(console.warn("Zmage: The value 'auto' for the props 'preset' has been deprecated, replace with one of 'Desktop' or 'Mobile', the value 'auto' will be fallback to 'desktop'"),n=!0),i;default:return i}},t.getConfigFromProps=e=>{const{className:t,style:n,onClick:i,forwardedRef:r,coverRef:a,destructor:s,src:l,alt:c,txt:u,set:d,defaultPage:h,preset:f,controller:g,hotKey:p,animate:m,hideOnScroll:v,coverVisible:b,backdrop:_,zIndex:y,radius:w,edge:O,loop:I,onBrowsing:P,onZooming:C,onSwitching:E,onRotating:S,browsing:R}=e,j=o(e,["className","style","onClick","forwardedRef","coverRef","destructor","src","alt","txt","set","defaultPage","preset","controller","hotKey","animate","hideOnScroll","coverVisible","backdrop","zIndex","radius","edge","loop","onBrowsing","onZooming","onSwitching","onRotating","browsing"]);return{coverProps:{className:t,style:n,onClick:i,forwardedRef:r,src:l,alt:c,txt:u},calleeProps:{coverRef:a,destructor:s},controlledProps:{browsing:R},configProps:{defaultPage:h,set:Array.isArray(d)&&d.length>0?d:[Object.assign({src:l,alt:c,txt:u},j)],preset:f,controller:g,hotKey:p,animate:m,hideOnScroll:v,coverVisible:b,backdrop:_,zIndex:y,radius:w,edge:O,loop:I,onBrowsing:P,onZooming:C,onSwitching:E,onRotating:S},restProps:j}}},928:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GlobalClickMonitor=t.debounce=t.mirrorRange=t.getTargetPage=t.isInteger=t.withVendorPrefix=t.uppercaseFirstLetter=t.downloadFromLink=t.numberOfStyleUnits=t.appendParams=t.checkImageLoadedComplete=t.unlockTouchInteraction=t.lockTouchInteraction=t.getClientHeight=t.getScrollHeight=t.getInnerHeight=t.getClientWidth=t.getScrollWidth=t.getInnerWidth=t.calcFitScale=void 0,t.calcFitScale=(e,o,n=0)=>{const i=t.getClientWidth(),r=t.getClientHeight(),a=e+2*n>i?i/(e+2*n):1,s=o+2*n>r?r/(o+2*n):1;return Math.min(a,s)+.002},t.getInnerWidth=()=>window.innerWidth,t.getScrollWidth=()=>document.body.scrollWidth,t.getClientWidth=()=>document.documentElement.clientWidth,t.getInnerHeight=()=>window.innerHeight,t.getScrollHeight=()=>document.body.scrollHeight,t.getClientHeight=()=>document.documentElement.clientHeight;const o={documentOverflow:"",bodyOverflow:"",bodyPosition:""};t.lockTouchInteraction=()=>{o.documentOverflow=document.documentElement.style.overflow,o.bodyOverflow=document.body.style.overflow,o.bodyPosition=document.body.style.position,document.documentElement.style.overflow="hidden",document.body.style.overflow="hidden",document.body.style.position="relative"},t.unlockTouchInteraction=()=>{document.documentElement.style.overflow=o.documentOverflow,document.body.style.overflow=o.bodyOverflow,document.body.style.position=o.bodyPosition},t.checkImageLoadedComplete=(e,t)=>{const o=setInterval((()=>{e&&!e.complete||(clearInterval(o),t())}),500);return o},t.appendParams=(e,t={})=>{const o=Object.keys(t).reduce(((e,o="")=>t[o]?e.concat(`${o}=${t[o]}`):e),[]).join("&");return o?`${e}${e.includes("?")?"&":"?"}${o}`:e},t.numberOfStyleUnits=(e,t={ref:100})=>e?e.includes("%")?t.ref*Number(e.substring(0,e.length-1))/100:Number(e.substring(0,e.length-2)):Number(e),t.downloadFromLink=(e,t)=>{const o=document.createElement("a");o.href=e,o.download=t||e.split("/")[e.split("/").length-1],document.body.appendChild(o),o.click(),document.body.removeChild(o)},t.uppercaseFirstLetter=e=>e.charAt(0).toUpperCase()+e.slice(1),t.withVendorPrefix=e=>{const o=["Webkit","Moz","Ms","O"];return Object.keys(e).reduce(((n,i)=>{const r=o.reduce(((o,n)=>Object.assign(Object.assign({},o),{[`${n}${t.uppercaseFirstLetter(i)}`]:e[i]})),{});return Object.assign(Object.assign({},n),r)}),e)},t.isInteger=e=>"number"==typeof e&&(0^e)===e,t.getTargetPage=(e,t,o,n={loop:!0})=>0===t?0:0===o?e:e<0||e>t-1?void 0:n.loop?Math.abs(t+o+e)%t:e+o<0||e+o>t-1?void 0:e+o;const n={0:[0],1:[-1,0,1],2:[-2,-1,0,1,2],3:[-3,-2,-1,0,1,2,3]};t.mirrorRange=e=>n[e],t.debounce=(e,t)=>{let o;return(...n)=>{const i=this;clearTimeout(o),o=setTimeout((()=>{e.apply(i,n)}),t)}};class i{constructor({position:e}={position:i.CENTER_POSITION}){if(this.currentPosition=i.CENTER_POSITION,this.debounceInterval=200,this.debounceResetPosition=t.debounce((()=>{this.currentPosition=i.CENTER_POSITION}),this.debounceInterval),this.update=e=>{this.currentPosition={x:e.clientX,y:e.clientY},this.debounceResetPosition()},window.__ZMAGE_GLOBAL_CLICK_MONITOR__)return window.__ZMAGE_GLOBAL_CLICK_MONITOR__;try{this.currentPosition=e,window&&(window.addEventListener("click",this.update),window.__ZMAGE_GLOBAL_CLICK_MONITOR__=this)}catch(e){return{currentPosition:i.CENTER_POSITION,destructor:()=>{}}}}destructor(){try{window.removeEventListener("click",this.update),window.__ZMAGE_GLOBAL_CLICK_MONITOR__=void 0}catch(e){}}}t.GlobalClickMonitor=i,i.CENTER_POSITION={x:0,y:0}},798:t=>{"use strict";t.exports=e},413:e=>{"use strict";e.exports=t}},n={};function i(e){var t=n[e];if(void 0!==t)return t.exports;var r=n[e]={exports:{}};return o[e].call(r.exports,r,r.exports,i),r.exports}return i.d=(e,t)=>{for(var o in t)i.o(t,o)&&!i.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i(607)})()}));