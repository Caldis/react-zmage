!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("prop-types"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","prop-types","react-dom"],t):"object"==typeof exports?exports["react-zmage"]=t(require("react"),require("prop-types"),require("react-dom")):e["react-zmage"]=t(e.react,e["prop-types"],e["react-dom"])}("undefined"!=typeof self?self:this,function(e,t,o){return function(e){var t={};function o(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}return o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}({"./node_modules/css-loader/index.js??ref--4-1!./node_modules/postcss-loader/lib/index.js??postcss!./node_modules/less-loader/dist/cjs.js!./src/components/Background/index.less":function(e,t,o){(t=e.exports=o("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".backgroundLayer__2zBDq{position:absolute;top:0;left:0;right:0;bottom:0;cursor:-webkit-zoom-out;cursor:zoom-out;background-color:#fff}",""]),t.locals={backgroundLayer:"backgroundLayer__2zBDq"}},"./node_modules/css-loader/index.js??ref--4-1!./node_modules/postcss-loader/lib/index.js??postcss!./node_modules/less-loader/dist/cjs.js!./src/components/Control/index.less":function(e,t,o){(t=e.exports=o("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".controls__2sOYg{position:absolute;padding:20px;top:0;right:0;z-index:90;display:-webkit-box;display:-ms-flexbox;display:flex}.controls__2sOYg,.zoomButton__3EA_v{-webkit-box-sizing:border-box;box-sizing:border-box}.zoomButton__3EA_v{margin:7px;width:26px;height:26px;cursor:pointer;border:1px solid #000}.zoomButton__3EA_v:hover{-webkit-transform:scale(1.1);transform:scale(1.1)}.closeButton__1hkr-,.zoomButton__3EA_v:active{-webkit-transform:scale(1);transform:scale(1)}.closeButton__1hkr-{width:40px;height:40px;cursor:pointer}.closeButton__1hkr- .crossLine__3lngH{position:absolute;top:50%;left:3px;width:35px;height:1px;background-color:#000;-webkit-transform-origin:50%;transform-origin:50%}.closeButton__1hkr-:hover{-webkit-transform:scale(1.1);transform:scale(1.1)}.closeButton__1hkr-:active{-webkit-transform:scale(1);transform:scale(1)}.pages__1SqZ9{-webkit-box-sizing:border-box;box-sizing:border-box;display:-webkit-box;display:-ms-flexbox;display:flex;position:absolute;left:50%;bottom:0;z-index:110;-webkit-transform:translateX(-50%);transform:translateX(-50%)}.pages__1SqZ9 .blackDot__1c8XI{background:#000}.pages__1SqZ9 .blackDot__1c8XI,.pages__1SqZ9 .whiteDot__WV_HE{cursor:pointer;margin:10px 4px;display:block;width:8px;height:8px;border-radius:4px}.pages__1SqZ9 .whiteDot__WV_HE{background:#999}",""]),t.locals={controls:"controls__2sOYg",zoomButton:"zoomButton__3EA_v",closeButton:"closeButton__1hkr-",crossLine:"crossLine__3lngH",pages:"pages__1SqZ9",blackDot:"blackDot__1c8XI",whiteDot:"whiteDot__WV_HE"}},"./node_modules/css-loader/index.js??ref--4-1!./node_modules/postcss-loader/lib/index.js??postcss!./node_modules/less-loader/dist/cjs.js!./src/components/Image/index.less":function(e,t,o){(t=e.exports=o("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".imageLayer__1CUlw{position:absolute;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border-radius:5px;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}",""]),t.locals={imageLayer:"imageLayer__1CUlw"}},"./node_modules/css-loader/index.js??ref--4-1!./node_modules/postcss-loader/lib/index.js??postcss!./node_modules/less-loader/dist/cjs.js!./src/components/Position/index.less":function(e,t,o){(t=e.exports=o("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".positionLayer__18_Gk{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.positionLayer__18_Gk>div{position:absolute;left:50%;width:0;height:0;z-index:100}",""]),t.locals={positionLayer:"positionLayer__18_Gk"}},"./node_modules/css-loader/index.js??ref--4-1!./node_modules/postcss-loader/lib/index.js??postcss!./node_modules/less-loader/dist/cjs.js!./src/components/Wrapper/index.less":function(e,t,o){(t=e.exports=o("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".wrapperLayer__12HA6{-webkit-box-sizing:border-box;box-sizing:border-box;position:fixed;top:0;left:0;right:0;bottom:0}",""]),t.locals={wrapperLayer:"wrapperLayer__12HA6"}},"./node_modules/css-loader/lib/css-base.js":function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var o=function(e,t){var o=e[1]||"",n=e[3];if(!n)return o;if(t&&"function"==typeof btoa){var r=(a=n,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),s=n.sources.map(function(e){return"/*# sourceURL="+n.sourceRoot+e+" */"});return[o].concat(s).concat([r]).join("\n")}var a;return[o].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+o+"}":o}).join("")},t.i=function(e,o){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},r=0;r<this.length;r++){var s=this[r][0];"number"==typeof s&&(n[s]=!0)}for(r=0;r<e.length;r++){var a=e[r];"number"==typeof a[0]&&n[a[0]]||(o&&!a[2]?a[2]=o:o&&(a[2]="("+a[2]+") and ("+o+")"),t.push(a))}},t}},"./node_modules/node-libs-browser/node_modules/process/browser.js":function(e,t){var o,n,r=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function i(e){if(o===setTimeout)return setTimeout(e,0);if((o===s||!o)&&setTimeout)return o=setTimeout,setTimeout(e,0);try{return o(e,0)}catch(t){try{return o.call(null,e,0)}catch(t){return o.call(this,e,0)}}}!function(){try{o="function"==typeof setTimeout?setTimeout:s}catch(e){o=s}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var l,u=[],c=!1,d=-1;function f(){c&&l&&(c=!1,l.length?u=l.concat(u):d=-1,u.length&&p())}function p(){if(!c){var e=i(f);c=!0;for(var t=u.length;t;){for(l=u,u=[];++d<t;)l&&l[d].run();d=-1,t=u.length}l=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function y(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var o=1;o<arguments.length;o++)t[o-1]=arguments[o];u.push(new m(e,t)),1!==u.length||c||i(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=y,r.addListener=y,r.once=y,r.off=y,r.removeListener=y,r.removeAllListeners=y,r.emit=y,r.prependListener=y,r.prependOnceListener=y,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},"./node_modules/performance-now/lib/performance-now.js":function(e,t,o){(function(t){(function(){var o,n,r;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:void 0!==t&&null!==t&&t.hrtime?(e.exports=function(){return(o()-r)/1e6},n=t.hrtime,r=(o=function(){var e;return 1e9*(e=n())[0]+e[1]})()):Date.now?(e.exports=function(){return Date.now()-r},r=Date.now()):(e.exports=function(){return(new Date).getTime()-r},r=(new Date).getTime())}).call(this)}).call(t,o("./node_modules/node-libs-browser/node_modules/process/browser.js"))},"./node_modules/raf/index.js":function(e,t,o){(function(t){for(var n=o("./node_modules/raf/node_modules/performance-now/lib/performance-now.js"),r="undefined"==typeof window?t:window,s=["moz","webkit"],a="AnimationFrame",i=r["request"+a],l=r["cancel"+a]||r["cancelRequest"+a],u=0;!i&&u<s.length;u++)i=r[s[u]+"Request"+a],l=r[s[u]+"Cancel"+a]||r[s[u]+"CancelRequest"+a];if(!i||!l){var c=0,d=0,f=[];i=function(e){if(0===f.length){var t=n(),o=Math.max(0,1e3/60-(t-c));c=o+t,setTimeout(function(){var e=f.slice(0);f.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(c)}catch(e){setTimeout(function(){throw e},0)}},Math.round(o))}return f.push({handle:++d,callback:e,cancelled:!1}),d},l=function(e){for(var t=0;t<f.length;t++)f[t].handle===e&&(f[t].cancelled=!0)}}e.exports=function(e){return i.call(r,e)},e.exports.cancel=function(){l.apply(r,arguments)},e.exports.polyfill=function(e){e||(e=r),e.requestAnimationFrame=i,e.cancelAnimationFrame=l}}).call(t,o("./node_modules/webpack/buildin/global.js"))},"./node_modules/raf/node_modules/performance-now/lib/performance-now.js":function(e,t,o){(function(t){(function(){var o,n,r,s,a,i;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:void 0!==t&&null!==t&&t.hrtime?(e.exports=function(){return(o()-a)/1e6},n=t.hrtime,s=(o=function(){var e;return 1e9*(e=n())[0]+e[1]})(),i=1e9*t.uptime(),a=s-i):Date.now?(e.exports=function(){return Date.now()-r},r=Date.now()):(e.exports=function(){return(new Date).getTime()-r},r=(new Date).getTime())}).call(this)}).call(t,o("./node_modules/node-libs-browser/node_modules/process/browser.js"))},"./node_modules/react-motion/lib/Motion.js":function(e,t,o){"use strict";t.__esModule=!0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},r=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}();function s(e){return e&&e.__esModule?e:{default:e}}var a=s(o("./node_modules/react-motion/lib/mapToZero.js")),i=s(o("./node_modules/react-motion/lib/stripStyle.js")),l=s(o("./node_modules/react-motion/lib/stepper.js")),u=s(o("./node_modules/performance-now/lib/performance-now.js")),c=s(o("./node_modules/raf/index.js")),d=s(o("./node_modules/react-motion/lib/shouldStopAnimation.js")),f=s(o("react")),p=s(o("prop-types")),m=1e3/60,y=function(e){function t(o){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.call(this,o),this.wasAnimating=!1,this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyle=null,this.clearUnreadPropStyle=function(e){var t=!1,o=r.state,s=o.currentStyle,a=o.currentVelocity,i=o.lastIdealStyle,l=o.lastIdealVelocity;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var c=e[u];"number"==typeof c&&(t||(t=!0,s=n({},s),a=n({},a),i=n({},i),l=n({},l)),s[u]=c,a[u]=0,i[u]=c,l[u]=0)}t&&r.setState({currentStyle:s,currentVelocity:a,lastIdealStyle:i,lastIdealVelocity:l})},this.startAnimationIfNecessary=function(){r.animationID=c.default(function(e){var t=r.props.style;if(d.default(r.state.currentStyle,t,r.state.currentVelocity))return r.wasAnimating&&r.props.onRest&&r.props.onRest(),r.animationID=null,r.wasAnimating=!1,void(r.accumulatedTime=0);r.wasAnimating=!0;var o=e||u.default(),n=o-r.prevTime;if(r.prevTime=o,r.accumulatedTime=r.accumulatedTime+n,r.accumulatedTime>10*m&&(r.accumulatedTime=0),0===r.accumulatedTime)return r.animationID=null,void r.startAnimationIfNecessary();var s=(r.accumulatedTime-Math.floor(r.accumulatedTime/m)*m)/m,a=Math.floor(r.accumulatedTime/m),i={},c={},f={},p={};for(var y in t)if(Object.prototype.hasOwnProperty.call(t,y)){var h=t[y];if("number"==typeof h)f[y]=h,p[y]=0,i[y]=h,c[y]=0;else{for(var v=r.state.lastIdealStyle[y],b=r.state.lastIdealVelocity[y],g=0;g<a;g++){var w=l.default(m/1e3,v,b,h.val,h.stiffness,h.damping,h.precision);v=w[0],b=w[1]}var _=l.default(m/1e3,v,b,h.val,h.stiffness,h.damping,h.precision),j=_[0],x=_[1];f[y]=v+(j-v)*s,p[y]=b+(x-b)*s,i[y]=v,c[y]=b}}r.animationID=null,r.accumulatedTime-=a*m,r.setState({currentStyle:f,currentVelocity:p,lastIdealStyle:i,lastIdealVelocity:c}),r.unreadPropStyle=null,r.startAnimationIfNecessary()})},this.state=this.defaultState()}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,null,[{key:"propTypes",value:{defaultStyle:p.default.objectOf(p.default.number),style:p.default.objectOf(p.default.oneOfType([p.default.number,p.default.object])).isRequired,children:p.default.func.isRequired,onRest:p.default.func},enumerable:!0}]),t.prototype.defaultState=function(){var e=this.props,t=e.defaultStyle,o=e.style,n=t||i.default(o),r=a.default(n);return{currentStyle:n,currentVelocity:r,lastIdealStyle:n,lastIdealVelocity:r}},t.prototype.componentDidMount=function(){this.prevTime=u.default(),this.startAnimationIfNecessary()},t.prototype.componentWillReceiveProps=function(e){null!=this.unreadPropStyle&&this.clearUnreadPropStyle(this.unreadPropStyle),this.unreadPropStyle=e.style,null==this.animationID&&(this.prevTime=u.default(),this.startAnimationIfNecessary())},t.prototype.componentWillUnmount=function(){null!=this.animationID&&(c.default.cancel(this.animationID),this.animationID=null)},t.prototype.render=function(){var e=this.props.children(this.state.currentStyle);return e&&f.default.Children.only(e)},t}(f.default.Component);t.default=y,e.exports=t.default},"./node_modules/react-motion/lib/StaggeredMotion.js":function(e,t,o){"use strict";t.__esModule=!0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},r=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}();function s(e){return e&&e.__esModule?e:{default:e}}var a=s(o("./node_modules/react-motion/lib/mapToZero.js")),i=s(o("./node_modules/react-motion/lib/stripStyle.js")),l=s(o("./node_modules/react-motion/lib/stepper.js")),u=s(o("./node_modules/performance-now/lib/performance-now.js")),c=s(o("./node_modules/raf/index.js")),d=s(o("./node_modules/react-motion/lib/shouldStopAnimation.js")),f=s(o("react")),p=s(o("prop-types")),m=1e3/60;var y=function(e){function t(o){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.call(this,o),this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyles=null,this.clearUnreadPropStyle=function(e){for(var t=r.state,o=t.currentStyles,s=t.currentVelocities,a=t.lastIdealStyles,i=t.lastIdealVelocities,l=!1,u=0;u<e.length;u++){var c=e[u],d=!1;for(var f in c)if(Object.prototype.hasOwnProperty.call(c,f)){var p=c[f];"number"==typeof p&&(d||(d=!0,l=!0,o[u]=n({},o[u]),s[u]=n({},s[u]),a[u]=n({},a[u]),i[u]=n({},i[u])),o[u][f]=p,s[u][f]=0,a[u][f]=p,i[u][f]=0)}}l&&r.setState({currentStyles:o,currentVelocities:s,lastIdealStyles:a,lastIdealVelocities:i})},this.startAnimationIfNecessary=function(){r.animationID=c.default(function(e){var t=r.props.styles(r.state.lastIdealStyles);if(function(e,t,o){for(var n=0;n<e.length;n++)if(!d.default(e[n],t[n],o[n]))return!1;return!0}(r.state.currentStyles,t,r.state.currentVelocities))return r.animationID=null,void(r.accumulatedTime=0);var o=e||u.default(),n=o-r.prevTime;if(r.prevTime=o,r.accumulatedTime=r.accumulatedTime+n,r.accumulatedTime>10*m&&(r.accumulatedTime=0),0===r.accumulatedTime)return r.animationID=null,void r.startAnimationIfNecessary();for(var s=(r.accumulatedTime-Math.floor(r.accumulatedTime/m)*m)/m,a=Math.floor(r.accumulatedTime/m),i=[],c=[],f=[],p=[],y=0;y<t.length;y++){var h=t[y],v={},b={},g={},w={};for(var _ in h)if(Object.prototype.hasOwnProperty.call(h,_)){var j=h[_];if("number"==typeof j)v[_]=j,b[_]=0,g[_]=j,w[_]=0;else{for(var x=r.state.lastIdealStyles[y][_],S=r.state.lastIdealVelocities[y][_],k=0;k<a;k++){var O=l.default(m/1e3,x,S,j.val,j.stiffness,j.damping,j.precision);x=O[0],S=O[1]}var P=l.default(m/1e3,x,S,j.val,j.stiffness,j.damping,j.precision),T=P[0],I=P[1];v[_]=x+(T-x)*s,b[_]=S+(I-S)*s,g[_]=x,w[_]=S}}f[y]=v,p[y]=b,i[y]=g,c[y]=w}r.animationID=null,r.accumulatedTime-=a*m,r.setState({currentStyles:f,currentVelocities:p,lastIdealStyles:i,lastIdealVelocities:c}),r.unreadPropStyles=null,r.startAnimationIfNecessary()})},this.state=this.defaultState()}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,null,[{key:"propTypes",value:{defaultStyles:p.default.arrayOf(p.default.objectOf(p.default.number)),styles:p.default.func.isRequired,children:p.default.func.isRequired},enumerable:!0}]),t.prototype.defaultState=function(){var e=this.props,t=e.defaultStyles,o=e.styles,n=t||o().map(i.default),r=n.map(function(e){return a.default(e)});return{currentStyles:n,currentVelocities:r,lastIdealStyles:n,lastIdealVelocities:r}},t.prototype.componentDidMount=function(){this.prevTime=u.default(),this.startAnimationIfNecessary()},t.prototype.componentWillReceiveProps=function(e){null!=this.unreadPropStyles&&this.clearUnreadPropStyle(this.unreadPropStyles),this.unreadPropStyles=e.styles(this.state.lastIdealStyles),null==this.animationID&&(this.prevTime=u.default(),this.startAnimationIfNecessary())},t.prototype.componentWillUnmount=function(){null!=this.animationID&&(c.default.cancel(this.animationID),this.animationID=null)},t.prototype.render=function(){var e=this.props.children(this.state.currentStyles);return e&&f.default.Children.only(e)},t}(f.default.Component);t.default=y,e.exports=t.default},"./node_modules/react-motion/lib/TransitionMotion.js":function(e,t,o){"use strict";t.__esModule=!0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},r=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}();function s(e){return e&&e.__esModule?e:{default:e}}var a=s(o("./node_modules/react-motion/lib/mapToZero.js")),i=s(o("./node_modules/react-motion/lib/stripStyle.js")),l=s(o("./node_modules/react-motion/lib/stepper.js")),u=s(o("./node_modules/react-motion/lib/mergeDiff.js")),c=s(o("./node_modules/performance-now/lib/performance-now.js")),d=s(o("./node_modules/raf/index.js")),f=s(o("./node_modules/react-motion/lib/shouldStopAnimation.js")),p=s(o("react")),m=s(o("prop-types")),y=1e3/60;function h(e,t,o){var n=t;return null==n?e.map(function(e,t){return{key:e.key,data:e.data,style:o[t]}}):e.map(function(e,t){for(var r=0;r<n.length;r++)if(n[r].key===e.key)return{key:n[r].key,data:n[r].data,style:o[t]};return{key:e.key,data:e.data,style:o[t]}})}function v(e,t,o,n,r,s,i,l,c){for(var d=u.default(n,r,function(e,n){var r=t(n);return null==r?(o({key:n.key,data:n.data}),null):f.default(s[e],r,i[e])?(o({key:n.key,data:n.data}),null):{key:n.key,data:n.data,style:r}}),p=[],m=[],y=[],h=[],v=0;v<d.length;v++){for(var b=d[v],g=null,w=0;w<n.length;w++)if(n[w].key===b.key){g=w;break}if(null==g){var _=e(b);p[v]=_,y[v]=_;var j=a.default(b.style);m[v]=j,h[v]=j}else p[v]=s[g],y[v]=l[g],m[v]=i[g],h[v]=c[g]}return[d,p,m,y,h]}var b=function(e){function t(o){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.call(this,o),this.unmounting=!1,this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyles=null,this.clearUnreadPropStyle=function(e){for(var t=v(r.props.willEnter,r.props.willLeave,r.props.didLeave,r.state.mergedPropsStyles,e,r.state.currentStyles,r.state.currentVelocities,r.state.lastIdealStyles,r.state.lastIdealVelocities),o=t[0],s=t[1],a=t[2],i=t[3],l=t[4],u=0;u<e.length;u++){var c=e[u].style,d=!1;for(var f in c)if(Object.prototype.hasOwnProperty.call(c,f)){var p=c[f];"number"==typeof p&&(d||(d=!0,s[u]=n({},s[u]),a[u]=n({},a[u]),i[u]=n({},i[u]),l[u]=n({},l[u]),o[u]={key:o[u].key,data:o[u].data,style:n({},o[u].style)}),s[u][f]=p,a[u][f]=0,i[u][f]=p,l[u][f]=0,o[u].style[f]=p)}}r.setState({currentStyles:s,currentVelocities:a,mergedPropsStyles:o,lastIdealStyles:i,lastIdealVelocities:l})},this.startAnimationIfNecessary=function(){r.unmounting||(r.animationID=d.default(function(e){if(!r.unmounting){var t=r.props.styles,o="function"==typeof t?t(h(r.state.mergedPropsStyles,r.unreadPropStyles,r.state.lastIdealStyles)):t;if(function(e,t,o,n){if(n.length!==t.length)return!1;for(var r=0;r<n.length;r++)if(n[r].key!==t[r].key)return!1;for(r=0;r<n.length;r++)if(!f.default(e[r],t[r].style,o[r]))return!1;return!0}(r.state.currentStyles,o,r.state.currentVelocities,r.state.mergedPropsStyles))return r.animationID=null,void(r.accumulatedTime=0);var n=e||c.default(),s=n-r.prevTime;if(r.prevTime=n,r.accumulatedTime=r.accumulatedTime+s,r.accumulatedTime>10*y&&(r.accumulatedTime=0),0===r.accumulatedTime)return r.animationID=null,void r.startAnimationIfNecessary();for(var a=(r.accumulatedTime-Math.floor(r.accumulatedTime/y)*y)/y,i=Math.floor(r.accumulatedTime/y),u=v(r.props.willEnter,r.props.willLeave,r.props.didLeave,r.state.mergedPropsStyles,o,r.state.currentStyles,r.state.currentVelocities,r.state.lastIdealStyles,r.state.lastIdealVelocities),d=u[0],p=u[1],m=u[2],b=u[3],g=u[4],w=0;w<d.length;w++){var _=d[w].style,j={},x={},S={},k={};for(var O in _)if(Object.prototype.hasOwnProperty.call(_,O)){var P=_[O];if("number"==typeof P)j[O]=P,x[O]=0,S[O]=P,k[O]=0;else{for(var T=b[w][O],I=g[w][O],E=0;E<i;E++){var M=l.default(y/1e3,T,I,P.val,P.stiffness,P.damping,P.precision);T=M[0],I=M[1]}var z=l.default(y/1e3,T,I,P.val,P.stiffness,P.damping,P.precision),L=z[0],C=z[1];j[O]=T+(L-T)*a,x[O]=I+(C-I)*a,S[O]=T,k[O]=I}}b[w]=S,g[w]=k,p[w]=j,m[w]=x}r.animationID=null,r.accumulatedTime-=i*y,r.setState({currentStyles:p,currentVelocities:m,lastIdealStyles:b,lastIdealVelocities:g,mergedPropsStyles:d}),r.unreadPropStyles=null,r.startAnimationIfNecessary()}}))},this.state=this.defaultState()}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,null,[{key:"propTypes",value:{defaultStyles:m.default.arrayOf(m.default.shape({key:m.default.string.isRequired,data:m.default.any,style:m.default.objectOf(m.default.number).isRequired})),styles:m.default.oneOfType([m.default.func,m.default.arrayOf(m.default.shape({key:m.default.string.isRequired,data:m.default.any,style:m.default.objectOf(m.default.oneOfType([m.default.number,m.default.object])).isRequired}))]).isRequired,children:m.default.func.isRequired,willEnter:m.default.func,willLeave:m.default.func,didLeave:m.default.func},enumerable:!0},{key:"defaultProps",value:{willEnter:function(e){return i.default(e.style)},willLeave:function(){return null},didLeave:function(){}},enumerable:!0}]),t.prototype.defaultState=function(){var e=this.props,t=e.defaultStyles,o=e.styles,n=e.willEnter,r=e.willLeave,s=e.didLeave,l="function"==typeof o?o(t):o,u=void 0;u=null==t?l:t.map(function(e){for(var t=0;t<l.length;t++)if(l[t].key===e.key)return l[t];return e});var c=null==t?l.map(function(e){return i.default(e.style)}):t.map(function(e){return i.default(e.style)}),d=null==t?l.map(function(e){return a.default(e.style)}):t.map(function(e){return a.default(e.style)}),f=v(n,r,s,u,l,c,d,c,d),p=f[0];return{currentStyles:f[1],currentVelocities:f[2],lastIdealStyles:f[3],lastIdealVelocities:f[4],mergedPropsStyles:p}},t.prototype.componentDidMount=function(){this.prevTime=c.default(),this.startAnimationIfNecessary()},t.prototype.componentWillReceiveProps=function(e){this.unreadPropStyles&&this.clearUnreadPropStyle(this.unreadPropStyles);var t=e.styles;this.unreadPropStyles="function"==typeof t?t(h(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.lastIdealStyles)):t,null==this.animationID&&(this.prevTime=c.default(),this.startAnimationIfNecessary())},t.prototype.componentWillUnmount=function(){this.unmounting=!0,null!=this.animationID&&(d.default.cancel(this.animationID),this.animationID=null)},t.prototype.render=function(){var e=h(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.currentStyles),t=this.props.children(e);return t&&p.default.Children.only(t)},t}(p.default.Component);t.default=b,e.exports=t.default},"./node_modules/react-motion/lib/mapToZero.js":function(e,t,o){"use strict";t.__esModule=!0,t.default=function(e){var t={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=0);return t},e.exports=t.default},"./node_modules/react-motion/lib/mergeDiff.js":function(e,t,o){"use strict";t.__esModule=!0,t.default=function(e,t,o){for(var n={},r=0;r<e.length;r++)n[e[r].key]=r;for(var s={},r=0;r<t.length;r++)s[t[r].key]=r;for(var a=[],r=0;r<t.length;r++)a[r]=t[r];for(var r=0;r<e.length;r++)if(!Object.prototype.hasOwnProperty.call(s,e[r].key)){var i=o(r,e[r]);null!=i&&a.push(i)}return a.sort(function(e,o){var r=s[e.key],a=s[o.key],i=n[e.key],l=n[o.key];if(null!=r&&null!=a)return s[e.key]-s[o.key];if(null!=i&&null!=l)return n[e.key]-n[o.key];if(null!=r){for(var u=0;u<t.length;u++){var c=t[u].key;if(Object.prototype.hasOwnProperty.call(n,c)){if(r<s[c]&&l>n[c])return-1;if(r>s[c]&&l<n[c])return 1}}return 1}for(var u=0;u<t.length;u++){var c=t[u].key;if(Object.prototype.hasOwnProperty.call(n,c)){if(a<s[c]&&i>n[c])return 1;if(a>s[c]&&i<n[c])return-1}}return-1})},e.exports=t.default},"./node_modules/react-motion/lib/presets.js":function(e,t,o){"use strict";t.__esModule=!0,t.default={noWobble:{stiffness:170,damping:26},gentle:{stiffness:120,damping:14},wobbly:{stiffness:180,damping:12},stiff:{stiffness:210,damping:20}},e.exports=t.default},"./node_modules/react-motion/lib/react-motion.js":function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e.default:e}t.__esModule=!0;var r=o("./node_modules/react-motion/lib/Motion.js");t.Motion=n(r);var s=o("./node_modules/react-motion/lib/StaggeredMotion.js");t.StaggeredMotion=n(s);var a=o("./node_modules/react-motion/lib/TransitionMotion.js");t.TransitionMotion=n(a);var i=o("./node_modules/react-motion/lib/spring.js");t.spring=n(i);var l=o("./node_modules/react-motion/lib/presets.js");t.presets=n(l);var u=o("./node_modules/react-motion/lib/stripStyle.js");t.stripStyle=n(u);var c=o("./node_modules/react-motion/lib/reorderKeys.js");t.reorderKeys=n(c)},"./node_modules/react-motion/lib/reorderKeys.js":function(e,t,o){"use strict";t.__esModule=!0,t.default=function(){0};e.exports=t.default},"./node_modules/react-motion/lib/shouldStopAnimation.js":function(e,t,o){"use strict";t.__esModule=!0,t.default=function(e,t,o){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(0!==o[n])return!1;var r="number"==typeof t[n]?t[n]:t[n].val;if(e[n]!==r)return!1}return!0},e.exports=t.default},"./node_modules/react-motion/lib/spring.js":function(e,t,o){"use strict";t.__esModule=!0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e};t.default=function(e,t){return n({},i,t,{val:e})};var r,s=o("./node_modules/react-motion/lib/presets.js"),a=(r=s)&&r.__esModule?r:{default:r},i=n({},a.default.noWobble,{precision:.01});e.exports=t.default},"./node_modules/react-motion/lib/stepper.js":function(e,t,o){"use strict";t.__esModule=!0,t.default=function(e,t,o,r,s,a,i){var l=o+(-s*(t-r)+-a*o)*e,u=t+l*e;if(Math.abs(l)<i&&Math.abs(u-r)<i)return n[0]=r,n[1]=0,n;return n[0]=u,n[1]=l,n};var n=[0,0];e.exports=t.default},"./node_modules/react-motion/lib/stripStyle.js":function(e,t,o){"use strict";t.__esModule=!0,t.default=function(e){var t={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]="number"==typeof e[o]?e[o]:e[o].val);return t},e.exports=t.default},"./node_modules/style-loader/lib/addStyles.js":function(e,t,o){var n,r,s={},a=(n=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===r&&(r=n.apply(this,arguments)),r}),i=function(e){var t={};return function(e){if(void 0===t[e]){var o=function(e){return document.querySelector(e)}.call(this,e);if(o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch(e){o=null}t[e]=o}return t[e]}}(),l=null,u=0,c=[],d=o("./node_modules/style-loader/lib/urls.js");function f(e,t){for(var o=0;o<e.length;o++){var n=e[o],r=s[n.id];if(r){r.refs++;for(var a=0;a<r.parts.length;a++)r.parts[a](n.parts[a]);for(;a<n.parts.length;a++)r.parts.push(b(n.parts[a],t))}else{var i=[];for(a=0;a<n.parts.length;a++)i.push(b(n.parts[a],t));s[n.id]={id:n.id,refs:1,parts:i}}}}function p(e,t){for(var o=[],n={},r=0;r<e.length;r++){var s=e[r],a=t.base?s[0]+t.base:s[0],i={css:s[1],media:s[2],sourceMap:s[3]};n[a]?n[a].parts.push(i):o.push(n[a]={id:a,parts:[i]})}return o}function m(e,t){var o=i(e.insertInto);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=c[c.length-1];if("top"===e.insertAt)n?n.nextSibling?o.insertBefore(t,n.nextSibling):o.appendChild(t):o.insertBefore(t,o.firstChild),c.push(t);else if("bottom"===e.insertAt)o.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=i(e.insertInto+" "+e.insertAt.before);o.insertBefore(t,r)}}function y(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=c.indexOf(e);t>=0&&c.splice(t,1)}function h(e){var t=document.createElement("style");return e.attrs.type="text/css",v(t,e.attrs),m(e,t),t}function v(e,t){Object.keys(t).forEach(function(o){e.setAttribute(o,t[o])})}function b(e,t){var o,n,r,s;if(t.transform&&e.css){if(!(s=t.transform(e.css)))return function(){};e.css=s}if(t.singleton){var a=u++;o=l||(l=h(t)),n=_.bind(null,o,a,!1),r=_.bind(null,o,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(o=function(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",v(t,e.attrs),m(e,t),t}(t),n=function(e,t,o){var n=o.css,r=o.sourceMap,s=void 0===t.convertToAbsoluteUrls&&r;(t.convertToAbsoluteUrls||s)&&(n=d(n));r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var a=new Blob([n],{type:"text/css"}),i=e.href;e.href=URL.createObjectURL(a),i&&URL.revokeObjectURL(i)}.bind(null,o,t),r=function(){y(o),o.href&&URL.revokeObjectURL(o.href)}):(o=h(t),n=function(e,t){var o=t.css,n=t.media;n&&e.setAttribute("media",n);if(e.styleSheet)e.styleSheet.cssText=o;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(o))}}.bind(null,o),r=function(){y(o)});return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else r()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=a()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var o=p(e,t);return f(o,t),function(e){for(var n=[],r=0;r<o.length;r++){var a=o[r];(i=s[a.id]).refs--,n.push(i)}e&&f(p(e,t),t);for(r=0;r<n.length;r++){var i;if(0===(i=n[r]).refs){for(var l=0;l<i.parts.length;l++)i.parts[l]();delete s[i.id]}}}};var g,w=(g=[],function(e,t){return g[e]=t,g.filter(Boolean).join("\n")});function _(e,t,o,n){var r=o?"":n.css;if(e.styleSheet)e.styleSheet.cssText=w(t,r);else{var s=document.createTextNode(r),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(s,a[t]):e.appendChild(s)}}},"./node_modules/style-loader/lib/urls.js":function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var o=t.protocol+"//"+t.host,n=o+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var r,s=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(s)?e:(r=0===s.indexOf("//")?s:0===s.indexOf("/")?o+s:n+s.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")})}},"./node_modules/webpack/buildin/global.js":function(e,t){var o;o=function(){return this}();try{o=o||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(o=window)}e.exports=o},"./src/components/Background/index.js":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(o("react")),r=o("./node_modules/react-motion/lib/react-motion.js"),s=a(o("./src/components/Background/index.less"));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.show,o=e.zoom,a=e.unmountSelf,i=e.toggleZoom;return n.default.createElement(r.Motion,{defaultStyle:{opacity:0},style:{opacity:(0,r.spring)(t?1:0)}},function(e){var t=e.opacity;return n.default.createElement("div",{className:s.default.backgroundLayer,onClick:o?i:a,style:{opacity:t}})})}},"./src/components/Background/index.less":function(e,t,o){var n=o("./node_modules/css-loader/index.js??ref--4-1!./node_modules/postcss-loader/lib/index.js??postcss!./node_modules/less-loader/dist/cjs.js!./src/components/Background/index.less");"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0};o("./node_modules/style-loader/lib/addStyles.js")(n,r);n.locals&&(e.exports=n.locals)},"./src/components/Control/index.js":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),r=o("react"),s=l(r),a=o("./node_modules/react-motion/lib/react-motion.js"),i=l(o("./src/components/Control/index.less"));function l(e){return e&&e.__esModule?e:{default:e}}var u={over:20,rotate:45,opacity:0},c={over:0,rotate:0,opacity:1},d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.state={motionStyle:u},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.PureComponent),n(t,[{key:"componentWillReceiveProps",value:function(e){e.show?this.setState({motionStyle:c}):this.setState({motionStyle:u})}},{key:"render",value:function(){var e=this.props,t=e.zoom,o=e.page,n=e.set,l=e.mobile,u=e.controller,c=e.unmountSelf,d=e.toggleZoom,f=e.jumpPages,p=this.state.motionStyle,m=n.length>1;return s.default.createElement(a.Motion,{style:{over:(0,a.spring)(p.over),rotate:(0,a.spring)(p.rotate),opacity:(0,a.spring)(p.opacity)}},function(e){var a=e.over,p=e.rotate,y=e.opacity;return s.default.createElement(r.Fragment,null,s.default.createElement("div",{className:i.default.controls},!t&&u.zoom&&s.default.createElement("div",{className:i.default.zoomButton,onClick:l?function(){return window.open(n[o].src)}:d,style:{opacity:y,transform:"rotate("+p+"deg)"}}),!t&&u.close&&s.default.createElement("div",{className:i.default.closeButton,onClick:t?d:c},s.default.createElement("div",{className:i.default.crossLine,style:{opacity:y,transform:"rotate("+(45-p)+"deg)"}}),s.default.createElement("div",{className:i.default.crossLine,style:{opacity:y,transform:"rotate("+-(45-p)+"deg)"}}))),m&&!t&&u.pagination&&s.default.createElement("div",{className:i.default.pages,style:{opacity:y,transform:"translateY("+a+"px)"}},n.map(function(e,t){return t===o?s.default.createElement("span",{key:t,className:i.default.blackDot}):s.default.createElement("span",{key:t,className:i.default.whiteDot,onClick:function(){return f(t)}})})))})}}]),t}();t.default=d},"./src/components/Control/index.less":function(e,t,o){var n=o("./node_modules/css-loader/index.js??ref--4-1!./node_modules/postcss-loader/lib/index.js??postcss!./node_modules/less-loader/dist/cjs.js!./src/components/Control/index.less");"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0};o("./node_modules/style-loader/lib/addStyles.js")(n,r);n.locals&&(e.exports=n.locals)},"./src/components/Image/index.js":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),r=o("react"),s=c(r),a=o("./node_modules/react-motion/lib/react-motion.js"),i=c(o("./src/components/Image/index.less")),l=o("./src/utils/index.js"),u=o("./src/config/default.js");function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));f.call(o);var n=o.coverSize().scale;return o.state={defaultStyle:{scale:n},currentStyle:{scale:n}},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.PureComponent),n(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.show,o=e.zoom,n=e.page;t?o?this.resizeTo(this.originalSize()):this.resizeTo(this.pageFitSize()):(this.resizeTo(this.coverSize()),this.props.mobile&&setTimeout(this.handleMotionRest,600)),n!==this.props.page&&this.resizeTo(this.pageFitSize())}},{key:"render",value:function(){var e=this.props,t=e.zoom,o=e.page,n=e.set,l=e.toggleZoom,c=this.state,d=c.defaultStyle,f=c.currentStyle;return s.default.createElement(r.Fragment,null,s.default.createElement(a.Motion,{defaultStyle:d,style:{scale:(0,a.spring)(f.scale,u.defProp.springOption)},onRest:this.handleMotionRest},function(e){var r=e.scale;return s.default.createElement("img",{key:o,className:i.default.imageLayer,style:{transform:"translate3d(-50%, -50%, 0) scale3d("+r+", "+r+", 1)",cursor:t?"zoom-out":"initial"},src:n[o].src,alt:n[o].alt,title:n[o].alt,onClick:t?l:function(){}})}))}}]),t}(),f=function(){var e=this;this.coverSize=function(){var t=e.props.cover;return{scale:t.width/t.naturalWidth}},this.pageFitSize=function(){var t=e.props,o=t.cover,n=t.margin;return{scale:(0,l.calcFitScale)(o,n)}},this.originalSize=function(){return{scale:1}},this.resizeTo=function(t){var o=t.scale;e.setState({currentStyle:{scale:o},onLoad:!0,onError:!1})},this.handleMotionRest=function(){var t=e.props,o=t.cover,n=t.remove;e.props.show||(o.style.visibility="visible",n())}};t.default=d},"./src/components/Image/index.less":function(e,t,o){var n=o("./node_modules/css-loader/index.js??ref--4-1!./node_modules/postcss-loader/lib/index.js??postcss!./node_modules/less-loader/dist/cjs.js!./src/components/Image/index.less");"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0};o("./node_modules/style-loader/lib/addStyles.js")(n,r);n.locals&&(e.exports=n.locals)},"./src/components/Portals/index.js":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),r=a(o("react")),s=a(o("react-dom"));function a(e){return e&&e.__esModule?e:{default:e}}var i=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.target=e.target||document.body,o.element=document.createElement("div"),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),n(t,[{key:"componentDidMount",value:function(){this.target.appendChild(this.element)}},{key:"componentWillUnmount",value:function(){this.target.removeChild(this.element)}},{key:"render",value:function(){return s.default.createPortal(this.props.children,this.element)}}]),t}();t.default=i},"./src/components/Position/index.js":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),r=u(o("react")),s=o("./node_modules/react-motion/lib/react-motion.js"),a=u(o("./src/components/Position/index.less")),i=o("./src/utils/index.js"),l=o("./src/config/default.js");function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));d.call(o),o.initialPageOffset=window.pageYOffset;var n=o.coverCenterPosition(),r=n.x,s=n.y;return o.state={naturalSize:null,moveRange:null,defaultStyle:{x:r,y:s},currentStyle:{x:r,y:s}},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.PureComponent),n(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.show,o=e.zoom;t?(this.moveTo(this.pageCenterPosition()),o?(this.updateZoomMovePositionRange(),(0,i.addListenEventOf)("mousemove",this.handleMouseMove)):(0,i.removeListenEventOf)("mousemove",this.handleMouseMove)):(this.moveTo(this.coverCenterPosition()),(0,i.removeListenEventOf)("mousemove",this.handleMouseMove))}},{key:"render",value:function(){var e=this,t=this.props.show,o=this.state,n=o.defaultStyle,u=o.currentStyle;return r.default.createElement("div",{className:a.default.positionLayer,style:{width:(0,i.windowWidth)(),height:(0,i.windowHeight)()}},r.default.createElement(s.Motion,{defaultStyle:n,style:{x:(0,s.spring)(u.x,l.defProp.springOption),y:(0,s.spring)(u.y,l.defProp.springOption)}},function(o){var n=o.x,s=o.y;return r.default.createElement("div",{style:{transform:"translate3d("+n+"px, "+s+"px, 0)",top:t?"initial":(0,i.windowHeight)()/2-(window.pageYOffset-e.initialPageOffset)}},e.props.children)}))}}]),t}(),d=function(){var e=this;this.coverCenterPosition=function(){var t=e.props,o=t.page,n=t.cover.getBoundingClientRect();return 0===o?{x:-(0,i.windowWidth)()/2+n.left+n.width/2,y:-(0,i.windowHeight)()/2+n.top+n.height/2}:{x:0,y:-(0,i.windowHeight)()}},this.pageCenterPosition=function(){return{x:0,y:0}},this.mouseContrastPosition=function(t){var o=e.props.margin,n=e.state,r=n.naturalSize,s=n.moveRange,a=r.naturalWidth,l=r.naturalHeight,u=(0,i.windowWidth)(),c=(0,i.windowHeight)(),d=t.clientX,f=t.clientY;return{x:a>u?(a-u)/2+o-s.x*(d/u):0,y:l>c?(l-c)/2+o-s.y*(f/c):0}},this.moveTo=function(t){var o=t.x,n=t.y;e.setState({currentStyle:{x:o,y:n}})},this.updateZoomMovePositionRange=function(){var t=e.props,o=t.zoom,n=t.page,r=t.margin,s=t.set,a=new Image;a.src=s[n].src,a.onload=function(){var t=a.naturalWidth,n=a.naturalHeight;e.setState({naturalSize:o?null:{naturalWidth:t,naturalHeight:n},moveRange:o?null:{x:t-(0,i.windowWidth)()+2*r,y:n-(0,i.windowHeight)()+2*r}})}},this.handleMouseMove=function(t){e.moveTo(e.mouseContrastPosition(t))}};t.default=c},"./src/components/Position/index.less":function(e,t,o){var n=o("./node_modules/css-loader/index.js??ref--4-1!./node_modules/postcss-loader/lib/index.js??postcss!./node_modules/less-loader/dist/cjs.js!./src/components/Position/index.less");"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0};o("./node_modules/style-loader/lib/addStyles.js")(n,r);n.locals&&(e.exports=n.locals)},"./src/components/Wrapper/index.js":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),r=p(o("react")),s=p(o("prop-types")),a=p(o("./src/components/Wrapper/index.less")),i=p(o("./src/components/Position/index.js")),l=p(o("./src/components/Control/index.js")),u=p(o("./src/components/Image/index.js")),c=p(o("./src/components/Background/index.js")),d=o("./src/config/default.js"),f=o("./src/utils/index.js");function p(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));o.mountSelf=function(){o.props.cover.style.visibility="hidden",o.setState({show:!0},function(){(0,f.addListenEventOf)("keydown",o.handleKeyDown),(0,f.addListenEventOf)("scroll",o.handleScroll),(0,f.addListenEventOf)("touchmove",o.handleScroll)})},o.unmountSelf=function(){var e=o.props.cover;0!==o.state.page&&(e.style.visibility="visible"),o.setState({show:!1})},o.handleKeyDown=function(e){e.preventDefault();var t=o.props,n=t.set,r=t.hotKey,s=o.state.zoom,a=n&&n.constructor===Array,i=o.handleSwitchPages("prev"),l=o.handleSwitchPages("next");switch(e.key){case"ArrowLeft":!s&&r.flip&&a&&i();break;case"ArrowRight":!s&&r.flip&&a&&l();break;case" ":r.zoom&&o.handleToggleZoom();break;case"Escape":r.close&&(s?o.handleToggleZoom():o.unmountSelf());break;default:return}},o.handleScroll=function(e){o.state.show&&o.unmountSelf()},o.handleJumpPages=function(e){o.setState({page:e})},o.handleSwitchPages=function(e){return function(){var t=o.props.set,n=o.state.page;o.setState({page:"prev"===e?Math.abs(t.length+n-1)%t.length:(n+1)%t.length})}},o.handleToggleZoom=function(){o.setState({zoom:!o.state.zoom})};var n=(0,f.mobileCheck)();return o.state={show:!1,zoom:!1,page:0,mobile:n,margin:n?0:e.margin},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.PureComponent),n(t,[{key:"componentDidMount",value:function(){this.mountSelf()}},{key:"componentWillUnmount",value:function(){(0,f.removeListenEventOf)("keydown",this.handleKeyDown),(0,f.removeListenEventOf)("scroll",this.handleScroll),(0,f.removeListenEventOf)("touchmove",this.handleScroll)}},{key:"render",value:function(){var e=this.props,t=e.cover,o=e.set,n=e.controller,s=e.remove,d=this.state,f=d.show,p=d.zoom,m=d.page,y=d.mobile,h=d.margin;return r.default.createElement("div",{className:a.default.wrapperLayer},r.default.createElement(l.default,{show:f,zoom:p,page:m,set:o,controller:n,unmountSelf:this.unmountSelf,toggleZoom:this.handleToggleZoom,jumpPages:this.handleJumpPages,mobile:y}),r.default.createElement(i.default,{show:f,zoom:p,page:m,margin:h,set:o,cover:t},r.default.createElement(u.default,{show:f,zoom:p,page:m,margin:h,set:o,cover:t,toggleZoom:this.handleToggleZoom,mobile:y,remove:s})),r.default.createElement(c.default,{show:f,unmountSelf:this.unmountSelf,toggleZoom:this.handleToggleZoom}))}}]),t}();t.default=m,m.defaultProps={cover:{},set:[],controller:d.defProp.controller,hotKey:d.defProp.hotKey,margin:d.defProp.margin,remove:function(){}},m.propTypes={cover:s.default.object,set:d.defType.set,controller:d.defType.controller,hotKey:d.defType.hotKey,margin:d.defType.margin,remove:s.default.func}},"./src/components/Wrapper/index.less":function(e,t,o){var n=o("./node_modules/css-loader/index.js??ref--4-1!./node_modules/postcss-loader/lib/index.js??postcss!./node_modules/less-loader/dist/cjs.js!./src/components/Wrapper/index.less");"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0};o("./node_modules/style-loader/lib/addStyles.js")(n,r);n.locals&&(e.exports=n.locals)},"./src/config/default.js":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defType=t.defProp=void 0;var n,r=o("prop-types"),s=(n=r)&&n.__esModule?n:{default:n};t.defProp={controller:{pagination:!0,title:!0,close:!0,zoom:!0,flip:!0},hotKey:{close:!0,zoom:!0,flip:!0},margin:50,springOption:{stiffness:180,damping:25}},t.defType={set:s.default.oneOfType([s.default.arrayOf(s.default.shape({src:s.default.string,alt:s.default.string,text:s.default.string})),s.default.shape({src:s.default.string,alt:s.default.string,text:s.default.string})]),controller:s.default.shape({pagination:s.default.bool,title:s.default.bool,close:s.default.bool,zoom:s.default.bool,flip:s.default.bool}),hotKey:s.default.shape({close:s.default.bool,zoom:s.default.bool,flip:s.default.bool}),margin:s.default.number,springOption:s.default.shape({stiffness:s.default.number,damping:s.default.number})}},"./src/index.js":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},r=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),s=o("react"),a=d(s),i=d(o("prop-types")),l=d(o("./src/components/Portals/index.js")),u=d(o("./src/components/Wrapper/index.js")),c=o("./src/config/default.js");function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return p.call(o),o.cover=null,o.state={browsing:!1,set:o.buildImageSet(e)},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.PureComponent),r(t,[{key:"render",value:function(){var e=this,t=this.state,o=t.browsing,r=t.set,i=this.props,d=i.className,f=i.src,p=i.alt,m=i.controller,y=i.hotKey,h=i.style,v=function(e,t){var o={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(o[n]=e[n]);return o}(i,["className","src","alt","controller","hotKey","style"]);return a.default.createElement(s.Fragment,null,a.default.createElement("img",n({ref:function(t){return e.cover=t},className:d,src:f,alt:p,title:p,onClick:this.handleToggleBrowsing,style:n({cursor:"zoom-in"},h)},v)),o&&a.default.createElement(l.default,null,a.default.createElement(u.default,{cover:this.cover,set:r,controller:n({},c.defProp.controller,m),hotKey:n({},c.defProp.hotKey,y),remove:function(){return e.setState({browsing:!1})}})))}}]),t}(),p=function(){var e=this;this.buildImageSet=function(e){var t=e.set,o=e.src,n=e.zoomSrc,r=e.alt,s=e.txt;return t&&t.constructor===Array&&t.length>1?t:[{src:n||o,alt:r,txt:s}]},this.handleToggleBrowsing=function(){var t=e.props.onClick;t&&t.constructor===Function&&t(),e.setState({browsing:!e.state.browsing})}};t.default=f,f.defaultProps={src:"",zoomSrc:"",alt:"",txt:"",set:[],controller:c.defProp.controller,hotKey:c.defProp.hotKey},f.propTypes={src:i.default.string.isRequired,zoomSrc:i.default.string,alt:i.default.string,txt:i.default.string,set:c.defType.set,controller:c.defType.controller,hotKey:c.defType.hotKey}},"./src/utils/index.js":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.calcFitScale=function(e,t){var o=n()/(e.naturalWidth+2*t),s=r()/(e.naturalHeight+2*t);return Math.min(o,s)},t.addListenEventOf=function(e,t){window.addEventListener(e,t,!0)},t.removeListenEventOf=function(e,t){window.removeEventListener(e,t,!0)},t.windowWidth=function(){return window.innerWidth},t.scrollWidth=function(){return document.body.scrollWidth};var n=t.clientWidth=function(){return document.documentElement.clientWidth},r=(t.windowHeight=function(){return window.innerHeight},t.scrollHeight=function(){return document.body.scrollHeight},t.clientHeight=function(){return document.documentElement.clientHeight});t.mobileCheck=function(){var e=!1,t=navigator.userAgent||navigator.vendor||window.opera;return(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0),e}},0:function(e,t,o){e.exports=o("./src/index.js")},"prop-types":function(e,o){e.exports=t},react:function(t,o){t.exports=e},"react-dom":function(e,t){e.exports=o}})});