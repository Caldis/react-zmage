!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("prop-types"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","prop-types","react-dom"],t):"object"==typeof exports?exports["react-zmage"]=t(require("react"),require("prop-types"),require("react-dom")):e["react-zmage"]=t(e.react,e["prop-types"],e["react-dom"])}("undefined"!=typeof self?self:this,function(e,t,n){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}({"./node_modules/css-loader/index.js??ref--4-1!./node_modules/postcss-loader/lib/index.js??postcss!./node_modules/less-loader/dist/cjs.js!./src/components/Background/index.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".backgroundLayer__2zBDq{position:absolute;top:0;left:0;right:0;bottom:0;cursor:-webkit-zoom-out;cursor:zoom-out;opacity:0;background-color:#fff;-webkit-transition:opacity .25s;transition:opacity .25s}",""]),t.locals={backgroundLayer:"backgroundLayer__2zBDq"}},"./node_modules/css-loader/index.js??ref--4-1!./node_modules/postcss-loader/lib/index.js??postcss!./node_modules/less-loader/dist/cjs.js!./src/components/Control/index.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".controls__2sOYg{position:absolute;padding:20px;top:0;right:0;z-index:90;display:-webkit-box;display:-ms-flexbox;display:flex}.controls__2sOYg,.zoomButton__3EA_v{-webkit-box-sizing:border-box;box-sizing:border-box}.zoomButton__3EA_v{margin:7px;width:26px;height:26px;cursor:pointer;border:1px solid #000}.zoomButton__3EA_v:hover{-webkit-transform:scale(1.1);transform:scale(1.1)}.closeButton__1hkr-,.zoomButton__3EA_v:active{-webkit-transform:scale(1);transform:scale(1)}.closeButton__1hkr-{width:40px;height:40px;cursor:pointer}.closeButton__1hkr- .crossLine__3lngH{position:absolute;top:50%;left:3px;width:35px;height:1px;background-color:#000;-webkit-transform-origin:50%;transform-origin:50%}.closeButton__1hkr-:hover{-webkit-transform:scale(1.1);transform:scale(1.1)}.closeButton__1hkr-:active{-webkit-transform:scale(1);transform:scale(1)}.pages__1SqZ9{-webkit-box-sizing:border-box;box-sizing:border-box;display:-webkit-box;display:-ms-flexbox;display:flex;position:absolute;left:50%;bottom:0;z-index:110;-webkit-transform:translateX(-50%);transform:translateX(-50%)}.pages__1SqZ9 .blackDot__1c8XI{background:#000}.pages__1SqZ9 .blackDot__1c8XI,.pages__1SqZ9 .whiteDot__WV_HE{cursor:pointer;margin:10px 4px;display:block;width:8px;height:8px;border-radius:4px}.pages__1SqZ9 .whiteDot__WV_HE{background:#999}",""]),t.locals={controls:"controls__2sOYg",zoomButton:"zoomButton__3EA_v",closeButton:"closeButton__1hkr-",crossLine:"crossLine__3lngH",pages:"pages__1SqZ9",blackDot:"blackDot__1c8XI",whiteDot:"whiteDot__WV_HE"}},"./node_modules/css-loader/index.js??ref--4-1!./node_modules/postcss-loader/lib/index.js??postcss!./node_modules/less-loader/dist/cjs.js!./src/components/Image/index.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".loadingContainer__1uRry{position:absolute;left:50%;top:50%;z-index:5;-webkit-animation:fadeIn__3hud5 1s linear forwards;animation:fadeIn__3hud5 1s linear forwards}.loadingContainer__1uRry .loading__2ybtF{border:3px solid #f3f3f3;border-top:3px solid #000;border-radius:50%;width:30px;height:30px;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);-webkit-animation:spin__34aiz 1s linear infinite;animation:spin__34aiz 1s linear infinite}@-webkit-keyframes fadeIn__3hud5{0%{opacity:0}50%{opacity:0}to{opacity:1}}@keyframes fadeIn__3hud5{0%{opacity:0}50%{opacity:0}to{opacity:1}}@-webkit-keyframes spin__34aiz{0%{-webkit-transform:translate(-50%,-50%) rotate(0deg);transform:translate(-50%,-50%) rotate(0deg)}to{-webkit-transform:translate(-50%,-50%) rotate(1turn);transform:translate(-50%,-50%) rotate(1turn)}}@keyframes spin__34aiz{0%{-webkit-transform:translate(-50%,-50%) rotate(0deg);transform:translate(-50%,-50%) rotate(0deg)}to{-webkit-transform:translate(-50%,-50%) rotate(1turn);transform:translate(-50%,-50%) rotate(1turn)}}.imageLayer__1CUlw{position:absolute;left:50%;top:50%;z-index:10;border-radius:5px}",""]),t.locals={loadingContainer:"loadingContainer__1uRry",fadeIn:"fadeIn__3hud5",loading:"loading__2ybtF",spin:"spin__34aiz",imageLayer:"imageLayer__1CUlw"}},"./node_modules/css-loader/index.js??ref--4-1!./node_modules/postcss-loader/lib/index.js??postcss!./node_modules/less-loader/dist/cjs.js!./src/components/Wrapper/index.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".wrapperLayer__12HA6{-webkit-box-sizing:border-box;box-sizing:border-box;position:fixed;top:0;left:0;right:0;bottom:0}",""]),t.locals={wrapperLayer:"wrapperLayer__12HA6"}},"./node_modules/css-loader/lib/css-base.js":function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||"",o=e[3];if(!o)return n;if(t&&"function"==typeof btoa){var r=(i=o,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),a=o.sources.map(function(e){return"/*# sourceURL="+o.sourceRoot+e+" */"});return[n].concat(a).concat([r]).join("\n")}var i;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var o={},r=0;r<this.length;r++){var a=this[r][0];"number"==typeof a&&(o[a]=!0)}for(r=0;r<e.length;r++){var i=e[r];"number"==typeof i[0]&&o[i[0]]||(n&&!i[2]?i[2]=n:n&&(i[2]="("+i[2]+") and ("+n+")"),t.push(i))}},t}},"./node_modules/node-libs-browser/node_modules/process/browser.js":function(e,t){var n,o,r=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:a}catch(e){n=a}try{o="function"==typeof clearTimeout?clearTimeout:i}catch(e){o=i}}();var l,u=[],c=!1,d=-1;function f(){c&&l&&(c=!1,l.length?u=l.concat(u):d=-1,u.length&&p())}function p(){if(!c){var e=s(f);c=!0;for(var t=u.length;t;){for(l=u,u=[];++d<t;)l&&l[d].run();d=-1,t=u.length}l=null,c=!1,function(e){if(o===clearTimeout)return clearTimeout(e);if((o===i||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function y(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new m(e,t)),1!==u.length||c||s(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=y,r.addListener=y,r.once=y,r.off=y,r.removeListener=y,r.removeAllListeners=y,r.emit=y,r.prependListener=y,r.prependOnceListener=y,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},"./node_modules/performance-now/lib/performance-now.js":function(e,t,n){(function(t){(function(){var n,o,r;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:void 0!==t&&null!==t&&t.hrtime?(e.exports=function(){return(n()-r)/1e6},o=t.hrtime,r=(n=function(){var e;return 1e9*(e=o())[0]+e[1]})()):Date.now?(e.exports=function(){return Date.now()-r},r=Date.now()):(e.exports=function(){return(new Date).getTime()-r},r=(new Date).getTime())}).call(this)}).call(t,n("./node_modules/node-libs-browser/node_modules/process/browser.js"))},"./node_modules/raf/index.js":function(e,t,n){(function(t){for(var o=n("./node_modules/raf/node_modules/performance-now/lib/performance-now.js"),r="undefined"==typeof window?t:window,a=["moz","webkit"],i="AnimationFrame",s=r["request"+i],l=r["cancel"+i]||r["cancelRequest"+i],u=0;!s&&u<a.length;u++)s=r[a[u]+"Request"+i],l=r[a[u]+"Cancel"+i]||r[a[u]+"CancelRequest"+i];if(!s||!l){var c=0,d=0,f=[];s=function(e){if(0===f.length){var t=o(),n=Math.max(0,1e3/60-(t-c));c=n+t,setTimeout(function(){var e=f.slice(0);f.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(c)}catch(e){setTimeout(function(){throw e},0)}},Math.round(n))}return f.push({handle:++d,callback:e,cancelled:!1}),d},l=function(e){for(var t=0;t<f.length;t++)f[t].handle===e&&(f[t].cancelled=!0)}}e.exports=function(e){return s.call(r,e)},e.exports.cancel=function(){l.apply(r,arguments)},e.exports.polyfill=function(e){e||(e=r),e.requestAnimationFrame=s,e.cancelAnimationFrame=l}}).call(t,n("./node_modules/webpack/buildin/global.js"))},"./node_modules/raf/node_modules/performance-now/lib/performance-now.js":function(e,t,n){(function(t){(function(){var n,o,r,a,i,s;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:void 0!==t&&null!==t&&t.hrtime?(e.exports=function(){return(n()-i)/1e6},o=t.hrtime,a=(n=function(){var e;return 1e9*(e=o())[0]+e[1]})(),s=1e9*t.uptime(),i=a-s):Date.now?(e.exports=function(){return Date.now()-r},r=Date.now()):(e.exports=function(){return(new Date).getTime()-r},r=(new Date).getTime())}).call(this)}).call(t,n("./node_modules/node-libs-browser/node_modules/process/browser.js"))},"./node_modules/react-motion/lib/Motion.js":function(e,t,n){"use strict";t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function a(e){return e&&e.__esModule?e:{default:e}}var i=a(n("./node_modules/react-motion/lib/mapToZero.js")),s=a(n("./node_modules/react-motion/lib/stripStyle.js")),l=a(n("./node_modules/react-motion/lib/stepper.js")),u=a(n("./node_modules/performance-now/lib/performance-now.js")),c=a(n("./node_modules/raf/index.js")),d=a(n("./node_modules/react-motion/lib/shouldStopAnimation.js")),f=a(n("react")),p=a(n("prop-types")),m=1e3/60,y=function(e){function t(n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.call(this,n),this.wasAnimating=!1,this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyle=null,this.clearUnreadPropStyle=function(e){var t=!1,n=r.state,a=n.currentStyle,i=n.currentVelocity,s=n.lastIdealStyle,l=n.lastIdealVelocity;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var c=e[u];"number"==typeof c&&(t||(t=!0,a=o({},a),i=o({},i),s=o({},s),l=o({},l)),a[u]=c,i[u]=0,s[u]=c,l[u]=0)}t&&r.setState({currentStyle:a,currentVelocity:i,lastIdealStyle:s,lastIdealVelocity:l})},this.startAnimationIfNecessary=function(){r.animationID=c.default(function(e){var t=r.props.style;if(d.default(r.state.currentStyle,t,r.state.currentVelocity))return r.wasAnimating&&r.props.onRest&&r.props.onRest(),r.animationID=null,r.wasAnimating=!1,void(r.accumulatedTime=0);r.wasAnimating=!0;var n=e||u.default(),o=n-r.prevTime;if(r.prevTime=n,r.accumulatedTime=r.accumulatedTime+o,r.accumulatedTime>10*m&&(r.accumulatedTime=0),0===r.accumulatedTime)return r.animationID=null,void r.startAnimationIfNecessary();var a=(r.accumulatedTime-Math.floor(r.accumulatedTime/m)*m)/m,i=Math.floor(r.accumulatedTime/m),s={},c={},f={},p={};for(var y in t)if(Object.prototype.hasOwnProperty.call(t,y)){var h=t[y];if("number"==typeof h)f[y]=h,p[y]=0,s[y]=h,c[y]=0;else{for(var v=r.state.lastIdealStyle[y],b=r.state.lastIdealVelocity[y],g=0;g<i;g++){var w=l.default(m/1e3,v,b,h.val,h.stiffness,h.damping,h.precision);v=w[0],b=w[1]}var _=l.default(m/1e3,v,b,h.val,h.stiffness,h.damping,h.precision),j=_[0],x=_[1];f[y]=v+(j-v)*a,p[y]=b+(x-b)*a,s[y]=v,c[y]=b}}r.animationID=null,r.accumulatedTime-=i*m,r.setState({currentStyle:f,currentVelocity:p,lastIdealStyle:s,lastIdealVelocity:c}),r.unreadPropStyle=null,r.startAnimationIfNecessary()})},this.state=this.defaultState()}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,null,[{key:"propTypes",value:{defaultStyle:p.default.objectOf(p.default.number),style:p.default.objectOf(p.default.oneOfType([p.default.number,p.default.object])).isRequired,children:p.default.func.isRequired,onRest:p.default.func},enumerable:!0}]),t.prototype.defaultState=function(){var e=this.props,t=e.defaultStyle,n=e.style,o=t||s.default(n),r=i.default(o);return{currentStyle:o,currentVelocity:r,lastIdealStyle:o,lastIdealVelocity:r}},t.prototype.componentDidMount=function(){this.prevTime=u.default(),this.startAnimationIfNecessary()},t.prototype.componentWillReceiveProps=function(e){null!=this.unreadPropStyle&&this.clearUnreadPropStyle(this.unreadPropStyle),this.unreadPropStyle=e.style,null==this.animationID&&(this.prevTime=u.default(),this.startAnimationIfNecessary())},t.prototype.componentWillUnmount=function(){null!=this.animationID&&(c.default.cancel(this.animationID),this.animationID=null)},t.prototype.render=function(){var e=this.props.children(this.state.currentStyle);return e&&f.default.Children.only(e)},t}(f.default.Component);t.default=y,e.exports=t.default},"./node_modules/react-motion/lib/StaggeredMotion.js":function(e,t,n){"use strict";t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function a(e){return e&&e.__esModule?e:{default:e}}var i=a(n("./node_modules/react-motion/lib/mapToZero.js")),s=a(n("./node_modules/react-motion/lib/stripStyle.js")),l=a(n("./node_modules/react-motion/lib/stepper.js")),u=a(n("./node_modules/performance-now/lib/performance-now.js")),c=a(n("./node_modules/raf/index.js")),d=a(n("./node_modules/react-motion/lib/shouldStopAnimation.js")),f=a(n("react")),p=a(n("prop-types")),m=1e3/60;var y=function(e){function t(n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.call(this,n),this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyles=null,this.clearUnreadPropStyle=function(e){for(var t=r.state,n=t.currentStyles,a=t.currentVelocities,i=t.lastIdealStyles,s=t.lastIdealVelocities,l=!1,u=0;u<e.length;u++){var c=e[u],d=!1;for(var f in c)if(Object.prototype.hasOwnProperty.call(c,f)){var p=c[f];"number"==typeof p&&(d||(d=!0,l=!0,n[u]=o({},n[u]),a[u]=o({},a[u]),i[u]=o({},i[u]),s[u]=o({},s[u])),n[u][f]=p,a[u][f]=0,i[u][f]=p,s[u][f]=0)}}l&&r.setState({currentStyles:n,currentVelocities:a,lastIdealStyles:i,lastIdealVelocities:s})},this.startAnimationIfNecessary=function(){r.animationID=c.default(function(e){var t=r.props.styles(r.state.lastIdealStyles);if(function(e,t,n){for(var o=0;o<e.length;o++)if(!d.default(e[o],t[o],n[o]))return!1;return!0}(r.state.currentStyles,t,r.state.currentVelocities))return r.animationID=null,void(r.accumulatedTime=0);var n=e||u.default(),o=n-r.prevTime;if(r.prevTime=n,r.accumulatedTime=r.accumulatedTime+o,r.accumulatedTime>10*m&&(r.accumulatedTime=0),0===r.accumulatedTime)return r.animationID=null,void r.startAnimationIfNecessary();for(var a=(r.accumulatedTime-Math.floor(r.accumulatedTime/m)*m)/m,i=Math.floor(r.accumulatedTime/m),s=[],c=[],f=[],p=[],y=0;y<t.length;y++){var h=t[y],v={},b={},g={},w={};for(var _ in h)if(Object.prototype.hasOwnProperty.call(h,_)){var j=h[_];if("number"==typeof j)v[_]=j,b[_]=0,g[_]=j,w[_]=0;else{for(var x=r.state.lastIdealStyles[y][_],S=r.state.lastIdealVelocities[y][_],k=0;k<i;k++){var O=l.default(m/1e3,x,S,j.val,j.stiffness,j.damping,j.precision);x=O[0],S=O[1]}var T=l.default(m/1e3,x,S,j.val,j.stiffness,j.damping,j.precision),P=T[0],I=T[1];v[_]=x+(P-x)*a,b[_]=S+(I-S)*a,g[_]=x,w[_]=S}}f[y]=v,p[y]=b,s[y]=g,c[y]=w}r.animationID=null,r.accumulatedTime-=i*m,r.setState({currentStyles:f,currentVelocities:p,lastIdealStyles:s,lastIdealVelocities:c}),r.unreadPropStyles=null,r.startAnimationIfNecessary()})},this.state=this.defaultState()}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,null,[{key:"propTypes",value:{defaultStyles:p.default.arrayOf(p.default.objectOf(p.default.number)),styles:p.default.func.isRequired,children:p.default.func.isRequired},enumerable:!0}]),t.prototype.defaultState=function(){var e=this.props,t=e.defaultStyles,n=e.styles,o=t||n().map(s.default),r=o.map(function(e){return i.default(e)});return{currentStyles:o,currentVelocities:r,lastIdealStyles:o,lastIdealVelocities:r}},t.prototype.componentDidMount=function(){this.prevTime=u.default(),this.startAnimationIfNecessary()},t.prototype.componentWillReceiveProps=function(e){null!=this.unreadPropStyles&&this.clearUnreadPropStyle(this.unreadPropStyles),this.unreadPropStyles=e.styles(this.state.lastIdealStyles),null==this.animationID&&(this.prevTime=u.default(),this.startAnimationIfNecessary())},t.prototype.componentWillUnmount=function(){null!=this.animationID&&(c.default.cancel(this.animationID),this.animationID=null)},t.prototype.render=function(){var e=this.props.children(this.state.currentStyles);return e&&f.default.Children.only(e)},t}(f.default.Component);t.default=y,e.exports=t.default},"./node_modules/react-motion/lib/TransitionMotion.js":function(e,t,n){"use strict";t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();function a(e){return e&&e.__esModule?e:{default:e}}var i=a(n("./node_modules/react-motion/lib/mapToZero.js")),s=a(n("./node_modules/react-motion/lib/stripStyle.js")),l=a(n("./node_modules/react-motion/lib/stepper.js")),u=a(n("./node_modules/react-motion/lib/mergeDiff.js")),c=a(n("./node_modules/performance-now/lib/performance-now.js")),d=a(n("./node_modules/raf/index.js")),f=a(n("./node_modules/react-motion/lib/shouldStopAnimation.js")),p=a(n("react")),m=a(n("prop-types")),y=1e3/60;function h(e,t,n){var o=t;return null==o?e.map(function(e,t){return{key:e.key,data:e.data,style:n[t]}}):e.map(function(e,t){for(var r=0;r<o.length;r++)if(o[r].key===e.key)return{key:o[r].key,data:o[r].data,style:n[t]};return{key:e.key,data:e.data,style:n[t]}})}function v(e,t,n,o,r,a,s,l,c){for(var d=u.default(o,r,function(e,o){var r=t(o);return null==r?(n({key:o.key,data:o.data}),null):f.default(a[e],r,s[e])?(n({key:o.key,data:o.data}),null):{key:o.key,data:o.data,style:r}}),p=[],m=[],y=[],h=[],v=0;v<d.length;v++){for(var b=d[v],g=null,w=0;w<o.length;w++)if(o[w].key===b.key){g=w;break}if(null==g){var _=e(b);p[v]=_,y[v]=_;var j=i.default(b.style);m[v]=j,h[v]=j}else p[v]=a[g],y[v]=l[g],m[v]=s[g],h[v]=c[g]}return[d,p,m,y,h]}var b=function(e){function t(n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.call(this,n),this.unmounting=!1,this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyles=null,this.clearUnreadPropStyle=function(e){for(var t=v(r.props.willEnter,r.props.willLeave,r.props.didLeave,r.state.mergedPropsStyles,e,r.state.currentStyles,r.state.currentVelocities,r.state.lastIdealStyles,r.state.lastIdealVelocities),n=t[0],a=t[1],i=t[2],s=t[3],l=t[4],u=0;u<e.length;u++){var c=e[u].style,d=!1;for(var f in c)if(Object.prototype.hasOwnProperty.call(c,f)){var p=c[f];"number"==typeof p&&(d||(d=!0,a[u]=o({},a[u]),i[u]=o({},i[u]),s[u]=o({},s[u]),l[u]=o({},l[u]),n[u]={key:n[u].key,data:n[u].data,style:o({},n[u].style)}),a[u][f]=p,i[u][f]=0,s[u][f]=p,l[u][f]=0,n[u].style[f]=p)}}r.setState({currentStyles:a,currentVelocities:i,mergedPropsStyles:n,lastIdealStyles:s,lastIdealVelocities:l})},this.startAnimationIfNecessary=function(){r.unmounting||(r.animationID=d.default(function(e){if(!r.unmounting){var t=r.props.styles,n="function"==typeof t?t(h(r.state.mergedPropsStyles,r.unreadPropStyles,r.state.lastIdealStyles)):t;if(function(e,t,n,o){if(o.length!==t.length)return!1;for(var r=0;r<o.length;r++)if(o[r].key!==t[r].key)return!1;for(r=0;r<o.length;r++)if(!f.default(e[r],t[r].style,n[r]))return!1;return!0}(r.state.currentStyles,n,r.state.currentVelocities,r.state.mergedPropsStyles))return r.animationID=null,void(r.accumulatedTime=0);var o=e||c.default(),a=o-r.prevTime;if(r.prevTime=o,r.accumulatedTime=r.accumulatedTime+a,r.accumulatedTime>10*y&&(r.accumulatedTime=0),0===r.accumulatedTime)return r.animationID=null,void r.startAnimationIfNecessary();for(var i=(r.accumulatedTime-Math.floor(r.accumulatedTime/y)*y)/y,s=Math.floor(r.accumulatedTime/y),u=v(r.props.willEnter,r.props.willLeave,r.props.didLeave,r.state.mergedPropsStyles,n,r.state.currentStyles,r.state.currentVelocities,r.state.lastIdealStyles,r.state.lastIdealVelocities),d=u[0],p=u[1],m=u[2],b=u[3],g=u[4],w=0;w<d.length;w++){var _=d[w].style,j={},x={},S={},k={};for(var O in _)if(Object.prototype.hasOwnProperty.call(_,O)){var T=_[O];if("number"==typeof T)j[O]=T,x[O]=0,S[O]=T,k[O]=0;else{for(var P=b[w][O],I=g[w][O],E=0;E<s;E++){var M=l.default(y/1e3,P,I,T.val,T.stiffness,T.damping,T.precision);P=M[0],I=M[1]}var z=l.default(y/1e3,P,I,T.val,T.stiffness,T.damping,T.precision),L=z[0],D=z[1];j[O]=P+(L-P)*i,x[O]=I+(D-I)*i,S[O]=P,k[O]=I}}b[w]=S,g[w]=k,p[w]=j,m[w]=x}r.animationID=null,r.accumulatedTime-=s*y,r.setState({currentStyles:p,currentVelocities:m,lastIdealStyles:b,lastIdealVelocities:g,mergedPropsStyles:d}),r.unreadPropStyles=null,r.startAnimationIfNecessary()}}))},this.state=this.defaultState()}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,null,[{key:"propTypes",value:{defaultStyles:m.default.arrayOf(m.default.shape({key:m.default.string.isRequired,data:m.default.any,style:m.default.objectOf(m.default.number).isRequired})),styles:m.default.oneOfType([m.default.func,m.default.arrayOf(m.default.shape({key:m.default.string.isRequired,data:m.default.any,style:m.default.objectOf(m.default.oneOfType([m.default.number,m.default.object])).isRequired}))]).isRequired,children:m.default.func.isRequired,willEnter:m.default.func,willLeave:m.default.func,didLeave:m.default.func},enumerable:!0},{key:"defaultProps",value:{willEnter:function(e){return s.default(e.style)},willLeave:function(){return null},didLeave:function(){}},enumerable:!0}]),t.prototype.defaultState=function(){var e=this.props,t=e.defaultStyles,n=e.styles,o=e.willEnter,r=e.willLeave,a=e.didLeave,l="function"==typeof n?n(t):n,u=void 0;u=null==t?l:t.map(function(e){for(var t=0;t<l.length;t++)if(l[t].key===e.key)return l[t];return e});var c=null==t?l.map(function(e){return s.default(e.style)}):t.map(function(e){return s.default(e.style)}),d=null==t?l.map(function(e){return i.default(e.style)}):t.map(function(e){return i.default(e.style)}),f=v(o,r,a,u,l,c,d,c,d),p=f[0];return{currentStyles:f[1],currentVelocities:f[2],lastIdealStyles:f[3],lastIdealVelocities:f[4],mergedPropsStyles:p}},t.prototype.componentDidMount=function(){this.prevTime=c.default(),this.startAnimationIfNecessary()},t.prototype.componentWillReceiveProps=function(e){this.unreadPropStyles&&this.clearUnreadPropStyle(this.unreadPropStyles);var t=e.styles;this.unreadPropStyles="function"==typeof t?t(h(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.lastIdealStyles)):t,null==this.animationID&&(this.prevTime=c.default(),this.startAnimationIfNecessary())},t.prototype.componentWillUnmount=function(){this.unmounting=!0,null!=this.animationID&&(d.default.cancel(this.animationID),this.animationID=null)},t.prototype.render=function(){var e=h(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.currentStyles),t=this.props.children(e);return t&&p.default.Children.only(t)},t}(p.default.Component);t.default=b,e.exports=t.default},"./node_modules/react-motion/lib/mapToZero.js":function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=0);return t},e.exports=t.default},"./node_modules/react-motion/lib/mergeDiff.js":function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t,n){for(var o={},r=0;r<e.length;r++)o[e[r].key]=r;for(var a={},r=0;r<t.length;r++)a[t[r].key]=r;for(var i=[],r=0;r<t.length;r++)i[r]=t[r];for(var r=0;r<e.length;r++)if(!Object.prototype.hasOwnProperty.call(a,e[r].key)){var s=n(r,e[r]);null!=s&&i.push(s)}return i.sort(function(e,n){var r=a[e.key],i=a[n.key],s=o[e.key],l=o[n.key];if(null!=r&&null!=i)return a[e.key]-a[n.key];if(null!=s&&null!=l)return o[e.key]-o[n.key];if(null!=r){for(var u=0;u<t.length;u++){var c=t[u].key;if(Object.prototype.hasOwnProperty.call(o,c)){if(r<a[c]&&l>o[c])return-1;if(r>a[c]&&l<o[c])return 1}}return 1}for(var u=0;u<t.length;u++){var c=t[u].key;if(Object.prototype.hasOwnProperty.call(o,c)){if(i<a[c]&&s>o[c])return 1;if(i>a[c]&&s<o[c])return-1}}return-1})},e.exports=t.default},"./node_modules/react-motion/lib/presets.js":function(e,t,n){"use strict";t.__esModule=!0,t.default={noWobble:{stiffness:170,damping:26},gentle:{stiffness:120,damping:14},wobbly:{stiffness:180,damping:12},stiff:{stiffness:210,damping:20}},e.exports=t.default},"./node_modules/react-motion/lib/react-motion.js":function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e.default:e}t.__esModule=!0;var r=n("./node_modules/react-motion/lib/Motion.js");t.Motion=o(r);var a=n("./node_modules/react-motion/lib/StaggeredMotion.js");t.StaggeredMotion=o(a);var i=n("./node_modules/react-motion/lib/TransitionMotion.js");t.TransitionMotion=o(i);var s=n("./node_modules/react-motion/lib/spring.js");t.spring=o(s);var l=n("./node_modules/react-motion/lib/presets.js");t.presets=o(l);var u=n("./node_modules/react-motion/lib/stripStyle.js");t.stripStyle=o(u);var c=n("./node_modules/react-motion/lib/reorderKeys.js");t.reorderKeys=o(c)},"./node_modules/react-motion/lib/reorderKeys.js":function(e,t,n){"use strict";t.__esModule=!0,t.default=function(){0};e.exports=t.default},"./node_modules/react-motion/lib/shouldStopAnimation.js":function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t,n){for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){if(0!==n[o])return!1;var r="number"==typeof t[o]?t[o]:t[o].val;if(e[o]!==r)return!1}return!0},e.exports=t.default},"./node_modules/react-motion/lib/spring.js":function(e,t,n){"use strict";t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e};t.default=function(e,t){return o({},s,t,{val:e})};var r,a=n("./node_modules/react-motion/lib/presets.js"),i=(r=a)&&r.__esModule?r:{default:r},s=o({},i.default.noWobble,{precision:.01});e.exports=t.default},"./node_modules/react-motion/lib/stepper.js":function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t,n,r,a,i,s){var l=n+(-a*(t-r)+-i*n)*e,u=t+l*e;if(Math.abs(l)<s&&Math.abs(u-r)<s)return o[0]=r,o[1]=0,o;return o[0]=u,o[1]=l,o};var o=[0,0];e.exports=t.default},"./node_modules/react-motion/lib/stripStyle.js":function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]="number"==typeof e[n]?e[n]:e[n].val);return t},e.exports=t.default},"./node_modules/style-loader/lib/addStyles.js":function(e,t,n){var o,r,a={},i=(o=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===r&&(r=o.apply(this,arguments)),r}),s=function(e){var t={};return function(e){if(void 0===t[e]){var n=function(e){return document.querySelector(e)}.call(this,e);if(n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}}(),l=null,u=0,c=[],d=n("./node_modules/style-loader/lib/urls.js");function f(e,t){for(var n=0;n<e.length;n++){var o=e[n],r=a[o.id];if(r){r.refs++;for(var i=0;i<r.parts.length;i++)r.parts[i](o.parts[i]);for(;i<o.parts.length;i++)r.parts.push(b(o.parts[i],t))}else{var s=[];for(i=0;i<o.parts.length;i++)s.push(b(o.parts[i],t));a[o.id]={id:o.id,refs:1,parts:s}}}}function p(e,t){for(var n=[],o={},r=0;r<e.length;r++){var a=e[r],i=t.base?a[0]+t.base:a[0],s={css:a[1],media:a[2],sourceMap:a[3]};o[i]?o[i].parts.push(s):n.push(o[i]={id:i,parts:[s]})}return n}function m(e,t){var n=s(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var o=c[c.length-1];if("top"===e.insertAt)o?o.nextSibling?n.insertBefore(t,o.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),c.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=s(e.insertInto+" "+e.insertAt.before);n.insertBefore(t,r)}}function y(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=c.indexOf(e);t>=0&&c.splice(t,1)}function h(e){var t=document.createElement("style");return e.attrs.type="text/css",v(t,e.attrs),m(e,t),t}function v(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function b(e,t){var n,o,r,a;if(t.transform&&e.css){if(!(a=t.transform(e.css)))return function(){};e.css=a}if(t.singleton){var i=u++;n=l||(l=h(t)),o=_.bind(null,n,i,!1),r=_.bind(null,n,i,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",v(t,e.attrs),m(e,t),t}(t),o=function(e,t,n){var o=n.css,r=n.sourceMap,a=void 0===t.convertToAbsoluteUrls&&r;(t.convertToAbsoluteUrls||a)&&(o=d(o));r&&(o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var i=new Blob([o],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(i),s&&URL.revokeObjectURL(s)}.bind(null,n,t),r=function(){y(n),n.href&&URL.revokeObjectURL(n.href)}):(n=h(t),o=function(e,t){var n=t.css,o=t.media;o&&e.setAttribute("media",o);if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),r=function(){y(n)});return o(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;o(e=t)}else r()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=i()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=p(e,t);return f(n,t),function(e){for(var o=[],r=0;r<n.length;r++){var i=n[r];(s=a[i.id]).refs--,o.push(s)}e&&f(p(e,t),t);for(r=0;r<o.length;r++){var s;if(0===(s=o[r]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete a[s.id]}}}};var g,w=(g=[],function(e,t){return g[e]=t,g.filter(Boolean).join("\n")});function _(e,t,n,o){var r=n?"":o.css;if(e.styleSheet)e.styleSheet.cssText=w(t,r);else{var a=document.createTextNode(r),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(a,i[t]):e.appendChild(a)}}},"./node_modules/style-loader/lib/urls.js":function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,o=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var r,a=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(a)?e:(r=0===a.indexOf("//")?a:0===a.indexOf("/")?n+a:o+a.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")})}},"./node_modules/webpack/buildin/global.js":function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},"./src/components/Background/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a(n("react")),r=a(n("./src/components/Background/index.less"));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.show,n=e.zoom,a=e.unmountSelf,i=e.toggleZoom;return console.log(t),o.default.createElement("div",{className:r.default.backgroundLayer,onClick:n?i:a,style:{opacity:t?1:0}})}},"./src/components/Background/index.less":function(e,t,n){var o=n("./node_modules/css-loader/index.js??ref--4-1!./node_modules/postcss-loader/lib/index.js??postcss!./node_modules/less-loader/dist/cjs.js!./src/components/Background/index.less");"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0};n("./node_modules/style-loader/lib/addStyles.js")(o,r);o.locals&&(e.exports=o.locals)},"./src/components/Control/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=n("react"),a=u(r),i=n("./node_modules/react-motion/lib/react-motion.js"),s=u(n("./src/components/Control/index.less")),l=n("./src/utils/index.js");function u(e){return e&&e.__esModule?e:{default:e}}var c={over:20,rotate:45,opacity:0},d={over:0,rotate:0,opacity:1},f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={motionStyle:c},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.PureComponent),o(t,[{key:"componentWillReceiveProps",value:function(e){e.show?this.setState({motionStyle:d}):this.setState({motionStyle:c})}},{key:"render",value:function(){var e=this.props,t=e.zoom,n=e.page,o=e.set,u=e.mobile,c=e.controller,d=e.unmountSelf,f=e.toggleZoom,p=e.jumpPages,m=this.state.motionStyle;return a.default.createElement(i.Motion,{style:(0,l.springlization)({over:m.over,rotate:m.rotate,opacity:m.opacity})},function(e){var i=e.over,l=e.rotate,m=e.opacity;return a.default.createElement(r.Fragment,null,a.default.createElement("div",{className:s.default.controls},!t&&c.zoom&&a.default.createElement("div",{className:s.default.zoomButton,onClick:u?function(){return window.open(o[n].src)}:f,style:{opacity:m,transform:"rotate("+l+"deg)"}}),!t&&c.close&&a.default.createElement("div",{className:s.default.closeButton,onClick:t?f:d},a.default.createElement("div",{className:s.default.crossLine,style:{opacity:m,transform:"rotate("+(45-l)+"deg)"}}),a.default.createElement("div",{className:s.default.crossLine,style:{opacity:m,transform:"rotate("+-(45-l)+"deg)"}}))),o.length>1&&!t&&c.pagination&&a.default.createElement("div",{className:s.default.pages,style:{opacity:m,transform:"translate3d(-50%, "+i+"px, 0)"}},o.map(function(e,t){return t===n?a.default.createElement("span",{key:t,className:s.default.blackDot}):a.default.createElement("span",{key:t,className:s.default.whiteDot,onClick:function(){return p(t)}})})))})}}]),t}();t.default=f},"./src/components/Control/index.less":function(e,t,n){var o=n("./node_modules/css-loader/index.js??ref--4-1!./node_modules/postcss-loader/lib/index.js??postcss!./node_modules/less-loader/dist/cjs.js!./src/components/Control/index.less");"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0};n("./node_modules/style-loader/lib/addStyles.js")(o,r);o.locals&&(e.exports=o.locals)},"./src/components/Image/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=n("react"),a=u(r),i=n("./node_modules/react-motion/lib/react-motion.js"),s=u(n("./src/components/Image/index.less")),l=n("./src/utils/index.js");function u(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));d.call(n),n.image=null,n.initialPageOffset=window.pageYOffset;var o=n.coverStyle(),r=o.x,a=o.y,i=o.opacity,s=o.scale;return n.state={defaultStyle:{x:r,y:a,opacity:i,scale:s},currentStyle:{x:r,y:a,opacity:i,scale:s}},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.PureComponent),o(t,[{key:"componentDidMount",value:function(){(0,l.addListenEventOf)("resize",this.handleResize)}},{key:"componentWillReceiveProps",value:function(e){var t=e.set,n=e.page;this.updateImageInfo(t[n].src)}},{key:"componentWillUnmount",value:function(){(0,l.removeListenEventOf)("resize",this.handleResize)}},{key:"render",value:function(){var e=this,t=this.props,n=t.show,o=t.zoom,u=t.page,c=t.set,d=t.toggleZoom,f=this.state,p=f.defaultStyle,m=f.currentStyle;return a.default.createElement(r.Fragment,null,n&&a.default.createElement("div",{className:s.default.loadingContainer},a.default.createElement("div",{className:s.default.loading})),a.default.createElement(i.Motion,{defaultStyle:p,style:(0,l.springlization)({x:m.x,y:m.y,opacity:m.opacity,scale:m.scale}),onRest:this.handleMotionRest},function(t){var r=t.x,i=t.y,f=t.scale;return a.default.createElement("img",{key:u,className:s.default.imageLayer,style:{top:n?"50%":(0,l.windowHeight)()/2-(window.pageYOffset-e.initialPageOffset),transform:"translate3d(-50%, -50%, 0) translate3d("+r+"px, "+i+"px, 0px) scale3d("+f+", "+f+", 1)",cursor:o?"zoom-out":"initial"},src:c[u].src,alt:c[u].alt,onClick:o?d:function(){}})}))}}]),t}(),d=function(){var e=this;this.updateImageInfo=function(t){e.image&&t===e.image.src?e.updateImageStyle():(e.image=new Image,e.image.onload=e.updateImageStyle,e.image.src=t)},this.updateImageStyle=function(){var t=e.props,n=t.show,o=t.zoom;n?o?(e.setStyle(e.zoomingStyle()),(0,l.addListenEventOf)("mousemove",e.handleMouseMove)):(e.setStyle(e.browsingStyle()),(0,l.removeListenEventOf)("mousemove",e.handleMouseMove)):(e.setStyle(e.coverStyle()),(0,l.removeListenEventOf)("mousemove",e.handleMouseMove))},this.coverStyle=function(){var t=e.props,n=t.page,o=t.cover,r=o.width,a=o.height,i=o.naturalWidth,s=o.getBoundingClientRect(),u=s.top,c=s.left;return 0===n?{x:-(0,l.scrollWidth)()/2+c+r/2,y:-(0,l.windowHeight)()/2+u+a/2,opacity:1,scale:r/i}:{x:0,y:-(0,l.windowHeight)(),opacity:0,scale:r/i}},this.browsingStyle=function(){var t=e.props.margin;return{x:0,y:0,opacity:1,scale:(0,l.calcFitScale)(e.image,t)}},this.zoomingStyle=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.clientX,o=void 0===n?(0,l.scrollWidth)()/2:n,r=t.clientY,a=void 0===r?(0,l.windowHeight)()/2:r,i=e.props.margin,s=e.image,u=s.naturalWidth,c=s.naturalHeight,d=(0,l.scrollWidth)(),f=(0,l.windowHeight)(),p=u-(0,l.scrollWidth)()+2*i,m=c-(0,l.windowHeight)()+2*i;return{x:u>d?(u-d)/2+i-p*(o/d):0,y:c>f?(c-f)/2+i-m*(a/f):0,opacity:1,scale:1}},this.handleMouseMove=function(t){e.setStyle(e.zoomingStyle(t))},this.handleResize=function(t){e.updateImageStyle()},this.handleMotionRest=function(){var t=e.props,n=t.cover,o=t.remove;e.props.show||(n.style.visibility="visible",o())},this.setStyle=function(t){var n=e.state.currentStyle,o=t.x,r=void 0===o?n.x:o,a=t.y,i=void 0===a?n.y:a,s=t.opacity,l=void 0===s?n.opacity:s,u=t.scale,c=void 0===u?n.opacity:u;e.setState({currentStyle:{x:r,y:i,opacity:l,scale:c}})}};t.default=c},"./src/components/Image/index.less":function(e,t,n){var o=n("./node_modules/css-loader/index.js??ref--4-1!./node_modules/postcss-loader/lib/index.js??postcss!./node_modules/less-loader/dist/cjs.js!./src/components/Image/index.less");"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0};n("./node_modules/style-loader/lib/addStyles.js")(o,r);o.locals&&(e.exports=o.locals)},"./src/components/Portals/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=i(n("react")),a=i(n("react-dom"));function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.target=e.target||document.body,n.element=document.createElement("div"),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),o(t,[{key:"componentDidMount",value:function(){this.target.appendChild(this.element)}},{key:"componentWillUnmount",value:function(){this.target.removeChild(this.element)}},{key:"render",value:function(){return a.default.createPortal(this.props.children,this.element)}}]),t}();t.default=s},"./src/components/Wrapper/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=f(n("react")),a=f(n("prop-types")),i=f(n("./src/components/Wrapper/index.less")),s=f(n("./src/components/Control/index.js")),l=f(n("./src/components/Image/index.js")),u=f(n("./src/components/Background/index.js")),c=n("./src/config/default.js"),d=n("./src/utils/index.js");function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.mountSelf=function(){var e=n.props.cover;n.setState({show:!0},function(){e.style.visibility="hidden",(0,d.addListenEventOf)("scroll",n.handleScroll),(0,d.addListenEventOf)("keydown",n.handleKeyDown),(0,d.addListenEventOf)("touchmove",n.handleScroll)})},n.unmountSelf=function(){var e=n.props.cover;0!==n.state.page&&(e.style.visibility="visible"),n.setState({show:!1})},n.handleKeyDown=function(e){e.preventDefault();var t=n.props,o=t.set,r=t.hotKey,a=n.state.zoom,i=o&&o.constructor===Array,s=n.handleSwitchPages("prev"),l=n.handleSwitchPages("next");switch(e.key){case"ArrowLeft":!a&&r.flip&&i&&s();break;case"ArrowRight":!a&&r.flip&&i&&l();break;case" ":r.zoom&&n.handleToggleZoom();break;case"Escape":r.close&&(a?n.handleToggleZoom():n.unmountSelf());break;default:return}},n.handleScroll=function(){n.state.show&&n.unmountSelf()},n.handleJumpPages=function(e){n.setState({page:e})},n.handleSwitchPages=function(e){return function(){var t=n.props.set,o=n.state.page;n.setState({page:"prev"===e?Math.abs(t.length+o-1)%t.length:(o+1)%t.length})}},n.handleToggleZoom=function(){n.setState({zoom:!n.state.zoom})};var o=(0,d.mobileCheck)();return n.scrollCount=0,n.initialPageOffset=window.pageYOffset,n.state={show:!1,zoom:!1,page:0,mobile:o,margin:o?0:e.margin},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.PureComponent),o(t,[{key:"componentDidMount",value:function(){this.mountSelf()}},{key:"componentWillUnmount",value:function(){(0,d.removeListenEventOf)("scroll",this.handleScroll),(0,d.removeListenEventOf)("keydown",this.handleKeyDown),(0,d.removeListenEventOf)("touchmove",this.handleScroll)}},{key:"render",value:function(){var e=this.props,t=e.cover,n=e.set,o=e.controller,a=e.remove,c=this.state,d=c.show,f=c.zoom,p=c.page,m=c.mobile,y=c.margin;return r.default.createElement("div",{className:i.default.wrapperLayer},r.default.createElement(u.default,{show:d,zoom:f,unmountSelf:this.unmountSelf,toggleZoom:this.handleToggleZoom}),r.default.createElement(s.default,{set:n,show:d,zoom:f,page:p,mobile:m,controller:o,unmountSelf:this.unmountSelf,jumpPages:this.handleJumpPages,toggleZoom:this.handleToggleZoom}),r.default.createElement(l.default,{set:n,show:d,zoom:f,page:p,cover:t,mobile:m,remove:a,margin:y,toggleZoom:this.handleToggleZoom}))}}]),t}();t.default=p,p.defaultProps={cover:{},set:[],controller:c.defProp.controller,hotKey:c.defProp.hotKey,margin:c.defProp.margin,remove:function(){}},p.propTypes={cover:a.default.object,set:c.defType.set,controller:c.defType.controller,hotKey:c.defType.hotKey,margin:c.defType.margin,remove:a.default.func}},"./src/components/Wrapper/index.less":function(e,t,n){var o=n("./node_modules/css-loader/index.js??ref--4-1!./node_modules/postcss-loader/lib/index.js??postcss!./node_modules/less-loader/dist/cjs.js!./src/components/Wrapper/index.less");"string"==typeof o&&(o=[[e.i,o,""]]);var r={hmr:!0,transform:void 0};n("./node_modules/style-loader/lib/addStyles.js")(o,r);o.locals&&(e.exports=o.locals)},"./src/config/default.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defType=t.defProp=void 0;var o,r=n("prop-types"),a=(o=r)&&o.__esModule?o:{default:o};t.defProp={controller:{pagination:!0,title:!0,close:!0,zoom:!0,flip:!0},hotKey:{close:!0,zoom:!0,flip:!0},margin:70,springOption:{stiffness:200,damping:25,precision:.01}},t.defType={set:a.default.oneOfType([a.default.arrayOf(a.default.shape({src:a.default.string,alt:a.default.string,text:a.default.string})),a.default.shape({src:a.default.string,alt:a.default.string,text:a.default.string})]),controller:a.default.shape({pagination:a.default.bool,title:a.default.bool,close:a.default.bool,zoom:a.default.bool,flip:a.default.bool}),hotKey:a.default.shape({close:a.default.bool,zoom:a.default.bool,flip:a.default.bool}),margin:a.default.number,springOption:a.default.shape({stiffness:a.default.number,damping:a.default.number})}},"./src/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n("react"),i=d(a),s=d(n("prop-types")),l=d(n("./src/components/Portals/index.js")),u=d(n("./src/components/Wrapper/index.js")),c=n("./src/config/default.js");function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return p.call(n),n.cover=null,n.state={browsing:!1,set:n.buildSet(e)},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.PureComponent),r(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.browsing,r=t.set,s=this.props,d=s.className,f=s.src,p=s.alt,m=s.controller,y=s.hotKey,h=s.style,v=function(e,t){var n={};for(var o in e)t.indexOf(o)>=0||Object.prototype.hasOwnProperty.call(e,o)&&(n[o]=e[o]);return n}(s,["className","src","alt","controller","hotKey","style"]);return i.default.createElement(a.Fragment,null,i.default.createElement("img",o({ref:function(t){return e.cover=t},className:d,src:f,alt:p,title:p,style:o({cursor:"zoom-in"},h),onClick:this.browsing},v)),n&&i.default.createElement(l.default,null,i.default.createElement(u.default,{set:r,cover:this.cover,controller:o({},c.defProp.controller,m),hotKey:o({},c.defProp.hotKey,y),remove:this.unBrowsing})))}}]),t}(),p=function(){var e=this;this.buildSet=function(e){var t=e.set,n=e.src,o=e.alt,r=e.txt;return t&&t.constructor===Array&&t.length>1?t:[{src:n,alt:o,txt:r}]},this.browsing=function(){var t=e.props.onClick;t&&t.constructor===Function&&t(),e.setState({browsing:!0})},this.unBrowsing=function(){e.setState({browsing:!1})}};t.default=f,f.defaultProps={src:"",alt:"",txt:"",set:[],controller:c.defProp.controller,hotKey:c.defProp.hotKey},f.propTypes={src:s.default.string.isRequired,alt:s.default.string,txt:s.default.string,set:c.defType.set,controller:c.defType.controller,hotKey:c.defType.hotKey}},"./src/utils/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.springlization=t.mobileCheck=t.clientHeight=t.scrollHeight=t.windowHeight=t.clientWidth=t.scrollWidth=t.windowWidth=t.removeListenEventOf=t.addListenEventOf=t.calcFitScale=void 0;var o=n("./src/config/default.js"),r=n("./node_modules/react-motion/lib/react-motion.js"),a=(t.calcFitScale=function(e,t){var n=a()/(e.naturalWidth+2*t),o=i()/(e.naturalHeight+2*t);return Math.min(n,o)},t.addListenEventOf=function(e,t){return window.addEventListener(e,t,!0)},t.removeListenEventOf=function(e,t){return window.removeEventListener(e,t,!0)},t.windowWidth=function(){return window.innerWidth},t.scrollWidth=function(){return document.body.scrollWidth},t.clientWidth=function(){return document.documentElement.clientWidth}),i=(t.windowHeight=function(){return window.innerHeight},t.scrollHeight=function(){return document.body.scrollHeight},t.clientHeight=function(){return document.documentElement.clientHeight});t.mobileCheck=function(){var e=!1,t=navigator.userAgent||navigator.vendor||window.opera;return(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0),e},t.springlization=function(e){var t={};for(var n in e)t[n]=(0,r.spring)(e[n],o.defProp.springOption);return t}},0:function(e,t,n){e.exports=n("./src/index.js")},"prop-types":function(e,n){e.exports=t},react:function(t,n){t.exports=e},"react-dom":function(e,t){e.exports=n}})});