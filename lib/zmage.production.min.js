!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("prop-types"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","prop-types","react-dom"],t):"object"==typeof exports?exports["react-zmage"]=t(require("react"),require("prop-types"),require("react-dom")):e["react-zmage"]=t(e.react,e["prop-types"],e["react-dom"])}("undefined"!=typeof self?self:this,function(e,t,o){return function(e){var t={};function o(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}return o.m=e,o.c=t,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}({"./node_modules/css-loader/index.js??ref--4-1!./node_modules/postcss-loader/lib/index.js??postcss!./node_modules/less-loader/dist/cjs.js!./src/components/Background/index.less":function(e,t,o){(t=e.exports=o("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".backgroundLayer__2zBDq{position:absolute;top:0;left:0;right:0;bottom:0;cursor:-webkit-zoom-out;cursor:zoom-out;background-color:#fff}",""]),t.locals={backgroundLayer:"backgroundLayer__2zBDq"}},"./node_modules/css-loader/index.js??ref--4-1!./node_modules/postcss-loader/lib/index.js??postcss!./node_modules/less-loader/dist/cjs.js!./src/components/Control/index.less":function(e,t,o){(t=e.exports=o("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".controls__2sOYg{position:absolute;padding:20px;top:0;right:0;z-index:90;display:-webkit-box;display:-ms-flexbox;display:flex}.controls__2sOYg,.zoomButton__3EA_v{-webkit-box-sizing:border-box;box-sizing:border-box}.zoomButton__3EA_v{margin:7px;width:26px;height:26px;cursor:pointer;border:1px solid #000}.zoomButton__3EA_v:hover{-webkit-transform:scale(1.1);transform:scale(1.1)}.closeButton__1hkr-,.zoomButton__3EA_v:active{-webkit-transform:scale(1);transform:scale(1)}.closeButton__1hkr-{width:40px;height:40px;cursor:pointer}.closeButton__1hkr- .crossLine__3lngH{position:absolute;top:50%;left:3px;width:35px;height:1px;background-color:#000;-webkit-transform-origin:50%;transform-origin:50%}.closeButton__1hkr-:hover{-webkit-transform:scale(1.1);transform:scale(1.1)}.closeButton__1hkr-:active{-webkit-transform:scale(1);transform:scale(1)}.pages__1SqZ9{-webkit-box-sizing:border-box;box-sizing:border-box;display:-webkit-box;display:-ms-flexbox;display:flex;position:absolute;left:50%;bottom:0;z-index:110;-webkit-transform:translateX(-50%);transform:translateX(-50%)}.pages__1SqZ9 .blackDot__1c8XI{background:#000}.pages__1SqZ9 .blackDot__1c8XI,.pages__1SqZ9 .whiteDot__WV_HE{cursor:pointer;margin:10px 4px;display:block;width:8px;height:8px;border-radius:4px}.pages__1SqZ9 .whiteDot__WV_HE{background:#999}",""]),t.locals={controls:"controls__2sOYg",zoomButton:"zoomButton__3EA_v",closeButton:"closeButton__1hkr-",crossLine:"crossLine__3lngH",pages:"pages__1SqZ9",blackDot:"blackDot__1c8XI",whiteDot:"whiteDot__WV_HE"}},"./node_modules/css-loader/index.js??ref--4-1!./node_modules/postcss-loader/lib/index.js??postcss!./node_modules/less-loader/dist/cjs.js!./src/components/Image/index.less":function(e,t,o){(t=e.exports=o("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".imageLayer__1CUlw{position:absolute;left:50%;top:50%;z-index:10;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border-radius:5px;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}",""]),t.locals={imageLayer:"imageLayer__1CUlw"}},"./node_modules/css-loader/index.js??ref--4-1!./node_modules/postcss-loader/lib/index.js??postcss!./node_modules/less-loader/dist/cjs.js!./src/components/Wrapper/index.less":function(e,t,o){(t=e.exports=o("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".wrapperLayer__12HA6{-webkit-box-sizing:border-box;box-sizing:border-box;position:fixed;top:0;left:0;right:0;bottom:0}",""]),t.locals={wrapperLayer:"wrapperLayer__12HA6"}},"./node_modules/css-loader/lib/css-base.js":function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var o=function(e,t){var o=e[1]||"",n=e[3];if(!n)return o;if(t&&"function"==typeof btoa){var r=(i=n,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),a=n.sources.map(function(e){return"/*# sourceURL="+n.sourceRoot+e+" */"});return[o].concat(a).concat([r]).join("\n")}var i;return[o].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+o+"}":o}).join("")},t.i=function(e,o){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},r=0;r<this.length;r++){var a=this[r][0];"number"==typeof a&&(n[a]=!0)}for(r=0;r<e.length;r++){var i=e[r];"number"==typeof i[0]&&n[i[0]]||(o&&!i[2]?i[2]=o:o&&(i[2]="("+i[2]+") and ("+o+")"),t.push(i))}},t}},"./node_modules/node-libs-browser/node_modules/process/browser.js":function(e,t){var o,n,r=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function s(e){if(o===setTimeout)return setTimeout(e,0);if((o===a||!o)&&setTimeout)return o=setTimeout,setTimeout(e,0);try{return o(e,0)}catch(t){try{return o.call(null,e,0)}catch(t){return o.call(this,e,0)}}}!function(){try{o="function"==typeof setTimeout?setTimeout:a}catch(e){o=a}try{n="function"==typeof clearTimeout?clearTimeout:i}catch(e){n=i}}();var l,u=[],c=!1,f=-1;function d(){c&&l&&(c=!1,l.length?u=l.concat(u):f=-1,u.length&&p())}function p(){if(!c){var e=s(d);c=!0;for(var t=u.length;t;){for(l=u,u=[];++f<t;)l&&l[f].run();f=-1,t=u.length}l=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function y(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var o=1;o<arguments.length;o++)t[o-1]=arguments[o];u.push(new m(e,t)),1!==u.length||c||s(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=y,r.addListener=y,r.once=y,r.off=y,r.removeListener=y,r.removeAllListeners=y,r.emit=y,r.prependListener=y,r.prependOnceListener=y,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},"./node_modules/performance-now/lib/performance-now.js":function(e,t,o){(function(t){(function(){var o,n,r;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:void 0!==t&&null!==t&&t.hrtime?(e.exports=function(){return(o()-r)/1e6},n=t.hrtime,r=(o=function(){var e;return 1e9*(e=n())[0]+e[1]})()):Date.now?(e.exports=function(){return Date.now()-r},r=Date.now()):(e.exports=function(){return(new Date).getTime()-r},r=(new Date).getTime())}).call(this)}).call(t,o("./node_modules/node-libs-browser/node_modules/process/browser.js"))},"./node_modules/raf/index.js":function(e,t,o){(function(t){for(var n=o("./node_modules/raf/node_modules/performance-now/lib/performance-now.js"),r="undefined"==typeof window?t:window,a=["moz","webkit"],i="AnimationFrame",s=r["request"+i],l=r["cancel"+i]||r["cancelRequest"+i],u=0;!s&&u<a.length;u++)s=r[a[u]+"Request"+i],l=r[a[u]+"Cancel"+i]||r[a[u]+"CancelRequest"+i];if(!s||!l){var c=0,f=0,d=[];s=function(e){if(0===d.length){var t=n(),o=Math.max(0,1e3/60-(t-c));c=o+t,setTimeout(function(){var e=d.slice(0);d.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(c)}catch(e){setTimeout(function(){throw e},0)}},Math.round(o))}return d.push({handle:++f,callback:e,cancelled:!1}),f},l=function(e){for(var t=0;t<d.length;t++)d[t].handle===e&&(d[t].cancelled=!0)}}e.exports=function(e){return s.call(r,e)},e.exports.cancel=function(){l.apply(r,arguments)},e.exports.polyfill=function(e){e||(e=r),e.requestAnimationFrame=s,e.cancelAnimationFrame=l}}).call(t,o("./node_modules/webpack/buildin/global.js"))},"./node_modules/raf/node_modules/performance-now/lib/performance-now.js":function(e,t,o){(function(t){(function(){var o,n,r,a,i,s;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:void 0!==t&&null!==t&&t.hrtime?(e.exports=function(){return(o()-i)/1e6},n=t.hrtime,a=(o=function(){var e;return 1e9*(e=n())[0]+e[1]})(),s=1e9*t.uptime(),i=a-s):Date.now?(e.exports=function(){return Date.now()-r},r=Date.now()):(e.exports=function(){return(new Date).getTime()-r},r=(new Date).getTime())}).call(this)}).call(t,o("./node_modules/node-libs-browser/node_modules/process/browser.js"))},"./node_modules/react-motion/lib/Motion.js":function(e,t,o){"use strict";t.__esModule=!0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},r=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}();function a(e){return e&&e.__esModule?e:{default:e}}var i=a(o("./node_modules/react-motion/lib/mapToZero.js")),s=a(o("./node_modules/react-motion/lib/stripStyle.js")),l=a(o("./node_modules/react-motion/lib/stepper.js")),u=a(o("./node_modules/performance-now/lib/performance-now.js")),c=a(o("./node_modules/raf/index.js")),f=a(o("./node_modules/react-motion/lib/shouldStopAnimation.js")),d=a(o("react")),p=a(o("prop-types")),m=1e3/60,y=function(e){function t(o){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.call(this,o),this.wasAnimating=!1,this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyle=null,this.clearUnreadPropStyle=function(e){var t=!1,o=r.state,a=o.currentStyle,i=o.currentVelocity,s=o.lastIdealStyle,l=o.lastIdealVelocity;for(var u in e)if(Object.prototype.hasOwnProperty.call(e,u)){var c=e[u];"number"==typeof c&&(t||(t=!0,a=n({},a),i=n({},i),s=n({},s),l=n({},l)),a[u]=c,i[u]=0,s[u]=c,l[u]=0)}t&&r.setState({currentStyle:a,currentVelocity:i,lastIdealStyle:s,lastIdealVelocity:l})},this.startAnimationIfNecessary=function(){r.animationID=c.default(function(e){var t=r.props.style;if(f.default(r.state.currentStyle,t,r.state.currentVelocity))return r.wasAnimating&&r.props.onRest&&r.props.onRest(),r.animationID=null,r.wasAnimating=!1,void(r.accumulatedTime=0);r.wasAnimating=!0;var o=e||u.default(),n=o-r.prevTime;if(r.prevTime=o,r.accumulatedTime=r.accumulatedTime+n,r.accumulatedTime>10*m&&(r.accumulatedTime=0),0===r.accumulatedTime)return r.animationID=null,void r.startAnimationIfNecessary();var a=(r.accumulatedTime-Math.floor(r.accumulatedTime/m)*m)/m,i=Math.floor(r.accumulatedTime/m),s={},c={},d={},p={};for(var y in t)if(Object.prototype.hasOwnProperty.call(t,y)){var h=t[y];if("number"==typeof h)d[y]=h,p[y]=0,s[y]=h,c[y]=0;else{for(var v=r.state.lastIdealStyle[y],b=r.state.lastIdealVelocity[y],g=0;g<i;g++){var w=l.default(m/1e3,v,b,h.val,h.stiffness,h.damping,h.precision);v=w[0],b=w[1]}var _=l.default(m/1e3,v,b,h.val,h.stiffness,h.damping,h.precision),j=_[0],x=_[1];d[y]=v+(j-v)*a,p[y]=b+(x-b)*a,s[y]=v,c[y]=b}}r.animationID=null,r.accumulatedTime-=i*m,r.setState({currentStyle:d,currentVelocity:p,lastIdealStyle:s,lastIdealVelocity:c}),r.unreadPropStyle=null,r.startAnimationIfNecessary()})},this.state=this.defaultState()}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,null,[{key:"propTypes",value:{defaultStyle:p.default.objectOf(p.default.number),style:p.default.objectOf(p.default.oneOfType([p.default.number,p.default.object])).isRequired,children:p.default.func.isRequired,onRest:p.default.func},enumerable:!0}]),t.prototype.defaultState=function(){var e=this.props,t=e.defaultStyle,o=e.style,n=t||s.default(o),r=i.default(n);return{currentStyle:n,currentVelocity:r,lastIdealStyle:n,lastIdealVelocity:r}},t.prototype.componentDidMount=function(){this.prevTime=u.default(),this.startAnimationIfNecessary()},t.prototype.componentWillReceiveProps=function(e){null!=this.unreadPropStyle&&this.clearUnreadPropStyle(this.unreadPropStyle),this.unreadPropStyle=e.style,null==this.animationID&&(this.prevTime=u.default(),this.startAnimationIfNecessary())},t.prototype.componentWillUnmount=function(){null!=this.animationID&&(c.default.cancel(this.animationID),this.animationID=null)},t.prototype.render=function(){var e=this.props.children(this.state.currentStyle);return e&&d.default.Children.only(e)},t}(d.default.Component);t.default=y,e.exports=t.default},"./node_modules/react-motion/lib/StaggeredMotion.js":function(e,t,o){"use strict";t.__esModule=!0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},r=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}();function a(e){return e&&e.__esModule?e:{default:e}}var i=a(o("./node_modules/react-motion/lib/mapToZero.js")),s=a(o("./node_modules/react-motion/lib/stripStyle.js")),l=a(o("./node_modules/react-motion/lib/stepper.js")),u=a(o("./node_modules/performance-now/lib/performance-now.js")),c=a(o("./node_modules/raf/index.js")),f=a(o("./node_modules/react-motion/lib/shouldStopAnimation.js")),d=a(o("react")),p=a(o("prop-types")),m=1e3/60;var y=function(e){function t(o){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.call(this,o),this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyles=null,this.clearUnreadPropStyle=function(e){for(var t=r.state,o=t.currentStyles,a=t.currentVelocities,i=t.lastIdealStyles,s=t.lastIdealVelocities,l=!1,u=0;u<e.length;u++){var c=e[u],f=!1;for(var d in c)if(Object.prototype.hasOwnProperty.call(c,d)){var p=c[d];"number"==typeof p&&(f||(f=!0,l=!0,o[u]=n({},o[u]),a[u]=n({},a[u]),i[u]=n({},i[u]),s[u]=n({},s[u])),o[u][d]=p,a[u][d]=0,i[u][d]=p,s[u][d]=0)}}l&&r.setState({currentStyles:o,currentVelocities:a,lastIdealStyles:i,lastIdealVelocities:s})},this.startAnimationIfNecessary=function(){r.animationID=c.default(function(e){var t=r.props.styles(r.state.lastIdealStyles);if(function(e,t,o){for(var n=0;n<e.length;n++)if(!f.default(e[n],t[n],o[n]))return!1;return!0}(r.state.currentStyles,t,r.state.currentVelocities))return r.animationID=null,void(r.accumulatedTime=0);var o=e||u.default(),n=o-r.prevTime;if(r.prevTime=o,r.accumulatedTime=r.accumulatedTime+n,r.accumulatedTime>10*m&&(r.accumulatedTime=0),0===r.accumulatedTime)return r.animationID=null,void r.startAnimationIfNecessary();for(var a=(r.accumulatedTime-Math.floor(r.accumulatedTime/m)*m)/m,i=Math.floor(r.accumulatedTime/m),s=[],c=[],d=[],p=[],y=0;y<t.length;y++){var h=t[y],v={},b={},g={},w={};for(var _ in h)if(Object.prototype.hasOwnProperty.call(h,_)){var j=h[_];if("number"==typeof j)v[_]=j,b[_]=0,g[_]=j,w[_]=0;else{for(var x=r.state.lastIdealStyles[y][_],S=r.state.lastIdealVelocities[y][_],O=0;O<i;O++){var k=l.default(m/1e3,x,S,j.val,j.stiffness,j.damping,j.precision);x=k[0],S=k[1]}var P=l.default(m/1e3,x,S,j.val,j.stiffness,j.damping,j.precision),T=P[0],I=P[1];v[_]=x+(T-x)*a,b[_]=S+(I-S)*a,g[_]=x,w[_]=S}}d[y]=v,p[y]=b,s[y]=g,c[y]=w}r.animationID=null,r.accumulatedTime-=i*m,r.setState({currentStyles:d,currentVelocities:p,lastIdealStyles:s,lastIdealVelocities:c}),r.unreadPropStyles=null,r.startAnimationIfNecessary()})},this.state=this.defaultState()}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,null,[{key:"propTypes",value:{defaultStyles:p.default.arrayOf(p.default.objectOf(p.default.number)),styles:p.default.func.isRequired,children:p.default.func.isRequired},enumerable:!0}]),t.prototype.defaultState=function(){var e=this.props,t=e.defaultStyles,o=e.styles,n=t||o().map(s.default),r=n.map(function(e){return i.default(e)});return{currentStyles:n,currentVelocities:r,lastIdealStyles:n,lastIdealVelocities:r}},t.prototype.componentDidMount=function(){this.prevTime=u.default(),this.startAnimationIfNecessary()},t.prototype.componentWillReceiveProps=function(e){null!=this.unreadPropStyles&&this.clearUnreadPropStyle(this.unreadPropStyles),this.unreadPropStyles=e.styles(this.state.lastIdealStyles),null==this.animationID&&(this.prevTime=u.default(),this.startAnimationIfNecessary())},t.prototype.componentWillUnmount=function(){null!=this.animationID&&(c.default.cancel(this.animationID),this.animationID=null)},t.prototype.render=function(){var e=this.props.children(this.state.currentStyles);return e&&d.default.Children.only(e)},t}(d.default.Component);t.default=y,e.exports=t.default},"./node_modules/react-motion/lib/TransitionMotion.js":function(e,t,o){"use strict";t.__esModule=!0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},r=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}();function a(e){return e&&e.__esModule?e:{default:e}}var i=a(o("./node_modules/react-motion/lib/mapToZero.js")),s=a(o("./node_modules/react-motion/lib/stripStyle.js")),l=a(o("./node_modules/react-motion/lib/stepper.js")),u=a(o("./node_modules/react-motion/lib/mergeDiff.js")),c=a(o("./node_modules/performance-now/lib/performance-now.js")),f=a(o("./node_modules/raf/index.js")),d=a(o("./node_modules/react-motion/lib/shouldStopAnimation.js")),p=a(o("react")),m=a(o("prop-types")),y=1e3/60;function h(e,t,o){var n=t;return null==n?e.map(function(e,t){return{key:e.key,data:e.data,style:o[t]}}):e.map(function(e,t){for(var r=0;r<n.length;r++)if(n[r].key===e.key)return{key:n[r].key,data:n[r].data,style:o[t]};return{key:e.key,data:e.data,style:o[t]}})}function v(e,t,o,n,r,a,s,l,c){for(var f=u.default(n,r,function(e,n){var r=t(n);return null==r?(o({key:n.key,data:n.data}),null):d.default(a[e],r,s[e])?(o({key:n.key,data:n.data}),null):{key:n.key,data:n.data,style:r}}),p=[],m=[],y=[],h=[],v=0;v<f.length;v++){for(var b=f[v],g=null,w=0;w<n.length;w++)if(n[w].key===b.key){g=w;break}if(null==g){var _=e(b);p[v]=_,y[v]=_;var j=i.default(b.style);m[v]=j,h[v]=j}else p[v]=a[g],y[v]=l[g],m[v]=s[g],h[v]=c[g]}return[f,p,m,y,h]}var b=function(e){function t(o){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),e.call(this,o),this.unmounting=!1,this.animationID=null,this.prevTime=0,this.accumulatedTime=0,this.unreadPropStyles=null,this.clearUnreadPropStyle=function(e){for(var t=v(r.props.willEnter,r.props.willLeave,r.props.didLeave,r.state.mergedPropsStyles,e,r.state.currentStyles,r.state.currentVelocities,r.state.lastIdealStyles,r.state.lastIdealVelocities),o=t[0],a=t[1],i=t[2],s=t[3],l=t[4],u=0;u<e.length;u++){var c=e[u].style,f=!1;for(var d in c)if(Object.prototype.hasOwnProperty.call(c,d)){var p=c[d];"number"==typeof p&&(f||(f=!0,a[u]=n({},a[u]),i[u]=n({},i[u]),s[u]=n({},s[u]),l[u]=n({},l[u]),o[u]={key:o[u].key,data:o[u].data,style:n({},o[u].style)}),a[u][d]=p,i[u][d]=0,s[u][d]=p,l[u][d]=0,o[u].style[d]=p)}}r.setState({currentStyles:a,currentVelocities:i,mergedPropsStyles:o,lastIdealStyles:s,lastIdealVelocities:l})},this.startAnimationIfNecessary=function(){r.unmounting||(r.animationID=f.default(function(e){if(!r.unmounting){var t=r.props.styles,o="function"==typeof t?t(h(r.state.mergedPropsStyles,r.unreadPropStyles,r.state.lastIdealStyles)):t;if(function(e,t,o,n){if(n.length!==t.length)return!1;for(var r=0;r<n.length;r++)if(n[r].key!==t[r].key)return!1;for(r=0;r<n.length;r++)if(!d.default(e[r],t[r].style,o[r]))return!1;return!0}(r.state.currentStyles,o,r.state.currentVelocities,r.state.mergedPropsStyles))return r.animationID=null,void(r.accumulatedTime=0);var n=e||c.default(),a=n-r.prevTime;if(r.prevTime=n,r.accumulatedTime=r.accumulatedTime+a,r.accumulatedTime>10*y&&(r.accumulatedTime=0),0===r.accumulatedTime)return r.animationID=null,void r.startAnimationIfNecessary();for(var i=(r.accumulatedTime-Math.floor(r.accumulatedTime/y)*y)/y,s=Math.floor(r.accumulatedTime/y),u=v(r.props.willEnter,r.props.willLeave,r.props.didLeave,r.state.mergedPropsStyles,o,r.state.currentStyles,r.state.currentVelocities,r.state.lastIdealStyles,r.state.lastIdealVelocities),f=u[0],p=u[1],m=u[2],b=u[3],g=u[4],w=0;w<f.length;w++){var _=f[w].style,j={},x={},S={},O={};for(var k in _)if(Object.prototype.hasOwnProperty.call(_,k)){var P=_[k];if("number"==typeof P)j[k]=P,x[k]=0,S[k]=P,O[k]=0;else{for(var T=b[w][k],I=g[w][k],E=0;E<s;E++){var M=l.default(y/1e3,T,I,P.val,P.stiffness,P.damping,P.precision);T=M[0],I=M[1]}var z=l.default(y/1e3,T,I,P.val,P.stiffness,P.damping,P.precision),L=z[0],D=z[1];j[k]=T+(L-T)*i,x[k]=I+(D-I)*i,S[k]=T,O[k]=I}}b[w]=S,g[w]=O,p[w]=j,m[w]=x}r.animationID=null,r.accumulatedTime-=s*y,r.setState({currentStyles:p,currentVelocities:m,lastIdealStyles:b,lastIdealVelocities:g,mergedPropsStyles:f}),r.unreadPropStyles=null,r.startAnimationIfNecessary()}}))},this.state=this.defaultState()}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,null,[{key:"propTypes",value:{defaultStyles:m.default.arrayOf(m.default.shape({key:m.default.string.isRequired,data:m.default.any,style:m.default.objectOf(m.default.number).isRequired})),styles:m.default.oneOfType([m.default.func,m.default.arrayOf(m.default.shape({key:m.default.string.isRequired,data:m.default.any,style:m.default.objectOf(m.default.oneOfType([m.default.number,m.default.object])).isRequired}))]).isRequired,children:m.default.func.isRequired,willEnter:m.default.func,willLeave:m.default.func,didLeave:m.default.func},enumerable:!0},{key:"defaultProps",value:{willEnter:function(e){return s.default(e.style)},willLeave:function(){return null},didLeave:function(){}},enumerable:!0}]),t.prototype.defaultState=function(){var e=this.props,t=e.defaultStyles,o=e.styles,n=e.willEnter,r=e.willLeave,a=e.didLeave,l="function"==typeof o?o(t):o,u=void 0;u=null==t?l:t.map(function(e){for(var t=0;t<l.length;t++)if(l[t].key===e.key)return l[t];return e});var c=null==t?l.map(function(e){return s.default(e.style)}):t.map(function(e){return s.default(e.style)}),f=null==t?l.map(function(e){return i.default(e.style)}):t.map(function(e){return i.default(e.style)}),d=v(n,r,a,u,l,c,f,c,f),p=d[0];return{currentStyles:d[1],currentVelocities:d[2],lastIdealStyles:d[3],lastIdealVelocities:d[4],mergedPropsStyles:p}},t.prototype.componentDidMount=function(){this.prevTime=c.default(),this.startAnimationIfNecessary()},t.prototype.componentWillReceiveProps=function(e){this.unreadPropStyles&&this.clearUnreadPropStyle(this.unreadPropStyles);var t=e.styles;this.unreadPropStyles="function"==typeof t?t(h(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.lastIdealStyles)):t,null==this.animationID&&(this.prevTime=c.default(),this.startAnimationIfNecessary())},t.prototype.componentWillUnmount=function(){this.unmounting=!0,null!=this.animationID&&(f.default.cancel(this.animationID),this.animationID=null)},t.prototype.render=function(){var e=h(this.state.mergedPropsStyles,this.unreadPropStyles,this.state.currentStyles),t=this.props.children(e);return t&&p.default.Children.only(t)},t}(p.default.Component);t.default=b,e.exports=t.default},"./node_modules/react-motion/lib/mapToZero.js":function(e,t,o){"use strict";t.__esModule=!0,t.default=function(e){var t={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=0);return t},e.exports=t.default},"./node_modules/react-motion/lib/mergeDiff.js":function(e,t,o){"use strict";t.__esModule=!0,t.default=function(e,t,o){for(var n={},r=0;r<e.length;r++)n[e[r].key]=r;for(var a={},r=0;r<t.length;r++)a[t[r].key]=r;for(var i=[],r=0;r<t.length;r++)i[r]=t[r];for(var r=0;r<e.length;r++)if(!Object.prototype.hasOwnProperty.call(a,e[r].key)){var s=o(r,e[r]);null!=s&&i.push(s)}return i.sort(function(e,o){var r=a[e.key],i=a[o.key],s=n[e.key],l=n[o.key];if(null!=r&&null!=i)return a[e.key]-a[o.key];if(null!=s&&null!=l)return n[e.key]-n[o.key];if(null!=r){for(var u=0;u<t.length;u++){var c=t[u].key;if(Object.prototype.hasOwnProperty.call(n,c)){if(r<a[c]&&l>n[c])return-1;if(r>a[c]&&l<n[c])return 1}}return 1}for(var u=0;u<t.length;u++){var c=t[u].key;if(Object.prototype.hasOwnProperty.call(n,c)){if(i<a[c]&&s>n[c])return 1;if(i>a[c]&&s<n[c])return-1}}return-1})},e.exports=t.default},"./node_modules/react-motion/lib/presets.js":function(e,t,o){"use strict";t.__esModule=!0,t.default={noWobble:{stiffness:170,damping:26},gentle:{stiffness:120,damping:14},wobbly:{stiffness:180,damping:12},stiff:{stiffness:210,damping:20}},e.exports=t.default},"./node_modules/react-motion/lib/react-motion.js":function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e.default:e}t.__esModule=!0;var r=o("./node_modules/react-motion/lib/Motion.js");t.Motion=n(r);var a=o("./node_modules/react-motion/lib/StaggeredMotion.js");t.StaggeredMotion=n(a);var i=o("./node_modules/react-motion/lib/TransitionMotion.js");t.TransitionMotion=n(i);var s=o("./node_modules/react-motion/lib/spring.js");t.spring=n(s);var l=o("./node_modules/react-motion/lib/presets.js");t.presets=n(l);var u=o("./node_modules/react-motion/lib/stripStyle.js");t.stripStyle=n(u);var c=o("./node_modules/react-motion/lib/reorderKeys.js");t.reorderKeys=n(c)},"./node_modules/react-motion/lib/reorderKeys.js":function(e,t,o){"use strict";t.__esModule=!0,t.default=function(){0};e.exports=t.default},"./node_modules/react-motion/lib/shouldStopAnimation.js":function(e,t,o){"use strict";t.__esModule=!0,t.default=function(e,t,o){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(0!==o[n])return!1;var r="number"==typeof t[n]?t[n]:t[n].val;if(e[n]!==r)return!1}return!0},e.exports=t.default},"./node_modules/react-motion/lib/spring.js":function(e,t,o){"use strict";t.__esModule=!0;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e};t.default=function(e,t){return n({},s,t,{val:e})};var r,a=o("./node_modules/react-motion/lib/presets.js"),i=(r=a)&&r.__esModule?r:{default:r},s=n({},i.default.noWobble,{precision:.01});e.exports=t.default},"./node_modules/react-motion/lib/stepper.js":function(e,t,o){"use strict";t.__esModule=!0,t.default=function(e,t,o,r,a,i,s){var l=o+(-a*(t-r)+-i*o)*e,u=t+l*e;if(Math.abs(l)<s&&Math.abs(u-r)<s)return n[0]=r,n[1]=0,n;return n[0]=u,n[1]=l,n};var n=[0,0];e.exports=t.default},"./node_modules/react-motion/lib/stripStyle.js":function(e,t,o){"use strict";t.__esModule=!0,t.default=function(e){var t={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]="number"==typeof e[o]?e[o]:e[o].val);return t},e.exports=t.default},"./node_modules/style-loader/lib/addStyles.js":function(e,t,o){var n,r,a={},i=(n=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===r&&(r=n.apply(this,arguments)),r}),s=function(e){var t={};return function(e){if(void 0===t[e]){var o=function(e){return document.querySelector(e)}.call(this,e);if(o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch(e){o=null}t[e]=o}return t[e]}}(),l=null,u=0,c=[],f=o("./node_modules/style-loader/lib/urls.js");function d(e,t){for(var o=0;o<e.length;o++){var n=e[o],r=a[n.id];if(r){r.refs++;for(var i=0;i<r.parts.length;i++)r.parts[i](n.parts[i]);for(;i<n.parts.length;i++)r.parts.push(b(n.parts[i],t))}else{var s=[];for(i=0;i<n.parts.length;i++)s.push(b(n.parts[i],t));a[n.id]={id:n.id,refs:1,parts:s}}}}function p(e,t){for(var o=[],n={},r=0;r<e.length;r++){var a=e[r],i=t.base?a[0]+t.base:a[0],s={css:a[1],media:a[2],sourceMap:a[3]};n[i]?n[i].parts.push(s):o.push(n[i]={id:i,parts:[s]})}return o}function m(e,t){var o=s(e.insertInto);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=c[c.length-1];if("top"===e.insertAt)n?n.nextSibling?o.insertBefore(t,n.nextSibling):o.appendChild(t):o.insertBefore(t,o.firstChild),c.push(t);else if("bottom"===e.insertAt)o.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=s(e.insertInto+" "+e.insertAt.before);o.insertBefore(t,r)}}function y(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=c.indexOf(e);t>=0&&c.splice(t,1)}function h(e){var t=document.createElement("style");return e.attrs.type="text/css",v(t,e.attrs),m(e,t),t}function v(e,t){Object.keys(t).forEach(function(o){e.setAttribute(o,t[o])})}function b(e,t){var o,n,r,a;if(t.transform&&e.css){if(!(a=t.transform(e.css)))return function(){};e.css=a}if(t.singleton){var i=u++;o=l||(l=h(t)),n=_.bind(null,o,i,!1),r=_.bind(null,o,i,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(o=function(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",v(t,e.attrs),m(e,t),t}(t),n=function(e,t,o){var n=o.css,r=o.sourceMap,a=void 0===t.convertToAbsoluteUrls&&r;(t.convertToAbsoluteUrls||a)&&(n=f(n));r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var i=new Blob([n],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(i),s&&URL.revokeObjectURL(s)}.bind(null,o,t),r=function(){y(o),o.href&&URL.revokeObjectURL(o.href)}):(o=h(t),n=function(e,t){var o=t.css,n=t.media;n&&e.setAttribute("media",n);if(e.styleSheet)e.styleSheet.cssText=o;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(o))}}.bind(null,o),r=function(){y(o)});return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else r()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=i()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var o=p(e,t);return d(o,t),function(e){for(var n=[],r=0;r<o.length;r++){var i=o[r];(s=a[i.id]).refs--,n.push(s)}e&&d(p(e,t),t);for(r=0;r<n.length;r++){var s;if(0===(s=n[r]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete a[s.id]}}}};var g,w=(g=[],function(e,t){return g[e]=t,g.filter(Boolean).join("\n")});function _(e,t,o,n){var r=o?"":n.css;if(e.styleSheet)e.styleSheet.cssText=w(t,r);else{var a=document.createTextNode(r),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(a,i[t]):e.appendChild(a)}}},"./node_modules/style-loader/lib/urls.js":function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var o=t.protocol+"//"+t.host,n=o+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var r,a=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(a)?e:(r=0===a.indexOf("//")?a:0===a.indexOf("/")?o+a:n+a.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")})}},"./node_modules/webpack/buildin/global.js":function(e,t){var o;o=function(){return this}();try{o=o||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(o=window)}e.exports=o},"./src/components/Background/index.js":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(o("react")),r=o("./node_modules/react-motion/lib/react-motion.js"),a=s(o("./src/components/Background/index.less")),i=o("./src/utils/index.js");function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){var t=e.show,o=e.zoom,s=e.unmountSelf,l=e.toggleZoom;return n.default.createElement(r.Motion,{defaultStyle:{opacity:0},style:(0,i.springlization)({opacity:t?1:0})},function(e){var t=e.opacity;return n.default.createElement("div",{className:a.default.backgroundLayer,onClick:o?l:s,style:{opacity:t}})})}},"./src/components/Background/index.less":function(e,t,o){var n=o("./node_modules/css-loader/index.js??ref--4-1!./node_modules/postcss-loader/lib/index.js??postcss!./node_modules/less-loader/dist/cjs.js!./src/components/Background/index.less");"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0};o("./node_modules/style-loader/lib/addStyles.js")(n,r);n.locals&&(e.exports=n.locals)},"./src/components/Control/index.js":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),r=o("react"),a=u(r),i=o("./node_modules/react-motion/lib/react-motion.js"),s=u(o("./src/components/Control/index.less")),l=o("./src/utils/index.js");function u(e){return e&&e.__esModule?e:{default:e}}var c={over:20,rotate:45,opacity:0},f={over:0,rotate:0,opacity:1},d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.state={motionStyle:c},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default.PureComponent),n(t,[{key:"componentWillReceiveProps",value:function(e){e.show?this.setState({motionStyle:f}):this.setState({motionStyle:c})}},{key:"render",value:function(){var e=this.props,t=e.zoom,o=e.page,n=e.set,u=e.mobile,c=e.controller,f=e.unmountSelf,d=e.toggleZoom,p=e.jumpPages,m=this.state.motionStyle;return a.default.createElement(i.Motion,{style:(0,l.springlization)({over:m.over,rotate:m.rotate,opacity:m.opacity})},function(e){var i=e.over,l=e.rotate,m=e.opacity;return a.default.createElement(r.Fragment,null,a.default.createElement("div",{className:s.default.controls},!t&&c.zoom&&a.default.createElement("div",{className:s.default.zoomButton,onClick:u?function(){return window.open(n[o].src)}:d,style:{opacity:m,transform:"rotate("+l+"deg)"}}),!t&&c.close&&a.default.createElement("div",{className:s.default.closeButton,onClick:t?d:f},a.default.createElement("div",{className:s.default.crossLine,style:{opacity:m,transform:"rotate("+(45-l)+"deg)"}}),a.default.createElement("div",{className:s.default.crossLine,style:{opacity:m,transform:"rotate("+-(45-l)+"deg)"}}))),n.length>1&&!t&&c.pagination&&a.default.createElement("div",{className:s.default.pages,style:{opacity:m,transform:"translateY("+i+"px)"}},n.map(function(e,t){return t===o?a.default.createElement("span",{key:t,className:s.default.blackDot}):a.default.createElement("span",{key:t,className:s.default.whiteDot,onClick:function(){return p(t)}})})))})}}]),t}();t.default=d},"./src/components/Control/index.less":function(e,t,o){var n=o("./node_modules/css-loader/index.js??ref--4-1!./node_modules/postcss-loader/lib/index.js??postcss!./node_modules/less-loader/dist/cjs.js!./src/components/Control/index.less");"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0};o("./node_modules/style-loader/lib/addStyles.js")(n,r);n.locals&&(e.exports=n.locals)},"./src/components/Image/index.js":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},r=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),a=o("react"),i=c(a),s=o("./node_modules/react-motion/lib/react-motion.js"),l=c(o("./src/components/Image/index.less")),u=o("./src/utils/index.js");function c(e){return e&&e.__esModule?e:{default:e}}var f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));d.call(o),o.initialPageOffset=window.pageYOffset;var n=o.coverPosition(),r=n.x,a=n.y,i=o.coverSize().scale;return o.state={initialPageOffset:window.pageYOffset,naturalSize:null,moveRange:null,defaultStyle:{x:r,y:a,scale:i},currentStyle:{x:r,y:a,scale:i}},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.PureComponent),r(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.show,o=e.zoom,r=void 0,a=void 0;t?(r=this.pagePosition(),o?(this.updateZoomMovePositionRange(),a=this.originalSize(),(0,u.addListenEventOf)("mousemove",this.handleMouseMove)):(a=this.pageFitSize(),(0,u.removeListenEventOf)("mousemove",this.handleMouseMove))):(r=this.coverPosition(),a=this.coverSize(),(0,u.removeListenEventOf)("mousemove",this.handleMouseMove)),this.setStyle(n({},r,a))}},{key:"render",value:function(){var e=this,t=this.props,o=t.show,n=t.zoom,r=t.page,c=t.set,f=t.toggleZoom,d=this.state,p=d.defaultStyle,m=d.currentStyle;return i.default.createElement(a.Fragment,null,i.default.createElement(s.Motion,{defaultStyle:p,style:(0,u.springlization)({x:m.x,y:m.y,scale:m.scale}),onRest:this.handleMotionRest},function(t){var a=t.x,s=t.y,d=t.scale;return i.default.createElement("img",{key:r,className:l.default.imageLayer,style:{top:o?"50%":(0,u.windowHeight)()/2-(window.pageYOffset-e.initialPageOffset),transform:"translate3d(-50%, -50%, 0) translate3d("+a+"px, "+s+"px, 0px) scale3d("+d+", "+d+", 1)",cursor:n?"zoom-out":"initial"},src:c[r].src,alt:c[r].alt,onClick:n?f:function(){}})}))}}]),t}(),d=function(){var e=this;this.coverSize=function(){var t=e.props.cover;return{scale:t.width/t.naturalWidth}},this.pageFitSize=function(){var t=e.props,o=t.cover,n=t.margin;return{scale:(0,u.calcFitScale)(o,n)}},this.originalSize=function(){return{scale:1}},this.updateZoomMovePositionRange=function(){var t=e.props,o=t.set,n=t.zoom,r=t.page,a=t.margin;console.log(o[r]);var i=new Image;i.src=o[r].src,i.onload=function(){var t=i.naturalWidth,o=i.naturalHeight;e.setState({naturalSize:n?null:{naturalWidth:t,naturalHeight:o},moveRange:n?null:{x:t-(0,u.scrollWidth)()+2*a,y:o-(0,u.windowHeight)()+2*a}})}},this.coverPosition=function(){var t=e.props,o=t.page,n=t.cover.getBoundingClientRect(),r=n.top,a=n.left,i=n.width,s=n.height;return 0===o?{x:-(0,u.scrollWidth)()/2+a+i/2,y:-(0,u.windowHeight)()/2+r+s/2}:{x:0,y:-(0,u.windowHeight)()}},this.pagePosition=function(){return{x:0,y:0}},this.mouseContrastPosition=function(t){var o=e.props.margin,n=e.state,r=n.naturalSize,a=n.moveRange,i=r.naturalWidth,s=r.naturalHeight,l=(0,u.scrollWidth)(),c=(0,u.windowHeight)(),f=t.clientX,d=t.clientY;return{x:i>l?(i-l)/2+o-a.x*(f/l):0,y:s>c?(s-c)/2+o-a.y*(d/c):0}},this.handleMouseMove=function(t){e.setStyle(e.mouseContrastPosition(t))},this.handleMotionRest=function(){var t=e.props,o=t.cover,n=t.remove;e.props.show||(o.style.visibility="visible",n())},this.setStyle=function(t){var o=e.state.currentStyle,n=t.x,r=void 0===n?o.x:n,a=t.y,i=void 0===a?o.y:a,s=t.scale,l=void 0===s?o.scale:s;e.setState({currentStyle:{x:r,y:i,scale:l}})}};t.default=f},"./src/components/Image/index.less":function(e,t,o){var n=o("./node_modules/css-loader/index.js??ref--4-1!./node_modules/postcss-loader/lib/index.js??postcss!./node_modules/less-loader/dist/cjs.js!./src/components/Image/index.less");"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0};o("./node_modules/style-loader/lib/addStyles.js")(n,r);n.locals&&(e.exports=n.locals)},"./src/components/Portals/index.js":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),r=i(o("react")),a=i(o("react-dom"));function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.target=e.target||document.body,o.element=document.createElement("div"),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),n(t,[{key:"componentDidMount",value:function(){this.target.appendChild(this.element)}},{key:"componentWillUnmount",value:function(){this.target.removeChild(this.element)}},{key:"render",value:function(){return a.default.createPortal(this.props.children,this.element)}}]),t}();t.default=s},"./src/components/Wrapper/index.js":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),r=d(o("react")),a=d(o("prop-types")),i=d(o("./src/components/Wrapper/index.less")),s=d(o("./src/components/Control/index.js")),l=d(o("./src/components/Image/index.js")),u=d(o("./src/components/Background/index.js")),c=o("./src/config/default.js"),f=o("./src/utils/index.js");function d(e){return e&&e.__esModule?e:{default:e}}var p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));o.mountSelf=function(){o.props.cover.style.visibility="hidden",o.setState({show:!0},function(){(0,f.addListenEventOf)("keydown",o.handleKeyDown),(0,f.addListenEventOf)("scroll",o.handleScroll),(0,f.addListenEventOf)("touchmove",o.handleScroll)})},o.unmountSelf=function(){var e=o.props.cover;0!==o.state.page&&(e.style.visibility="visible"),o.setState({show:!1})},o.handleKeyDown=function(e){e.preventDefault();var t=o.props,n=t.set,r=t.hotKey,a=o.state.zoom,i=n&&n.constructor===Array,s=o.handleSwitchPages("prev"),l=o.handleSwitchPages("next");switch(e.key){case"ArrowLeft":!a&&r.flip&&i&&s();break;case"ArrowRight":!a&&r.flip&&i&&l();break;case" ":r.zoom&&o.handleToggleZoom();break;case"Escape":r.close&&(a?o.handleToggleZoom():o.unmountSelf());break;default:return}},o.handleScroll=function(e){o.state.show&&o.unmountSelf()},o.handleJumpPages=function(e){o.setState({page:e})},o.handleSwitchPages=function(e){return function(){var t=o.props.set,n=o.state.page;o.setState({page:"prev"===e?Math.abs(t.length+n-1)%t.length:(n+1)%t.length})}},o.handleToggleZoom=function(){o.setState({zoom:!o.state.zoom})};var n=(0,f.mobileCheck)();return o.state={show:!1,zoom:!1,page:0,mobile:n,margin:n?0:e.margin},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.PureComponent),n(t,[{key:"componentDidMount",value:function(){this.mountSelf()}},{key:"componentWillUnmount",value:function(){(0,f.removeListenEventOf)("keydown",this.handleKeyDown),(0,f.removeListenEventOf)("scroll",this.handleScroll),(0,f.removeListenEventOf)("touchmove",this.handleScroll)}},{key:"render",value:function(){var e=this.props,t=e.cover,o=e.set,n=e.controller,a=e.remove,c=this.state,f=c.show,d=c.zoom,p=c.page,m=c.mobile,y=c.margin;return r.default.createElement("div",{className:i.default.wrapperLayer},r.default.createElement(s.default,{set:o,show:f,zoom:d,page:p,mobile:m,controller:n,unmountSelf:this.unmountSelf,jumpPages:this.handleJumpPages,toggleZoom:this.handleToggleZoom}),r.default.createElement(l.default,{set:o,show:f,zoom:d,page:p,cover:t,mobile:m,remove:a,margin:y,toggleZoom:this.handleToggleZoom}),r.default.createElement(u.default,{show:f,unmountSelf:this.unmountSelf,toggleZoom:this.handleToggleZoom}))}}]),t}();t.default=p,p.defaultProps={cover:{},set:[],controller:c.defProp.controller,hotKey:c.defProp.hotKey,margin:c.defProp.margin,remove:function(){}},p.propTypes={cover:a.default.object,set:c.defType.set,controller:c.defType.controller,hotKey:c.defType.hotKey,margin:c.defType.margin,remove:a.default.func}},"./src/components/Wrapper/index.less":function(e,t,o){var n=o("./node_modules/css-loader/index.js??ref--4-1!./node_modules/postcss-loader/lib/index.js??postcss!./node_modules/less-loader/dist/cjs.js!./src/components/Wrapper/index.less");"string"==typeof n&&(n=[[e.i,n,""]]);var r={hmr:!0,transform:void 0};o("./node_modules/style-loader/lib/addStyles.js")(n,r);n.locals&&(e.exports=n.locals)},"./src/config/default.js":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defType=t.defProp=void 0;var n,r=o("prop-types"),a=(n=r)&&n.__esModule?n:{default:n};t.defProp={controller:{pagination:!0,title:!0,close:!0,zoom:!0,flip:!0},hotKey:{close:!0,zoom:!0,flip:!0},margin:50,springOption:{stiffness:200,damping:25,precision:.01}},t.defType={set:a.default.oneOfType([a.default.arrayOf(a.default.shape({src:a.default.string,alt:a.default.string,text:a.default.string})),a.default.shape({src:a.default.string,alt:a.default.string,text:a.default.string})]),controller:a.default.shape({pagination:a.default.bool,title:a.default.bool,close:a.default.bool,zoom:a.default.bool,flip:a.default.bool}),hotKey:a.default.shape({close:a.default.bool,zoom:a.default.bool,flip:a.default.bool}),margin:a.default.number,springOption:a.default.shape({stiffness:a.default.number,damping:a.default.number})}},"./src/index.js":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},r=function(){function e(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),a=o("react"),i=f(a),s=f(o("prop-types")),l=f(o("./src/components/Portals/index.js")),u=f(o("./src/components/Wrapper/index.js")),c=o("./src/config/default.js");function f(e){return e&&e.__esModule?e:{default:e}}var d=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return p.call(o),o.cover=null,o.state={browsing:!1,set:o.buildImageSet(e)},o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.PureComponent),r(t,[{key:"render",value:function(){var e=this,t=this.state,o=t.browsing,r=t.set,s=this.props,f=s.className,d=s.src,p=s.alt,m=s.controller,y=s.hotKey,h=s.style,v=function(e,t){var o={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(o[n]=e[n]);return o}(s,["className","src","alt","controller","hotKey","style"]);return i.default.createElement(a.Fragment,null,i.default.createElement("img",n({ref:function(t){return e.cover=t},className:f,src:d,alt:p,title:p,style:n({cursor:"zoom-in"},h),onClick:this.browsing},v)),o&&i.default.createElement(l.default,null,i.default.createElement(u.default,{set:r,cover:this.cover,controller:n({},c.defProp.controller,m),hotKey:n({},c.defProp.hotKey,y),remove:this.unBrowsing})))}}]),t}(),p=function(){var e=this;this.buildImageSet=function(e){var t=e.set,o=e.src,n=e.alt,r=e.txt;return t&&t.constructor===Array&&t.length>1?t:[{src:o,alt:n,txt:r}]},this.browsing=function(){var t=e.props.onClick;t&&t.constructor===Function&&t(),e.setState({browsing:!0})},this.unBrowsing=function(){e.setState({browsing:!1})}};t.default=d,d.defaultProps={src:"",alt:"",txt:"",set:[],controller:c.defProp.controller,hotKey:c.defProp.hotKey},d.propTypes={src:s.default.string.isRequired,alt:s.default.string,txt:s.default.string,set:c.defType.set,controller:c.defType.controller,hotKey:c.defType.hotKey}},"./src/utils/index.js":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.springlization=t.mobileCheck=t.clientHeight=t.scrollHeight=t.windowHeight=t.clientWidth=t.scrollWidth=t.windowWidth=t.removeListenEventOf=t.addListenEventOf=t.calcFitScale=void 0;var n=o("./src/config/default.js"),r=o("./node_modules/react-motion/lib/react-motion.js"),a=(t.calcFitScale=function(e,t){var o=a()/(e.naturalWidth+2*t),n=i()/(e.naturalHeight+2*t);return Math.min(o,n)},t.addListenEventOf=function(e,t){window.addEventListener(e,t,!0)},t.removeListenEventOf=function(e,t){window.removeEventListener(e,t,!0)},t.windowWidth=function(){return window.innerWidth},t.scrollWidth=function(){return document.body.scrollWidth},t.clientWidth=function(){return document.documentElement.clientWidth}),i=(t.windowHeight=function(){return window.innerHeight},t.scrollHeight=function(){return document.body.scrollHeight},t.clientHeight=function(){return document.documentElement.clientHeight});t.mobileCheck=function(){var e=!1,t=navigator.userAgent||navigator.vendor||window.opera;return(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0),e},t.springlization=function(e){var t={};for(var o in e)t[o]=(0,r.spring)(e[o],n.defProp.springOption);return t}},0:function(e,t,o){e.exports=o("./src/index.js")},"prop-types":function(e,o){e.exports=t},react:function(t,o){t.exports=e},"react-dom":function(e,t){e.exports=o}})});